[
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634976",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634976",
    "key": "KAFKA-19911",
    "fields": {
      "summary": "Flaky test ShareConsumerTest.testShareGroupMaxSizeConfigExceeded",
      "created": "2025-11-24T01:53:09.000+0000",
      "description": "[https://develocity.apache.org/scans/tests?search.relativeStartTime=P28D&search.rootProjectNames=kafka&search.timeZoneId=America%2FLos_Angeles&tests.container=org.apache.kafka.clients.consumer.ShareConsumerTest&tests.test=testShareGroupMaxSizeConfigExceeded()%5B1%5D]\r\n\r\n \r\n{code:java}\r\norg.opentest4j.AssertionFailedError: Condition not met within timeout 30000. The 4th consumer was not kicked out of the group ==> expected: <true> but was: <false>at org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)at org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)at org.junit.jupiter.api.AssertTrue.failNotTrue(AssertTrue.java:63)at org.junit.jupiter.api.AssertTrue.assertTrue(AssertTrue.java:36)at org.junit.jupiter.api.Assertions.assertTrue(Assertions.java:214)at org.apache.kafka.test.TestUtils.lambda$waitForCondition$5(TestUtils.java:445)at org.apache.kafka.test.TestUtils.retryOnExceptionWithTimeout(TestUtils.java:493)at org.apache.kafka.test.TestUtils.waitForCondition(TestUtils.java:442)at org.apache.kafka.clients.consumer.ShareConsumerTest.testShareGroupMaxSizeConfigExceeded(ShareConsumerTest.java:2370)at java.lang.reflect.Method.invoke(Method.java:569)at java.util.Optional.ifPresent(Optional.java:178)at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)at java.util.ArrayList.forEach(ArrayList.java:1511)at java.util.ArrayList.forEach(ArrayList.java:1511) {code}\r\nFail logs:\r\n{code:java}\r\n[2025-11-19 10:02:14,812] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,829] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,830] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,834] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,844] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,845] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\nBootstrap metadata: BootstrapMetadata(records=[ApiMessageAndVersion(FeatureLevelRecord(name='metadata.version', featureLevel=29) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='eligible.leader.replicas.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='group.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='share.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='streams.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='transaction.version', featureLevel=2) at version 0)], metadataVersionLevel=29, source=format command)\r\nFormatting metadata directory /tmp/kafka-14829393993145388027/controller_3000 with metadata.version 4.2-IV1.\r\nBootstrap metadata: BootstrapMetadata(records=[ApiMessageAndVersion(FeatureLevelRecord(name='metadata.version', featureLevel=29) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='eligible.leader.replicas.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='group.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='share.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='streams.version', featureLevel=1) at version 0), ApiMessageAndVersion(FeatureLevelRecord(name='transaction.version', featureLevel=2) at version 0)], metadataVersionLevel=29, source=format command)\r\nFormatting metadata directory /tmp/kafka-14829393993145388027/broker_0_data0 with metadata.version 4.2-IV1.\r\n[2025-11-19 10:02:14,870] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,871] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,875] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,887] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:14,924] WARN [QuorumController id=3000] Performing controller activation. The metadata log appears to be empty. Appending 6 bootstrap record(s) in metadata transaction at metadata.version 4.2-IV1 from bootstrap source 'testkit'. (org.apache.kafka.controller.QuorumController:106)\r\n[2025-11-19 10:02:14,951] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:15,010] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:15,024] WARN 'share' in group.coordinator.rebalance.protocols is deprecated. Share groups are controlled by the 'share.version' feature; this broker config will be ignored in a future release. (kafka.server.KafkaConfig:73)\r\n[2025-11-19 10:02:15,256] WARN Share groups and KafkaShareConsumer are part of a preview feature introduced by KIP-932, and are not recommended for use in production. (org.apache.kafka.clients.consumer.internals.ShareConsumerDelegateCreator:48)\r\n[2025-11-19 10:02:20,615] WARN Share groups and KafkaShareConsumer are part of a preview feature introduced by KIP-932, and are not recommended for use in production. (org.apache.kafka.clients.consumer.internals.ShareConsumerDelegateCreator:48)\r\n[2025-11-19 10:02:20,616] WARN Share groups and KafkaShareConsumer are part of a preview feature introduced by KIP-932, and are not recommended for use in production. (org.apache.kafka.clients.consumer.internals.ShareConsumerDelegateCreator:48)\r\n[2025-11-19 10:02:20,617] WARN Share groups and KafkaShareConsumer are part of a preview feature introduced by KIP-932, and are not recommended for use in production. (org.apache.kafka.clients.consumer.internals.ShareConsumerDelegateCreator:48)\r\n[2025-11-19 10:02:35,623] WARN Share groups and KafkaShareConsumer are part of a preview feature introduced by KIP-932, and are not recommended for use in production. (org.apache.kafka.clients.consumer.internals.ShareConsumerDelegateCreator:48)\r\n[2025-11-19 10:02:35,632] ERROR [ShareConsumer clientId=consumer-group1-241, groupId=group1] ShareGroupHeartbeatRequest failed due to GROUP_MAX_SIZE_REACHED: The share group has reached its maximum capacity of 3 members. (org.apache.kafka.clients.consumer.internals.ShareHeartbeatRequestManager:405)\r\n[2025-11-19 10:02:35,632] ERROR [ShareConsumer clientId=consumer-group1-241, groupId=group1] Member parZioqNSU-v1HQJcS9PTg with epoch 0 transitioned to fatal state (org.apache.kafka.clients.consumer.internals.ShareMembershipManager:445)\r\n[2025-11-19 10:02:40,628] WARN [ShareConsumer clientId=consumer-group1-241, groupId=group1] Exception thrown in acknowledgement commit callback (org.apache.kafka.clients.consumer.internals.ShareConsumerImpl:618)\r\norg.apache.kafka.common.errors.GroupMaxSizeReachedException: The share group has reached its maximum capacity of 3 members.\r\n[2025-11-19 10:03:06,758] ERROR No share partition found for groupId group1 topicPartition aB3To2-gSTyuhHYJPFV0Ng:topic-0 while releasing acquired topic partitions (kafka.server.share.SharePartitionManager:380)\r\n[2025-11-19 10:03:06,760] ERROR No share partition found for groupId group1 topicPartition aB3To2-gSTyuhHYJPFV0Ng:topic-0 while releasing acquired topic partitions (kafka.server.share.SharePartitionManager:380)\r\n[2025-11-19 10:03:06,855] WARN [ShareConsumer clientId=consumer-group1-239, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,859] WARN [ShareConsumer clientId=consumer-group1-238, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,864] WARN [ShareConsumer clientId=consumer-group1-240, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,868] WARN [ShareConsumer clientId=consumer-group1-241, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,870] WARN [ShareConsumer clientId=consumer-group1-241, groupId=group1] Connection to node -1 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,870] WARN [ShareConsumer clientId=consumer-group1-241, groupId=group1] Bootstrap broker localhost:44511 (id: -1 rack: null isFenced: false) disconnected (org.apache.kafka.clients.NetworkClient:1255)\r\n[2025-11-19 10:03:06,961] WARN [ShareConsumer clientId=consumer-group1-238, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,968] WARN [ShareConsumer clientId=consumer-group1-240, groupId=group1] Connection to node 0 (localhost/127.0.0.1:44511) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient:899)\r\n[2025-11-19 10:03:06,977] WARN [NodeToControllerChannelManager id=3000 name=registration] Attempting to close NetworkClient that has already been closed. (org.apache.kafka.clients.NetworkClient:744) {code}",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634976/comment/18040220",
            "id": "18040220",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "I assume this is already fixed by KAFKA-19840. [~francisgodinho] can you reproduce the flaky on your local?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-24T05:35:32.612+0000",
            "updated": "2025-11-24T05:35:32.612+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634976/comment/18040221",
            "id": "18040221",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=francisgodinho",
              "name": "francisgodinho",
              "key": "JIRAUSER308403",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
              },
              "displayName": "Francis Godinho",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~chia7712]  Ah sorry, I didn't see that ticket. Haven't been able to reproduce it yet so gonna close this one out.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=francisgodinho",
              "name": "francisgodinho",
              "key": "JIRAUSER308403",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
              },
              "displayName": "Francis Godinho",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-24T05:54:43.097+0000",
            "updated": "2025-11-24T05:54:43.097+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=francisgodinho",
        "name": "francisgodinho",
        "key": "JIRAUSER308403",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
        },
        "displayName": "Francis Godinho",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "flaky-test"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634953",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634953",
    "key": "KAFKA-19910",
    "fields": {
      "summary": "Support rack awareness in UniformHeterogeneousAssignmentBuilder",
      "created": "2025-11-23T09:36:23.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
        "name": "yangpoan",
        "key": "JIRAUSER300229",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
        },
        "displayName": "PoAn Yang",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/3",
        "description": "This issue is being actively worked on at the moment by the assignee.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
        "name": "In Progress",
        "id": "3",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634952",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634952",
    "key": "KAFKA-19909",
    "fields": {
      "summary": "Support rack awareness in UniformHomogeneousAssignmentBuilder",
      "created": "2025-11-23T09:35:57.000+0000",
      "description": null,
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634952/comment/18040126",
            "id": "18040126",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "PR: [https://github.com/apache/kafka/pull/20000]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-23T09:37:10.491+0000",
            "updated": "2025-11-23T09:37:10.491+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
        "name": "yangpoan",
        "key": "JIRAUSER300229",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
        },
        "displayName": "PoAn Yang",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/3",
        "description": "This issue is being actively worked on at the moment by the assignee.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
        "name": "In Progress",
        "id": "3",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634951",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634951",
    "key": "KAFKA-19908",
    "fields": {
      "summary": "Support rack awareness in RangeAssignor#assignHeterogeneousGroup",
      "created": "2025-11-23T09:35:27.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
        "name": "yangpoan",
        "key": "JIRAUSER300229",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
        },
        "displayName": "PoAn Yang",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634950",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634950",
    "key": "KAFKA-19907",
    "fields": {
      "summary": "Support rack awareness in RangeAssignor#assignHomogeneousGroup",
      "created": "2025-11-23T09:34:16.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=taijuwu",
        "name": "taijuwu",
        "key": "JIRAUSER301374",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "TaiJuWu",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634899",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634899",
    "key": "KAFKA-19906",
    "fields": {
      "summary": "NullPointerException from Streams Metrics Infra on Topology Startup",
      "created": "2025-11-21T21:16:35.000+0000",
      "description": "We saw this stacktrace when starting up a new instance. It appears to be very non-deterministic.\r\n\r\n```\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.TaskManager.transitRestoredTaskToRunning(TaskManager.java:980) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.TaskManager.handleRestoredTasksFromStateUpdater(TaskManager.java:1056) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.TaskManager.checkStateUpdater(TaskManager.java:923) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.StreamThread.checkStateUpdater(StreamThread.java:1433) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.StreamThread.runOnceWithoutProcessingThreads(StreamThread.java:1239) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:926) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:886) [kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928Caused by: java.lang.NullPointerException: Cannot invoke \"Object.hashCode()\" because \"key\" is null\r\n2025-11-21 12:56:11.928 at java.util.concurrent.ConcurrentHashMap.replaceNode(ConcurrentHashMap.java:1125) ~[?:?]\r\n2025-11-21 12:56:11.928 at java.util.concurrent.ConcurrentHashMap.remove(ConcurrentHashMap.java:1116) ~[?:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.common.metrics.Metrics.removeMetric(Metrics.java:550) ~[kafka-clients-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.metrics.StreamsMetricsImpl.removeMetric(StreamsMetricsImpl.java:341) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.internals.metrics.OpenIterators.remove(OpenIterators.java:68) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.state.internals.MeteredKeyValueStore$MeteredKeyValueIterator.close(MeteredKeyValueStore.java:467) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 at io.littlehorse.server.streams.store.LHKeyValueIterator.close(LHKeyValueIterator.java:33) ~[server-0.16.0-SNAPSHOT.jar:?]\r\n2025-11-21 12:56:11.928 at io.littlehorse.server.streams.topology.core.processors.CommandProcessor.onPartitionClaimed(CommandProcessor.java:142) ~[server-0.16.0-SNAPSHOT.jar:?]\r\n2025-11-21 12:56:11.928 at io.littlehorse.server.streams.topology.core.processors.CommandProcessor.init(CommandProcessor.java:85) ~[server-0.16.0-SNAPSHOT.jar:?]\r\n2025-11-21 12:56:11.928 at org.apache.kafka.streams.processor.internals.ProcessorNode.init(ProcessorNode.java:123) ~[kafka-streams-4.1.1.jar:?]\r\n2025-11-21 12:56:11.928 ... 10 more\r\n```\r\n \r\n\r\nWe were running 4.1.1 with 2 streamthreads. This was when a new instance was joining the group.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634880",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634880",
    "key": "KAFKA-19905",
    "fields": {
      "summary": "Tight reconnection loop during shutdown",
      "created": "2025-11-21T14:53:52.000+0000",
      "description": "During shutdown, nodes 1 and 2 (brokers) are stuck in an infinite loop trying to connect to node 0 (the controller) every 50ms. The issue is time sensitive, but it can be reproduced easily shutting down all nodes at the same time.\r\n\r\nThe problem is that even during shutdown, the NodeToControllerRequestThread continues to run. The RaftControllerNodeProvider still returns node 0 as the controller from cached Raft metadata, but node 0 has already terminated (NodeToControllerChannelManager:323).\r\n\r\nLooking at logs, the controller shut down at 12:31:38 while brokers were still in controlled shutdown. The sequence shows:\r\n\r\n1. Node 1 and 2 request controlled shutdown\r\n2. Controller grants the shutdown\r\n3. Controller itself shuts down (RaftManager shutdown at 12:31:38)\r\n4. Node 1 and 2 continue trying to heartbeat to the now-dead controller\r\n5. They get stuck in this reconnection loop because the NodeToControllerRequestThread is still running and hasn't been shut down properly\r\n\r\n{code}\r\n[2025-11-21 12:31:38,515] INFO [NodeToControllerChannelManager id=2 name=heartbeat] Node 0 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-21 12:31:38,515] WARN [NodeToControllerChannelManager id=2 name=heartbeat] Connection to node 0 (localhost/127.0.0.1:9090) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-21 12:31:38,515] INFO [broker-2-to-controller-heartbeat-channel-manager]: Recorded new KRaft controller, from now on will use node localhost:9090 (id: 0 rack: null isFenced: false) (kafka.server.NodeToControllerRequestThread)\r\n[2025-11-21 12:31:38,566] INFO [broker-2-to-controller-heartbeat-channel-manager]: Recorded new KRaft controller, from now on will use node localhost:9090 (id: 0 rack: null isFenced: false) (kafka.server.NodeToControllerRequestThread)\r\n[2025-11-21 12:31:38,566] INFO [NodeToControllerChannelManager id=2 name=heartbeat] Node 0 disconnected. (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-21 12:31:38,567] WARN [NodeToControllerChannelManager id=2 name=heartbeat] Connection to node 0 (localhost/127.0.0.1:9090) could not be established. Node may not be available. (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-21 12:31:38,567] INFO [broker-2-to-controller-heartbeat-channel-manager]: Recorded new KRaft controller, from now on will use node localhost:9090 (id: 0 rack: null isFenced: false) (kafka.server.NodeToControllerRequestThread)\r\n[2025-11-21 12:31:38,616] INFO [broker-2-to-controller-heartbeat-channel-manager]: Recorded new KRaft controller, from now on will use node localhost:9090 (id: 0 rack: null isFenced: false) (kafka.server.NodeToControllerRequestThread)\r\n{code}\r\n\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fvaleri",
        "name": "fvaleri",
        "key": "fvaleri",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Federico Valeri",
        "active": true,
        "timeZone": "Europe/Rome"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634860",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634860",
    "key": "KAFKA-19904",
    "fields": {
      "summary": "Add handling throttled records delivery for lower delivery limit",
      "created": "2025-11-21T11:34:53.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apoorvmittal10",
        "name": "apoorvmittal10",
        "key": "apoorvmittal10",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=apoorvmittal10&avatarId=52944",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apoorvmittal10&avatarId=52944",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apoorvmittal10&avatarId=52944",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apoorvmittal10&avatarId=52944"
        },
        "displayName": "Apoorv Mittal",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/3",
        "description": "This issue is being actively worked on at the moment by the assignee.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
        "name": "In Progress",
        "id": "3",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634859",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634859",
    "key": "KAFKA-19903",
    "fields": {
      "summary": "Add integration tests for handling throttled delivery records for Share Group",
      "created": "2025-11-21T11:33:42.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apoorvmittal10",
        "name": "apoorvmittal10",
        "key": "apoorvmittal10",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=apoorvmittal10&avatarId=52944",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apoorvmittal10&avatarId=52944",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apoorvmittal10&avatarId=52944",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apoorvmittal10&avatarId=52944"
        },
        "displayName": "Apoorv Mittal",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634838",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634838",
    "key": "KAFKA-19902",
    "fields": {
      "summary": "Consumer triggers OFFSET_OUT_OF_RANGE when committed offset uses stale epoch after leader change",
      "created": "2025-11-21T06:33:26.000+0000",
      "description": "h2. Summary\r\n\r\nWhen a partition leader changes and the consumer commits offsets with a stale epoch, if the log segments containing that epoch are subsequently deleted due to retention policy, the consumer will encounter OFFSET_OUT_OF_RANGE error and reset to earliest (if auto.offset.reset=earliest), causing massive message reprocessing.The root cause is that SubscriptionState.allConsumed() uses position.offsetEpoch instead of position.currentLeader.epoch when constructing OffsetAndMetadata for commit, which can become stale when leader changes occur.\r\nIf `auto.offset.reset=latest`, *the consequences will be more severe, resulting in message loss.*\r\n----\r\nh2. Environment\r\n\r\nCluster Configuration:\r\n * Kafka Server Version: 3.9.0\r\n\r\n * Kafka Client Version: 3.9.0\r\n\r\n * Topic: 200 partitions, 7-day retention, no tiered storage\r\n\r\n * Consumer Group: 45 consumers (1 KafkaConsumer thread per machine)\r\n\r\n * No broker/controller restarts occurred\r\n\r\n * High throughput producer continuously writing messages\r\n\r\nConsumer Configuration:\r\n{code:java}\r\nauto.offset.reset=earliest\r\nenable.auto.commit=true {code}\r\n \r\nConsumer Code:\r\n * Registered ConsumerRebalanceListener\r\n\r\n * Calls kafkaConsumer.commitSync() in onPartitionsRevoked() method\r\n\r\n----\r\nh2. Problem Description\r\n\r\nIn a scenario where the consumer group has no lag, consumers suddenly consumed a massive amount of messages, far exceeding the recent few minutes of producer writes. Investigation revealed that multiple partitions reset to the earliest offset and reprocessed up to 7 days of historical data.\r\n----\r\nh2. Observed Symptoms (Timeline)\r\n # Consumer group rebalance occurred (triggered by normal consumer group management)\r\n\r\n # Consumer logged OFFSET_OUT_OF_RANGE errors immediately after rebalance\r\n\r\n # Consumer reset to earliest offset due to auto.offset.reset=earliest configuration\r\n\r\n # Kafka broker logged NotLeaderOrFollowerException around the same timeframe, indicating partition leader changes\r\n\r\n # Consumer did not log any NOT_LEADER_OR_FOLLOWER errors (these are DEBUG level and not visible in production logs)\r\n\r\nThe image below uses the partition asyncmq_local_us_us_marketplace-ssl-a_aws_us-east-1_2a7e053c-9d90-4efd-af2d-3a8bf9564715-153 as an example to trace the problem log chain. {*}See attached log screenshot at the bottom{*}.\r\n----\r\nh2. Root Cause Analysis\r\nh3. The Problem Chain\r\n\r\n1. Leader change occurs (epoch changes from N to N+1)\r\n   ↓\r\n2. Consumer continues processing old batches (epoch=N)\r\n   ↓\r\n3. Consumer commits offset during/after rebalance\r\n   ├─ Committed offset: 1000\r\n   └─ Committed epoch: N (using position.offsetEpoch from old batch)\r\n   ↓\r\n4. High throughput + retention policy causes old segments (epoch=N) to be deleted\r\n   ↓\r\n5. Consumer restarts/rebalances and fetches committed offset\r\n   ├─ Tries to validate offset 1000 with epoch=N\r\n   └─ Broker cannot find epoch=N ({*}segments deleted or tp leader change{*})\r\n   ↓\r\n6. Broker returns OFFSET_OUT_OF_RANGE\r\n   ↓\r\n7. Consumer resets to earliest offset\r\nh3. Code Analysis\r\n\r\nThe problematic code in SubscriptionState.allConsumed():\r\n{code:java}\r\n// kafka/clients/src/main/java/org/apache/kafka/clients/consumer/internals/SubscriptionState.java\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed() {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition())\r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(\r\n                partitionState.position.offset,\r\n                partitionState.position.offsetEpoch,  // Problem: uses offsetEpoch from consumed batch\r\n                \"\"));\r\n    });\r\n    return allConsumed;\r\n} {code}\r\n \r\nWhy this is problematic:The FetchPosition class contains two different epoch values:\r\n * offsetEpoch: The epoch from the last consumed record's batch\r\n\r\n * currentLeader.epoch: The current partition leader's epoch from metadata\r\n\r\nWhen committing offsets, we should use currentLeader.epoch instead of offsetEpoch because:\r\n # offsetEpoch represents the epoch of already consumed data (historical)\r\n\r\n # currentLeader.epoch represents the current partition leader (up-to-date)\r\n\r\nh3. Scenarios Where These Epochs Diverge\r\n\r\nScenario A: Leader changes while consumer is processing old batches\r\n * T1: Consumer fetches batch with epoch=5\r\n\r\n * T2: Leader changes to epoch=6\r\n\r\n * T3: Metadata updates with new leader epoch=6\r\n\r\n * T4: Consumer commits offset\r\n\r\n * offsetEpoch = 5 (from batch being processed)\r\n\r\n * currentLeader.epoch = 6 (from updated metadata)\r\n\r\n * Problem: Commits epoch=5, which may soon be deleted\r\n\r\nScenario B: Recovery from committed offset after leader change\r\n * Consumer commits offset with old epoch=N\r\n\r\n * Leader changes to epoch=N+1\r\n\r\n * Old segments (epoch=N) are deleted by retention policy\r\n\r\n * Consumer rebalances and tries to restore from committed offset\r\n\r\n * offsetEpoch = N (from committed offset)\r\n\r\n * currentLeader.epoch = N+1 (from current metadata)\r\n\r\n * Problem: Validation fails because epoch=N no longer exists\r\n\r\n----\r\nh2. Steps to Reproduce\r\n\r\nThis is a timing-sensitive edge case. The following conditions increase the likelihood:\r\n # Setup:\r\n\r\n * High-throughput topic (to trigger faster log rotation)\r\n\r\n * Relatively short retention period (e.g., 7 days)\r\n\r\n * Consumer group with rebalance listener calling commitSync()\r\n\r\n * enable.auto.commit=true (or any manual commit)\r\n\r\n # Trigger:\r\n\r\n * Trigger a partition leader change (broker restart, controller election, etc.)\r\n\r\n * Simultaneously or shortly after, trigger a consumer group rebalance\r\n\r\n * Wait for retention policy to delete old log segments\r\n\r\n # Expected Result:\r\n\r\nConsumer should resume from committed offset\r\n # Actual Result:\r\n\r\nConsumer encounters OFFSET_OUT_OF_RANGE and resets to earliest\r\n----\r\nh2. Impact\r\n * Data Reprocessing: Consumers may reprocess up to retention.ms worth of data\r\n\r\n * Service Degradation: Sudden spike in consumer throughput can overwhelm downstream systems\r\n\r\n * Resource Waste: Unnecessary CPU, memory, and network usage\r\n\r\n * Potential Duplicates: If using auto.offset.reset=earliest, duplicate message processing is guaranteed\r\n * If `auto.offset.reset=latest`, *the consequences will be more severe, resulting in message loss.*\r\n\r\n----\r\nh2. Proposed Fix\r\nh3. Root Cause Analysis\r\n\r\nThe issue is more fundamental than a simple field selection problem. The core issue is that both epoch values in FetchPosition can be stale at commit time:\r\n # offsetEpoch: Contains the epoch from the last consumed record's batch. If a leader change occurs after consumption but before commit, this epoch becomes stale and may reference log segments that have been deleted.\r\n\r\n # currentLeader.epoch: Inherited from the previous position during normal consumption and only updated when:\r\n\r\n * NOT_LEADER_OR_FOLLOWER or FENCED_LEADER_EPOCH errors are detected\r\n\r\n * Position is restored from committed offsets (fetches from metadata)\r\n\r\n * Explicit validation is triggered via maybeValidatePositionForCurrentLeader()\r\n\r\nDuring normal, error-free consumption, currentLeader is never updated and can also become stale.\r\nh3. Problem with Current Code\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.FetchCollector \r\n{code:java}\r\nif (nextInLineFetch.nextFetchOffset() > position.offset) {\r\n    SubscriptionState.FetchPosition nextPosition = new SubscriptionState.FetchPosition(\r\n            nextInLineFetch.nextFetchOffset(),\r\n            nextInLineFetch.lastEpoch(),    // offsetEpoch: from consumed batch\r\n            position.currentLeader);         // ❌ currentLeader: inherited, NOT updated!\r\n    log.trace(\"Updating fetch position from {} to {} for partition {} and returning {} records from `poll()`\",\r\n            position, nextPosition, tp, partRecords.size());\r\n    subscriptions.position(tp, nextPosition);\r\n    positionAdvanced = true;\r\n}\r\n\r\n{code}\r\nThe inherited currentLeader means it can be as stale as offsetEpoch in certain scenarios.\r\n----\r\nh3. Recommended Solution: Proactively Update currentLeader During Position Updates\r\n\r\nOption 1: Update currentLeader when advancing position (Primary Recommendation)Modify FetchCollector to fetch the latest leader information from metadata every time the position is updated:\r\n{code:java}\r\nif (nextInLineFetch.nextFetchOffset() > position.offset) {\r\n    // Fetch the latest leader information from metadata\r\n    Metadata.LeaderAndEpoch currentLeaderAndEpoch = metadata.currentLeader(tp);\r\n    \r\n    SubscriptionState.FetchPosition nextPosition = new SubscriptionState.FetchPosition(\r\n            nextInLineFetch.nextFetchOffset(),\r\n            nextInLineFetch.lastEpoch(),\r\n            currentLeaderAndEpoch);  // ✅ Use fresh leader info from metadata\r\n    \r\n    log.trace(\"Updating fetch position from {} to {} for partition {} and returning {} records from `poll()`\",\r\n            position, nextPosition, tp, partRecords.size());\r\n    subscriptions.position(tp, nextPosition);\r\n    positionAdvanced = true;\r\n} {code}\r\nAdvantages:\r\n * Ensures currentLeader is always up-to-date\r\n * Makes allConsumed() safe to use *currentLeader.epoch* for commits\r\nModify SubscriptionState.allConsumed() to {color:#de350b}use currentLeader.epoch instead of offsetEpoch{color}:\r\n{code:java}\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed() {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition())\r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(\r\n                partitionState.position.offset,\r\n                partitionState.position.currentLeader.epoch,  // ✅ Use current leader epoch\r\n                \"\"));\r\n    });\r\n    return allConsumed;\r\n} {code}\r\n \r\n\r\n * Minimal performance impact (metadata lookup is O(1) from local cache)\r\n * Aligns with the existing pattern in refreshCommittedOffsets()\r\n\r\nPotential Concerns:\r\n * Adds one metadata lookup per position update\r\n\r\n * If metadata is stale, currentLeader.epoch could still lag slightly, but this is the same risk as today\r\n\r\n----\r\nh3. Alternative Solutions\r\n\r\nOption 2: Fetch fresh leader info during commitModify allConsumed() to fetch the latest leader information at commit time:\r\n{code:java}\r\n// Note: This would require passing metadata reference to allConsumed()\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed(ConsumerMetadata metadata) {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition()) {\r\n            // Fetch the latest leader epoch from metadata at commit time\r\n            Metadata.LeaderAndEpoch latestLeader = metadata.currentLeader(topicPartition);\r\n            Optional<Integer> epochToCommit = latestLeader.epoch.isPresent() \r\n                ? latestLeader.epoch \r\n                : partitionState.position.offsetEpoch;  // Fallback to offsetEpoch\r\n            \r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(\r\n                partitionState.position.offset,\r\n                epochToCommit,\r\n                \"\"));\r\n        }\r\n    });\r\n    return allConsumed;\r\n} {code}\r\nAdvantages:\r\n * Only impacts commit path, not consumption hot path\r\n\r\n * Directly addresses the commit-time staleness issue\r\n\r\nDisadvantages:\r\n * Requires changing the signature of allConsumed() (API change)\r\n\r\n * May still have a race condition if leader changes between metadata fetch and commit\r\n\r\n * Metadata could be stale if update hasn't been processed yet\r\n\r\n----\r\nOption 3: Use the maximum epoch valueUse the larger of the two epoch values, assuming newer epochs have higher values:\r\n{code:java}\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed() {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition()) {\r\n            Optional<Integer> epochToCommit;\r\n            \r\n            if (partitionState.position.offsetEpoch.isPresent() && \r\n                partitionState.position.currentLeader.epoch.isPresent()) {\r\n                // Use the maximum of the two epochs\r\n                int maxEpoch = Math.max(\r\n                    partitionState.position.offsetEpoch.get(),\r\n                    partitionState.position.currentLeader.epoch.get());\r\n                epochToCommit = Optional.of(maxEpoch);\r\n            } else {\r\n                // Fallback to whichever is present\r\n                epochToCommit = partitionState.position.currentLeader.epoch.isPresent()\r\n                    ? partitionState.position.currentLeader.epoch\r\n                    : partitionState.position.offsetEpoch;\r\n            }\r\n            \r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(\r\n                partitionState.position.offset,\r\n                epochToCommit,\r\n                \"\"));\r\n        }\r\n    });\r\n    return allConsumed;\r\n} {code}\r\nAdvantages:\r\n * No API changes required\r\n\r\n * Simple to implement\r\n\r\n * Provides better protection than using only one epoch\r\n\r\nDisadvantages:\r\n * Heuristic-based; assumes epochs are monotonically increasing\r\n\r\n * Could still use a stale epoch if both values are old\r\n\r\n * Doesn't solve the root cause of stale currentLeader\r\n\r\n----\r\nh3. Recommendation\r\n\r\nPrimary recommendation: Implement Option 1 (Update currentLeader during position updates)This is the most robust solution because:\r\n # It ensures currentLeader is always fresh\r\n\r\n # It fixes the root cause rather than working around symptoms\r\n\r\n # It has minimal performance impact\r\n\r\n # It makes the codebase more consistent and maintainable\r\n\r\nSecondary recommendation: Implement Option 3 as a defense-in-depth measureEven with Option 1, using max(offsetEpoch, currentLeader.epoch) in allConsumed() provides additional safety against any edge cases where one epoch might be more up-to-date than the other.Combined approach (strongest protection):\r\n{code:java}\r\n// In FetchCollector.java\r\nif (nextInLineFetch.nextFetchOffset() > position.offset) {\r\n    Metadata.LeaderAndEpoch currentLeaderAndEpoch = metadata.currentLeader(tp);\r\n    SubscriptionState.FetchPosition nextPosition = new SubscriptionState.FetchPosition(\r\n            nextInLineFetch.nextFetchOffset(),\r\n            nextInLineFetch.lastEpoch(),\r\n            currentLeaderAndEpoch);  // ✅ Keep currentLeader fresh\r\n    subscriptions.position(tp, nextPosition);\r\n    positionAdvanced = true;\r\n}\r\n \r\n// In SubscriptionState.java\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed() {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition()) {\r\n            // Use the maximum epoch as defense-in-depth\r\n            Optional<Integer> epochToCommit;\r\n            if (partitionState.position.offsetEpoch.isPresent() && \r\n                partitionState.position.currentLeader.epoch.isPresent()) {\r\n                epochToCommit = Optional.of(Math.max(\r\n                    partitionState.position.offsetEpoch.get(),\r\n                    partitionState.position.currentLeader.epoch.get()));\r\n            } else {\r\n                epochToCommit = partitionState.position.currentLeader.epoch.isPresent()\r\n                    ? partitionState.position.currentLeader.epoch\r\n                    : partitionState.position.offsetEpoch;\r\n            }\r\n            \r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(\r\n                partitionState.position.offset,\r\n                epochToCommit,\r\n                \"\"));\r\n        }\r\n    });\r\n    return allConsumed;\r\n} {code}\r\nThis combined approach provides:\r\n * Prevention: Keep currentLeader fresh during normal operation\r\n\r\n * Defense: Use the best available epoch value at commit time\r\n\r\n * Resilience: Minimize the window where a stale epoch can cause issues\r\n\r\n----\r\nh2. Additional Notes\r\n\r\nWhy consumers don't log NOT_LEADER_OR_FOLLOWER errors:All consumer-side handling of NOT_LEADER_OR_FOLLOWER errors uses DEBUG level logging:\r\n{code:java}\r\n// FetchCollector.java line 325\r\nlog.debug(\"Error in fetch for partition {}: {}\", tp, error.exceptionName());\r\n \r\n// AbstractFetch.java line 207\r\nlog.debug(\"For {}, received error {}, with leaderIdAndEpoch {}\", partition, partitionError, ...);\r\n \r\n// OffsetsForLeaderEpochUtils.java line 102\r\nLOG.debug(\"Attempt to fetch offsets for partition {} failed due to {}, retrying.\", ...); {code}\r\n \r\n\r\nThis makes the issue difficult to diagnose in production environments.\r\n----\r\nh2. Workarounds (Until Fixed)\r\n # Increase retention period to reduce likelihood of epoch deletion\r\n\r\n # Monitor consumer lag to ensure it stays low\r\n\r\n # Reduce rebalance frequency (increase max.poll.interval.ms, session.timeout.ms)\r\n\r\n # Use cooperative rebalance strategy to minimize rebalance impact\r\n\r\n # Consider using auto.offset.reset=latest if reprocessing is more costly than data loss (application-dependent)\r\n\r\n----\r\nh2. Related Code References\r\nh3. 1. The problematic method: SubscriptionState.allConsumed()\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.SubscriptionState \r\n{code:java}\r\npublic synchronized Map<TopicPartition, OffsetAndMetadata> allConsumed() {\r\n    Map<TopicPartition, OffsetAndMetadata> allConsumed = new HashMap<>();\r\n    assignment.forEach((topicPartition, partitionState) -> {\r\n        if (partitionState.hasValidPosition())\r\n            allConsumed.put(topicPartition, new OffsetAndMetadata(partitionState.position.offset,\r\n                    partitionState.position.offsetEpoch, \"\"));  // Uses offsetEpoch instead of currentLeader.epoch\r\n    });\r\n    return allConsumed;\r\n} {code}\r\nh3. 2. How FetchPosition is updated during normal consumption\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.FetchCollector \r\n{code:java}\r\nif (nextInLineFetch.nextFetchOffset() > position.offset) {\r\n    SubscriptionState.FetchPosition nextPosition = new SubscriptionState.FetchPosition(\r\n            nextInLineFetch.nextFetchOffset(),\r\n            nextInLineFetch.lastEpoch(),    // offsetEpoch: from consumed batch\r\n            position.currentLeader);         // currentLeader: inherited from old position, NOT updated!\r\n    log.trace(\"Updating fetch position from {} to {} for partition {} and returning {} records from `poll()`\",\r\n            position, nextPosition, tp, partRecords.size());\r\n    subscriptions.position(tp, nextPosition);\r\n    positionAdvanced = true;\r\n} {code}\r\nKey Issue: The currentLeader field is inherited from the previous position and not automatically updated during normal consumption. It only gets updated when leader change errors are detected.\r\nh3. 3. How committed offsets are restored after rebalance\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.ConsumerUtils.refreshCommittedOffsets()\r\n{code:java}\r\npublic static void refreshCommittedOffsets(final Map<TopicPartition, OffsetAndMetadata> offsetsAndMetadata,\r\n                                           final ConsumerMetadata metadata,\r\n                                           final SubscriptionState subscriptions) {\r\n    for (final Map.Entry<TopicPartition, OffsetAndMetadata> entry : offsetsAndMetadata.entrySet()) {\r\n        final TopicPartition tp = entry.getKey();\r\n        final OffsetAndMetadata offsetAndMetadata = entry.getValue();\r\n        if (offsetAndMetadata != null) {\r\n            // first update the epoch if necessary\r\n            entry.getValue().leaderEpoch().ifPresent(epoch -> metadata.updateLastSeenEpochIfNewer(entry.getKey(), epoch));\r\n \r\n            // it's possible that the partition is no longer assigned when the response is received,\r\n            // so we need to ignore seeking if that's the case\r\n            if (subscriptions.isAssigned(tp)) {\r\n                final ConsumerMetadata.LeaderAndEpoch leaderAndEpoch = metadata.currentLeader(tp);\r\n                final SubscriptionState.FetchPosition position = new SubscriptionState.FetchPosition(\r\n                        offsetAndMetadata.offset(), \r\n                        offsetAndMetadata.leaderEpoch(),  // offsetEpoch from committed offset (may be old)\r\n                        leaderAndEpoch);                   // currentLeader from current metadata (may be new)\r\n \r\n                subscriptions.seekUnvalidated(tp, position);\r\n \r\n                log.info(\"Setting offset for partition {} to the committed offset {}\", tp, position);\r\n            }\r\n        }\r\n    }\r\n} {code}\r\nThe Divergence Point: When restoring from committed offsets, offsetEpoch comes from the stored offset (potentially old), while currentLeader comes from fresh metadata (potentially new after leader change).\r\nh3. 4. How OffsetsForLeaderEpoch validation request is constructed\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.OffsetsForLeaderEpochUtils.prepareRequest()\r\n{code:java}\r\nstatic AbstractRequest.Builder<OffsetsForLeaderEpochRequest> prepareRequest(\r\n        Map<TopicPartition, SubscriptionState.FetchPosition> requestData) {\r\n    OffsetForLeaderTopicCollection topics = new OffsetForLeaderTopicCollection(requestData.size());\r\n    requestData.forEach((topicPartition, fetchPosition) ->\r\n            fetchPosition.offsetEpoch.ifPresent(fetchEpoch -> {\r\n                OffsetForLeaderTopic topic = topics.find(topicPartition.topic());\r\n                if (topic == null) {\r\n                    topic = new OffsetForLeaderTopic().setTopic(topicPartition.topic());\r\n                    topics.add(topic);\r\n                }\r\n                topic.partitions().add(new OffsetForLeaderPartition()\r\n                        .setPartition(topicPartition.partition())\r\n                        .setLeaderEpoch(fetchEpoch)              // Uses offsetEpoch for validation\r\n                        .setCurrentLeaderEpoch(fetchPosition.currentLeader.epoch\r\n                                .orElse(RecordBatch.NO_PARTITION_LEADER_EPOCH))\r\n                );\r\n            })\r\n    );\r\n    return OffsetsForLeaderEpochRequest.Builder.forConsumer(topics);\r\n} {code}\r\nThe Validation Problem: The validation request uses fetchEpoch (which is offsetEpoch) to validate against the broker. If this epoch no longer exists in the broker's log, validation fails and triggers OFFSET_OUT_OF_RANGE.\r\nh3. 5. FetchPosition class definition\r\n\r\nLocation: org.apache.kafka.clients.consumer.internals.SubscriptionState.FetchPosition \r\n \r\n{code:java}\r\n/**\r\n * Represents the position of a partition subscription.\r\n *\r\n * This includes the offset and epoch from the last record in\r\n * the batch from a FetchResponse. It also includes the leader epoch at the time the batch was consumed.\r\n */\r\npublic static class FetchPosition {\r\n    public final long offset;\r\n    final Optional<Integer> offsetEpoch;        // Epoch from last consumed record's batch\r\n    final Metadata.LeaderAndEpoch currentLeader; // Current partition leader info from metadata\r\n \r\n    FetchPosition(long offset) {\r\n        this(offset, Optional.empty(), Metadata.LeaderAndEpoch.noLeaderOrEpoch());\r\n    }\r\n \r\n    public FetchPosition(long offset, Optional<Integer> offsetEpoch, Metadata.LeaderAndEpoch currentLeader) {\r\n        this.offset = offset;\r\n        this.offsetEpoch = Objects.requireNonNull(offsetEpoch);\r\n        this.currentLeader = Objects.requireNonNull(currentLeader);\r\n    }\r\n \r\n    @Override\r\n    public String toString() {\r\n        return \"FetchPosition{\" +\r\n                \"offset=\" + offset +\r\n                \", offsetEpoch=\" + offsetEpoch +\r\n                \", currentLeader=\" + currentLeader +\r\n                '}';\r\n    }\r\n}{code}\r\nClass Design: The class contains both offsetEpoch (historical data epoch) and currentLeader.epoch (current metadata epoch), but allConsumed() only uses the former when committing.\r\nh1. Attachements logs:\r\nh2. group rebalance log\r\n\r\n!image-2025-11-21-18-03-24-592.png!\r\nh2. consumer client log\r\n\r\n!image-2025-11-21-20-00-10-862.png!\r\nh2. broker server log\r\n\r\n!image-2025-11-21-18-11-24-316.png!",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634838/comment/18039770",
            "id": "18039770",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=RivenSun",
              "name": "RivenSun",
              "key": "rivensun",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rivensun&avatarId=48395",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rivensun&avatarId=48395",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rivensun&avatarId=48395",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rivensun&avatarId=48395"
              },
              "displayName": "RivenSun",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "Hi [~guozhang] [~showuon] [~hachikuji] \r\nCould you please help me look into this issue?\r\nThank you very much!",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=RivenSun",
              "name": "RivenSun",
              "key": "rivensun",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=rivensun&avatarId=48395",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=rivensun&avatarId=48395",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=rivensun&avatarId=48395",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=rivensun&avatarId=48395"
              },
              "displayName": "RivenSun",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2025-11-21T07:10:52.290+0000",
            "updated": "2025-11-21T07:10:52.290+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634776",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634776",
    "key": "KAFKA-19901",
    "fields": {
      "summary": "improve the error message when changing the configuration of dynamic voters",
      "created": "2025-11-20T14:49:17.000+0000",
      "description": "The static voters accept dynamic configuration on individual controllers, whereas the dynamic voters do not. While KAFKA-18928 will address this, we should also explain this distinction in the documentation and relevant error messages",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=apalan60",
        "name": "apalan60",
        "key": "JIRAUSER308785",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
        },
        "displayName": "HongYi Chen",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634751",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634751",
    "key": "KAFKA-19900",
    "fields": {
      "summary": "Fix the documentation for remove controller",
      "created": "2025-11-20T09:32:01.000+0000",
      "description": "Fix the documentation for remove controller since KIP-996 is merged.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ppatierno",
        "name": "ppatierno",
        "key": "ppatierno",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ppatierno&avatarId=53623",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ppatierno&avatarId=53623",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ppatierno&avatarId=53623",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ppatierno&avatarId=53623"
        },
        "displayName": "Paolo Patierno",
        "active": true,
        "timeZone": "Europe/Rome"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634677",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634677",
    "key": "KAFKA-19899",
    "fields": {
      "summary": "Bumping group epoch when member regex subscription changes from non empty to empty",
      "created": "2025-11-19T16:11:26.000+0000",
      "description": "In `GroupMetadataManager#maybeUpdateRegularExpressions`, `updateRegularExpressionsResult` is set to REGEX_UPDATED if the updated member regex subscription is empty and the current member's is not empty, which [doesn't trigger a group epoch bump|https://github.com/apache/kafka/blob/trunk/group-coordinator/src/main/java/org/apache/kafka/coordinator/group/GroupMetadataManager.java#L2376-L2386] later in `consumerGroupHeartbeat`.\r\n\r\nWe should fix it by returning REGEX_UPDATED_AND_RESOLVED in this case.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634677/comment/18040130",
            "id": "18040130",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "I'm investigating this. I verified the issue and will propose a fix soon.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2025-11-23T11:31:58.811+0000",
            "updated": "2025-11-23T11:31:58.811+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634677/comment/18040372",
            "id": "18040372",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dongnuolyu",
              "name": "dongnuolyu",
              "key": "JIRAUSER302289",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Dongnuo Lyu",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "Hi [~antonvasant], thanks for taking this. I've updated the description with more context. Feel free to ask more questions if you need clarification.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dongnuolyu",
              "name": "dongnuolyu",
              "key": "JIRAUSER302289",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Dongnuo Lyu",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2025-11-24T16:15:21.942+0000",
            "updated": "2025-11-24T16:15:21.942+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634677/comment/18040399",
            "id": "18040399",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "Thank you [~dongnuolyu], \r\n\r\nJust to clarify - when you say \"member regex subscription changes from non empty to empty\", do you mean: \r\n # The member's regex text itself changes from something like \"topic.*\" to empty/null (OR)\r\n\r\n # The number of members subscribed to a particular regex drops to zero (last member unsubscribes)\r\n\r\n(also case 1 can lead to case 2 right)",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2025-11-24T18:37:39.185+0000",
            "updated": "2025-11-24T18:37:39.185+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
        "name": "antonvasant",
        "key": "JIRAUSER311269",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
        },
        "displayName": "Anton Vasanth",
        "active": true,
        "timeZone": "Asia/Kolkata"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634635",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634635",
    "key": "KAFKA-19898",
    "fields": {
      "summary": "OOM in Tls12SelectorTest#testGracefulClose",
      "created": "2025-11-19T10:15:22.000+0000",
      "description": "{code:java}\r\nGradle Test Run :clients:test > Gradle Test Executor 14 > Tls12SelectorTest > testGracefulClose() SKIPPED {code}\r\n{code:java}\r\norg.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 14. at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:66) at java.base@25.0.1/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) at java.base@25.0.1/java.lang.reflect.Method.invoke(Method.java:565) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36) at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24) at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33) at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:92) at jdk.proxy1/jdk.proxy1.$Proxy4.stop(Unknown Source) at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:194) at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:126) at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:103) at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:63) at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56) at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:122) at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:72) at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69) at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74) Caused by: java.lang.OutOfMemoryError: GC overhead limit exceeded at java.base/java.util.Arrays.copyOfRange(Arrays.java:3849) at java.base/java.lang.String.<init>(String.java:563) at java.base/java.lang.String.<init>(String.java:546) at java.base/java.util.jar.Manifest.parseName(Manifest.java:353) at java.base/java.util.jar.Manifest.read(Manifest.java:307) at java.base/java.util.jar.Manifest.<init>(Manifest.java:106) at java.base/java.util.jar.JarFile.getManifestFromReference(JarFile.java:417) at java.base/java.util.jar.JarFile.getManifest(JarFile.java:393) at java.base/jdk.internal.loader.URLClassPath$JarLoader$1.getManifest(URLClassPath.java:721) at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:762) at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:691) at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:620) at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:578) at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490) at org.apache.kafka.test.TestSslUtils$CertificateBuilder.generate(TestSslUtils.java:428) at org.apache.kafka.test.TestSslUtils$SslConfigsBuilder.buildJks(TestSslUtils.java:672) at org.apache.kafka.test.TestSslUtils$SslConfigsBuilder.build(TestSslUtils.java:656) at org.apache.kafka.test.TestSslUtils.createSslConfig(TestSslUtils.java:245) at org.apache.kafka.test.TestSslUtils.createSslConfig(TestSslUtils.java:230) at org.apache.kafka.test.TestSslUtils.createSslConfig(TestSslUtils.java:224) at org.apache.kafka.common.network.SslSelectorTest.setUp(SslSelectorTest.java:72) at java.base/java.lang.invoke.LambdaForm$DMH/0x000000003b298400.invokeVirtual(LambdaForm$DMH) at java.base/java.lang.invoke.LambdaForm$MH/0x000000003b084800.invoke(LambdaForm$MH) at java.base/java.lang.invoke.Invokers$Holder.invokeExact_MT(Invokers$Holder) at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invokeImpl(DirectMethodHandleAccessor.java:154) at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) at java.base/java.lang.reflect.Method.invoke(Method.java:565) at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:787) at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:479) at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:161)\r\n{code}",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634635/comment/18039315",
            "id": "18039315",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "from: https://github.com/apache/kafka/pull/20917#issuecomment-3549551390",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-19T10:16:57.936+0000",
            "updated": "2025-11-19T10:16:57.936+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634635/comment/18039468",
            "id": "18039468",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "possible root cause: github.com/apache/kafka/pull/20792/files#r2543321764",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-19T21:06:48.907+0000",
            "updated": "2025-11-19T21:06:48.907+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634635/comment/18039490",
            "id": "18039490",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lianetm",
              "name": "lianetm",
              "key": "JIRAUSER300183",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300183&avatarId=52523",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300183&avatarId=52523",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300183&avatarId=52523",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300183&avatarId=52523"
              },
              "displayName": "Lianet Magrans",
              "active": true,
              "timeZone": "America/Toronto"
            },
            "body": "Should be fixed with the linked PR (we can reopen if ever there is more behind it)",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lianetm",
              "name": "lianetm",
              "key": "JIRAUSER300183",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300183&avatarId=52523",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300183&avatarId=52523",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300183&avatarId=52523",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300183&avatarId=52523"
              },
              "displayName": "Lianet Magrans",
              "active": true,
              "timeZone": "America/Toronto"
            },
            "created": "2025-11-19T23:18:06.135+0000",
            "updated": "2025-11-19T23:18:06.135+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
        "name": "chia7712",
        "key": "chia7712",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
        },
        "displayName": "Chia-Ping Tsai",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634631",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634631",
    "key": "KAFKA-19897",
    "fields": {
      "summary": "Add support for Java 25 in 3.9 branch",
      "created": "2025-11-19T09:03:09.000+0000",
      "description": "related discussion: https://github.com/apache/kafka-site/pull/748#issuecomment-3551441828",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mingyen066",
        "name": "mingyen066",
        "key": "JIRAUSER287528",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
        },
        "displayName": "Ming-Yen Chung",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634625",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634625",
    "key": "KAFKA-19896",
    "fields": {
      "summary": "Use MockTime::sleep instead of retrying in ShareConsumeRequestManagerTest.",
      "created": "2025-11-19T08:18:22.000+0000",
      "description": "Currently, when there is a backoff wait period, we are retrying the acknowledgements until the backoff period completes and then these acks are sent.\r\nBut as this is a unit test, we can use {color:#0747a6}time.sleep(){color} to forward the currentTime, which will allow the backoff period to be over.\r\n4 tests in {color:#0747a6}ShareConsumeRequestManagerTest{color} use this currently.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=shivsundar",
        "name": "shivsundar",
        "key": "JIRAUSER303745",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Shivsundar R",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634616",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634616",
    "key": "KAFKA-19895",
    "fields": {
      "summary": "__consumer_offsets Partitions Growing to TB Size and Not Cleaning Until Broker Restart",
      "created": "2025-11-19T06:44:40.000+0000",
      "description": "Description:\r\nWe encountered an abnormal situation with the Kafka system topic `__consumer_offsets` where \r\ntwo specific partition replicas grew to extremely large sizes and did not respond to cleanup policies.\r\n\r\nDetails:\r\n\r\n1. Two replicas under `__consumer_offsets` unexpectedly reached extremely large sizes:\r\n - Partition replica size: *{*}8.4 TB{*}*\r\n - Partition replica size: *{*}3.9 TB{*}*\r\nOther replicas of the same topic are only about *{*}100 MB{*}*, which is normal.\r\n\r\n2. We attempted to force cleanup by applying:\r\ncleanup.policy = compact,delete\r\nretention.ms = <short value>\r\n\r\nThis worked normally for all other partitions in the cluster.\r\nHowever, **the two abnormal partitions did not reduce in size at all**, even after hours of waiting.\r\n\r\n3. After restarting the Kafka brokers, cleanup and compaction finally resumed,\r\nand the partitions returned to normal size.\r\n\r\nQuestions:\r\n1. What could cause only two `__consumer_offsets` partitions to grow to multi-TB sizes,\r\nwhile others remain at ~100 MB?\r\n2. Why did modifying the cleanup policy not take effect on these abnormal partitions until a broker restart?\r\n3. Could this be a known issue or bug in Kafka **2.7.1**, especially related to log cleanup or compaction?\r\n4. Are there scenarios in which compaction for an offset partition can stall or freeze indefinitely?\r\n5. What mitigation or preventive steps are recommended to avoid this problem in long-running clusters?\r\n\r\nEnvironment:\r\n- Kafka version: **2.7.1**\r\n- Deployment: Kubernetes\r\n- Cluster has been running for a long period without restart\r\n- Affected topic: `__consumer_offsets`\r\n- Affected partitions: 2 (replicas reached 8.4T and 3.9T)",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
        "name": "Critical",
        "id": "2"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634584",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634584",
    "key": "KAFKA-19894",
    "fields": {
      "summary": "Reintroduce SaslPlainSslEndToEndAuthorizationTest",
      "created": "2025-11-18T16:57:43.000+0000",
      "description": "PR [17424|https://github.com/apache/kafka/pull/17424/files#r1802513652] removed {{SaslPlainSslEndToEndAuthorizationTest}} along with {{AclAuthorizer}}.\r\n\r\nWhile there was a test within {{SaslPlainSslEndToEndAuthorizationTest}} which tested ZK ACLs, it *also* tested all the tests in its inheritance hierarchy.\r\n\r\nWe should therefore re-introduce it as the suite lacks a test for {{SASL/PLAIN}} mechanism.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634584/comment/18039359",
            "id": "18039359",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "4.0: [https://github.com/apache/kafka/commit/f49a2fd083b8656779eaca8d8f7b60407efd5d21]\r\n\r\n4.1: https://github.com/apache/kafka/commit/5428c70dec8472b2ed707385d87786c1087f6635\r\n\r\ntrunk: [https://github.com/apache/kafka/commit/26e45f62cddbd843b31e7c66fb423e6635de09d0]\r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-19T12:31:58.984+0000",
            "updated": "2025-11-19T12:31:58.984+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=gnarula",
        "name": "gnarula",
        "key": "gnarula",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Gaurav Narula",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634563",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634563",
    "key": "KAFKA-19893",
    "fields": {
      "summary": "Reduce tiered storage redundancy with delayed upload",
      "created": "2025-11-18T11:18:30.000+0000",
      "description": "Currently, Kafka uploads all non-active local log segments to remote storage even when they are still within the local retention period, resulting in redundant storage of the same data in both tiers. This wastes storage capacity and network bandwidth without providing immediate benefits, since reads during the retention window prioritize local data.\r\n\r\nHowever, some users rely on remote storage for real-time analytics and need the latest data to be available as soon as possible. Therefore, this optimization is offered as an optional configuration rather than the default behavior.\r\n\r\n!image-2025-11-18-19-19-27-579.png!\r\n\r\n ",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fujian1115",
        "name": "fujian1115",
        "key": "fujian1115",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "fujian",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634429",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634429",
    "key": "KAFKA-19892",
    "fields": {
      "summary": "Acq lock timeout field in share ack response",
      "created": "2025-11-17T11:50:50.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=sushmahajn",
        "name": "sushmahajn",
        "key": "JIRAUSER300816",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Sushant Mahajan",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634417",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417",
    "key": "KAFKA-19891",
    "fields": {
      "summary": "AsyncKafkaConsumer logs \"Unexpected exception\" for timeouts during close",
      "created": "2025-11-17T10:13:09.000+0000",
      "description": "The new consumer (in share, consumer and streams groups) log \"unexpected exception\" at error log level when hitting a timeout during consumer close:\r\n\r\n[https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/AbstractHeartbeatRequestManager.java#L318]\r\n\r\n[https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/internals/StreamsGroupHeartbeatRequestManager.java#L489]\r\n\r\nThis is confusing, since this is not really unexpected, and should probably be logged at warn level at most.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18038842",
            "id": "18038842",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shivsundar",
              "name": "shivsundar",
              "key": "JIRAUSER303745",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Shivsundar R",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hey [~lucasbru] , thanks for raising this.\r\nI took a look and had a doubt, other than the timeout case, in cases of broker disconnection or any auth exception, we will enter this part of the code on close.\r\nSo there it would be nice to log at the error level right? \r\nMaybe we can remove the word \"unexpected\" and have a better log line there? What do you think?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shivsundar",
              "name": "shivsundar",
              "key": "JIRAUSER303745",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Shivsundar R",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-17T12:48:02.283+0000",
            "updated": "2025-11-17T12:48:02.283+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18038865",
            "id": "18038865",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lucasbru",
              "name": "lucasbru",
              "key": "JIRAUSER302322",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER302322&avatarId=53242",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER302322&avatarId=53242",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER302322&avatarId=53242",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER302322&avatarId=53242"
              },
              "displayName": "Lucas Brutschy",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "body": "I'm not sure - if we timeout or disconnect during a close, does this really indicate an error that the user should be aware of?\r\n\r\nI agree that we could be more selective - maybe just remove \"unexpected\" and reduce to WARN for timeout exception...",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lucasbru",
              "name": "lucasbru",
              "key": "JIRAUSER302322",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER302322&avatarId=53242",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER302322&avatarId=53242",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER302322&avatarId=53242",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER302322&avatarId=53242"
              },
              "displayName": "Lucas Brutschy",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "created": "2025-11-17T13:46:24.849+0000",
            "updated": "2025-11-17T13:46:24.849+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18038887",
            "id": "18038887",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shivsundar",
              "name": "shivsundar",
              "key": "JIRAUSER303745",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Shivsundar R",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Right Im not sure too if the user should be made aware of these errors. I can take this up and raise a fix for this? I see ClassicKafkaConsumer logs at WARN level for timeouts and handles error responses(including logging) even during close.\r\nHere AsyncConsumer ignores the responses and just logs the error, so maybe we can warn for timeout exception only?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shivsundar",
              "name": "shivsundar",
              "key": "JIRAUSER303745",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Shivsundar R",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-17T14:40:51.864+0000",
            "updated": "2025-11-17T14:40:51.864+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18039071",
            "id": "18039071",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lucasbru",
              "name": "lucasbru",
              "key": "JIRAUSER302322",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER302322&avatarId=53242",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER302322&avatarId=53242",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER302322&avatarId=53242",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER302322&avatarId=53242"
              },
              "displayName": "Lucas Brutschy",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "body": "Yes, in particular if the classic consumer logs at `WARN` level as well.\r\n\r\nMaybe [~lianetm] has an opinion here?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=lucasbru",
              "name": "lucasbru",
              "key": "JIRAUSER302322",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER302322&avatarId=53242",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER302322&avatarId=53242",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER302322&avatarId=53242",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER302322&avatarId=53242"
              },
              "displayName": "Lucas Brutschy",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "created": "2025-11-18T08:41:15.714+0000",
            "updated": "2025-11-18T08:41:15.714+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18039528",
            "id": "18039528",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "Hi all,\r\nI'd like to help with this issue.\r\n\r\nSince the correct log behavior is still being discussed, my plan is to start by investigating the exact scenarios where the “Unexpected ” log is emitted in {{AsyncKafkaConsumer}} and the event loop.\r\n\r\nI will map out:\r\n # The state transitions that trigger this log\r\n\r\n # Which transitions are valid vs. truly unexpected\r\n\r\nAfter gathering that information, I’ll summarize my findings here so the correct approach  can be decided together.\r\n\r\nIf nobody is actively working on this, could you please assign the issue to me?\r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2025-11-20T03:27:50.699+0000",
            "updated": "2025-11-20T03:27:50.699+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634417/comment/18040113",
            "id": "18040113",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "https://github.com/apache/kafka/pull/20965",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
              "name": "antonvasant",
              "key": "JIRAUSER311269",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Anton Vasanth",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2025-11-23T01:19:00.363+0000",
            "updated": "2025-11-23T01:19:00.363+0000"
          }
        ],
        "maxResults": 6,
        "total": 6,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=antonvasant",
        "name": "antonvasant",
        "key": "JIRAUSER311269",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
        },
        "displayName": "Anton Vasanth",
        "active": true,
        "timeZone": "Asia/Kolkata"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634382",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634382",
    "key": "KAFKA-19890",
    "fields": {
      "summary": "Fix start/stop command failure after wmic removal in newer Windows.",
      "created": "2025-11-16T23:47:45.000+0000",
      "description": "The commands will failed in new windows version: windows 11\r\n\r\n!image-2025-11-17-07-47-09-575.png!\r\n\r\nthe background:\r\n\r\nhttps://techcommunity.microsoft.com/blog/windows-itpro-blog/wmi-command-line-wmic-utility-deprecation-next-steps/4039242\r\n\r\n!image-2025-11-17-08-36-47-770.png!\r\n\r\nattach the PRs:\r\n[https://github.com/apache/kafka/pull/20896]\r\n[https://github.com/apache/kafka/pull/20257]",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634382/comment/18038738",
            "id": "18038738",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=fujian1115",
              "name": "fujian1115",
              "key": "fujian1115",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "fujian",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[https://github.com/apache/kafka/pull/20896]\r\n\r\n[https://github.com/apache/kafka/pull/20257]\r\n\r\nattach the PRs",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=fujian1115",
              "name": "fujian1115",
              "key": "fujian1115",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "fujian",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-17T00:53:41.643+0000",
            "updated": "2025-11-17T00:53:41.643+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634376",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634376",
    "key": "KAFKA-19889",
    "fields": {
      "summary": "max.connections.per.ip.overrides does not apply overrides to all IPs for multi-IP hostnames",
      "created": "2025-11-16T17:05:58.000+0000",
      "description": "{{max.connections.per.ip}} can be overridden per host using the {{max.connections.per.ip.overrides}} configuration.\r\nThe override value may be specified using either an IP address or a hostname.\r\n\r\nWhen a hostname is used, and that hostname resolves to multiple IP addresses (e.g., behind a load balancer or auto-scaling group), {*}only the first resolved IP address receives the override{*}, while all other resolved addresses fallback to the default limit.\r\n\r\n \r\n\r\n*Example:* \r\n\r\n \r\n{code:java}\r\nmax.connections.per.ip=100\r\nmax.connections.per.ip.overrides=kafka.connect.test.com:500{code}\r\nhostname resolution:\r\n\r\n \r\n\r\n \r\n{code:java}\r\nkafka.connect.test.com => [127.0.0.1, 127.0.0.2, 127.0.0.3] {code}\r\nactual applied values:\r\n\r\n \r\n{code:java}\r\n127.0.0.1 => 500\r\n127.0.0.2 => 100\r\n127.0.0.3 => 100 {code}\r\n*Expected behavior*\r\nAll IPs resolved from the hostname should receive the override:\r\n\r\n \r\n{code:java}\r\n127.0.0.1 => 500\r\n127.0.0.2 => 500\r\n127.0.0.3 => 500 {code}\r\n \r\n\r\n \r\n\r\n*Use Case*\r\nWe configure a global connection limit of 100 and want to increase the limit for Kafka Connect workers behind a load-balanced and auto-scaling hostname.\r\nUsing the hostname in {{max.connections.per.ip.overrides}} should apply the override to _all_ backend IPs.\r\n\r\n \r\n\r\n*Cause*\r\nCurrent code uses:\r\n{code:java}\r\n@volatile private var maxConnectionsPerIpOverrides = config.maxConnectionsPerIpOverrides.map { case (host, count) => (InetAddress.getByName(host), count) }  {code}\r\nwhere _InetAddress.getByName(host)_ returns only the first resolved IP, as it internally uses:\r\n\r\n \r\n{code:java}\r\npublic static InetAddress getByName(String host)\r\n    throws UnknownHostException {\r\n    return InetAddress.getAllByName(host)[0];\r\n} {code}\r\n \r\n\r\n \r\n\r\n*Proposed Fix*\r\nResolve all IPs using {{InetAddress.getAllByName(host)}} and apply the override value to each returned address.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634376/comment/18038707",
            "id": "18038707",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=wadimzh",
              "name": "wadimzh",
              "key": "JIRAUSER307899",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Vadym Zhytkevych",
              "active": true,
              "timeZone": "Europe/Stockholm"
            },
            "body": "Fixed in https://github.com/apache/kafka/pull/20894",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=wadimzh",
              "name": "wadimzh",
              "key": "JIRAUSER307899",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Vadym Zhytkevych",
              "active": true,
              "timeZone": "Europe/Stockholm"
            },
            "created": "2025-11-16T19:58:15.859+0000",
            "updated": "2025-11-16T19:58:15.859+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=wadimzh",
        "name": "wadimzh",
        "key": "JIRAUSER307899",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Vadym Zhytkevych",
        "active": true,
        "timeZone": "Europe/Stockholm"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/10002",
        "description": "A patch for this issue has been uploaded to JIRA by a contributor.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/document.png",
        "name": "Patch Available",
        "id": "10002",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634285",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634285",
    "key": "KAFKA-19888",
    "fields": {
      "summary": "Coordinator histogram negative values causing persistent write timeouts and consumer instability in Kafka 4.1.0",
      "created": "2025-11-14T14:10:16.000+0000",
      "description": "h2. Summary\r\n\r\nIn Kafka 4.1.0, a broker entered a corrupted state where the Coordinator began producing {*}negative histogram values{*}, causing persistent write timeouts to {{{}__consumer_offsets{}}}, continuous group coordinator instability, and repeated consumer disconnections.\r\n\r\nThe issue did *not* self-heal after time synchronization stabilized and only cleared after restarting the affected broker.\r\n\r\nThis suggests that the Coordinator histogram/timer subsystem becomes invalid after certain time irregularities and does not recover automatically.\r\n\r\n \r\n----\r\nh2. *Description*\r\n\r\nWe observed repeated Coordinator failures on a single broker in a production Kafka 4.1.0 cluster. The internal histogram used by the Coordinator runtime began to record {*}negative values{*}, which should be impossible under correct operation.\r\n\r\nOnce this occurs:\r\n * Coordinator write events begin to timeout repeatedly\r\n\r\n * Consumers are disconnected and reconnected frequently\r\n\r\n * Group coordination is unstable\r\n\r\n * Commits failing on __consumer_offsets\r\n * Lag increasing (\"fake\" lag), because of failures in commits\r\n * The broker remains in a broken state even after the system clock stabilizes\r\n\r\n * Only restarting the broker clears the condition\r\n\r\n * After the restart, consumer groups immediately select the same broker again as coordinator, and the problem eventually reappears\r\n\r\nThis behavior suggests state corruption inside the Coordinator's timer/histogram logic, where the {{GroupCoordinator}} component is susceptible to a fatal {{ArrayIndexOutOfBoundsException}} when attempting to record a negative value in an internal histogram.\r\n\r\nThis bug appears to be triggered by a non-monotonic clock adjustment (i.e., the system clock moving backward).\r\n\r\nWhen this exception occurs, the {{group-coordinator-event-processor}} thread fails, specifically when processing internal events like {{{*}HighWatermarkUpdate{*}.}}\r\n\r\nThe failures cause of offset *commit failures* from {*}consumers{*}.\r\n\r\n \r\n----\r\nh2. *Actual Behavior*\r\n * Coordinator internal histograms observe *negative values*\r\n\r\n * The Coordinator *fails to write to {{__consumer_offsets}}*\r\n\r\n * Consumers experience recurring instability\r\n\r\n * Kafka does not self-recover even when system time becomes stable\r\n\r\n * Only a broker restart resolves the condition\r\n\r\n \r\n----\r\nh2. *Expected behavior*\r\n\r\nKafka should:\r\n * Reject or guard against negative deltas in histogram/timer calculations\r\n\r\n * Prevent a corrupted Coordinator state from persisting\r\n\r\n * Avoid selecting a malfunctioning broker as group coordinator\r\n\r\n \r\n----\r\nh2. *Impact*\r\n * Critical production consumer instability\r\n\r\n * Continuous rebalances\r\n\r\n * Offset commit delays\r\n\r\n * \r\n ** \"Fake Lags\"\r\n * Persistent coordinator malfunction\r\n\r\n * Requires broker restarts to recover\r\n\r\n * High operational risk\r\n\r\n----\r\nh2. *LOGS*\r\n\r\n*Server-Side:* The {{GroupCoordinator}} broker log is flooded with the following exception, indicating the event processor thread is failing:\r\n\r\n \r\n*Kafka Log - 2025-11-12 at 14:56*\r\n{code:java}\r\n[2025-11-12 14:56:38,166] ERROR [group-coordinator-event-processor-0]: Failed to run event InternalEvent(name=HighWatermarkUpdate) due to: Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.\r\n[2025-11-12 14:56:38,167] ERROR [GroupCoordinator id=5] Execution of HighWatermarkUpdate failed due to Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.CoordinatorRuntime)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.\r\n...\r\n[2025-11-12 14:58:38,170] ERROR [group-coordinator-event-processor-2]: Failed to run event InternalEvent(name=FlushBatch) due to: Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.\r\n[2025-11-12 14:58:38,170] ERROR [GroupCoordinator id=5] Execution of FlushBatch failed due to Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.CoordinatorRuntime)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.{code}\r\n \r\n\r\n*Kafka Log - 2025-11-13 09:15*\r\n{code:java}\r\n[2025-11-13 09:15:39,777] ERROR [group-coordinator-event-processor-0]: Failed to run event InternalEvent(name=HighWatermarkUpdate) due to: Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.\r\n        at org.HdrHistogram.AbstractHistogram.countsArrayIndex(AbstractHistogram.java:2399) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.AbstractHistogram.recordSingleValue(AbstractHistogram.java:559) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.AbstractHistogram.recordValue(AbstractHistogram.java:467) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.Recorder.recordValue(Recorder.java:136) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.HdrHistogram.record(HdrHistogram.java:100) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.KafkaMetricHistogram.record(KafkaMetricHistogram.java:128) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.common.metrics.Sensor.recordInternal(Sensor.java:236) ~[kafka-clients-4.1.0.jar:?]\r\n        at org.apache.kafka.common.metrics.Sensor.record(Sensor.java:197) ~[kafka-clients-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.CoordinatorRuntimeMetricsImpl.recordEventQueueTime(CoordinatorRuntimeMetricsImpl.java:284) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread.handleEvents(MultiThreadedEventProcessor.java:146) [kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread.run(MultiThreadedEventProcessor.java:179) [kafka-coordinator-common-4.1.0.jar:?]\r\n[2025-11-13 09:15:39,777] ERROR [GroupCoordinator id=5] Execution of HighWatermarkUpdate failed due to Histogram recorded value cannot be negative.. (org.apache.kafka.coordinator.common.runtime.CoordinatorRuntime)\r\njava.lang.ArrayIndexOutOfBoundsException: Histogram recorded value cannot be negative.\r\n        at org.HdrHistogram.AbstractHistogram.countsArrayIndex(AbstractHistogram.java:2399) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.AbstractHistogram.recordSingleValue(AbstractHistogram.java:559) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.AbstractHistogram.recordValue(AbstractHistogram.java:467) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.HdrHistogram.Recorder.recordValue(Recorder.java:136) ~[HdrHistogram-2.2.2.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.HdrHistogram.record(HdrHistogram.java:100) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.KafkaMetricHistogram.record(KafkaMetricHistogram.java:128) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.common.metrics.Sensor.recordInternal(Sensor.java:236) ~[kafka-clients-4.1.0.jar:?]\r\n        at org.apache.kafka.common.metrics.Sensor.record(Sensor.java:197) ~[kafka-clients-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.CoordinatorRuntimeMetricsImpl.recordEventQueueTime(CoordinatorRuntimeMetricsImpl.java:284) ~[kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread.handleEvents(MultiThreadedEventProcessor.java:146) [kafka-coordinator-common-4.1.0.jar:?]\r\n        at org.apache.kafka.coordinator.common.runtime.MultiThreadedEventProcessor$EventProcessorThread.run(MultiThreadedEventProcessor.java:179) [kafka-coordinator-common-4.1.0.jar:?] {code}\r\n \r\n\r\n*Client-Side:* Consumers associated with this (failed) {{GroupCoordinator}} begin to fail their offset commits. The client logs show a continuous loop where the consumer:\r\n * Tries to commit and fails with {{This is not the correct coordinator.}}\r\n\r\n * Receives an error response {{{}NOT_COORDINATOR{}}}.\r\n\r\n * Disconnects and attempts rediscovery.\r\n\r\n * Discovers the _exact same_ (broken) broker as the coordinator and repeats the cycle.\r\n\r\n \r\n*Consumer Log - 2025-11-12 at 14:58*\r\n{code:java}\r\n2025-11-13 14:58:46.730 WARN  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Offset commit failed on partition SEND_SMS_LOW_PRIORITY-31 at offset 2291423: The coordinator is not available.\r\n2025-11-13 14:58:46.730 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Group coordinator X.X.X.X:9092 (id: 2147483642 rack: null) is unavailable or invalid due to cause: error response COORDINATOR_NOT_AVAILABLE. isDisconnected: false. Rediscovery will be attempted.\r\n2025-11-12 14:58:46.388 INFO [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Requesting disconnect from last known coordinator 10.0.01:9092 (id: 2147483642 rack: null) 2025-11-12 14:58:46.395 INFO [o.apache.kafka.clients.NetworkClient] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Client requested disconnect from node 2147483642 2025-11-12 14:58:46.396 INFO [o.apache.kafka.clients.NetworkClient] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Cancelled in-flight OFFSET_COMMIT request with correlation id 3436277 due to node 2147483642 being disconnected (elapsed time since creation: 12ms, elapsed time since send: 12ms, throttle time: 0ms, request timeout: 30000ms) 2025-11-12 14:58:46.677 INFO [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Discovered group coordinator X.X.X.X:9092 (id: 2147483642 rack: null) {code}\r\n \r\n\r\n*Consumer Log - 2025-11-13 at 09:15*\r\n{code:java}\r\n2025-11-13 09:15:46.730 WARN  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Offset commit failed on partition SEND_SMS_LOW_PRIORITY-31 at offset 2291423: The coordinator is not available.\r\n2025-11-13 09:15:46.730 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Group coordinator X.X.X.X:9092 (id: 2147483642 rack: null) is unavailable or invalid due to cause: error response COORDINATOR_NOT_AVAILABLE. isDisconnected: false. Rediscovery will be attempted.\r\n2025-11-13 09:15:46.730 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Requesting disconnect from last known coordinator X.X.X.X:9092 (id: 2147483642 rack: null)\r\n2025-11-13 09:15:46.732 INFO  [o.apache.kafka.clients.NetworkClient] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Client requested disconnect from node 2147483642\r\n2025-11-13 09:15:46.949 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Discovered group coordinator X.X.X.X:9092 (id: 2147483642 rack: null)\r\n2025-11-13 09:15:51.958 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Group coordinator X.X.X.X:9092 (id: 2147483642 rack: null) is unavailable or invalid due to cause: error response COORDINATOR_NOT_AVAILABLE. isDisconnected: false. Rediscovery will be attempted.\r\n2025-11-13 09:15:51.958 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Requesting disconnect from last known coordinator X.X.X.X:9092 (id: 2147483642 rack: null)\r\n2025-11-13 09:15:51.958 INFO  [o.apache.kafka.clients.NetworkClient] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Client requested disconnect from node 2147483642\r\n2025-11-13 09:15:51.958 INFO  [o.apache.kafka.clients.NetworkClient] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Cancelled in-flight OFFSET_COMMIT request with correlation id 3557487 due to node 2147483642 being disconnected (elapsed time since creation: 4908ms, elapsed time since send: 4908ms, throttle time: 0ms, request timeout: 30000ms)\r\n2025-11-13 09:15:52.086 INFO  [SendAggregateTemplateRoute] [] - Grouped 2 messages.\r\n2025-11-13 09:15:52.132 INFO  [o.a.k.c.c.i.ConsumerCoordinator] [] - [Consumer clientId=CLIENT_ID_CONSUMER_LOW_PRIORITY, groupId=CONSUMER_GROUP_LOW_PRIORITY] Discovered group coordinator X.X.X.X:9092 (id: 2147483642 rack: null) {code}\r\n \r\n----\r\n \r\n\r\n*Workaround (Temporary Fix):*\r\n # Restarting the affected broker to force a new {{GroupCoordinator}} election for the affected consumer groups.\r\n\r\n # \r\n ## After the broker restarts, consumers will once again discover it as Group Coordinator.\r\n\r\n \r\n----\r\nh2. *NTP*\r\n\r\nBrokers of Kafka Cluster and Clients Consumers are with NTP service active\r\n{code:java}\r\ntimedatectl\r\n               Local time: Fri 2025-11-14 11:07:49 -03\r\n           Universal time: Fri 2025-11-14 14:07:49 UTC\r\n                 RTC time: Fri 2025-11-14 14:07:49\r\n                Time zone: America/Sao_Paulo (-03, -0300)\r\nSystem clock synchronized: yes\r\n              NTP service: active\r\n          RTC in local TZ: no {code}\r\n \r\n----\r\nh2. *Request for Analysis / Questions*\r\n # Does Kafka 4.1.0 require strictly monotonic time for Coordinator histogram/timer logic?\r\n\r\n # Is histogram corruption (negative values) a known issue in 4.1.X?\r\n\r\n # Should Kafka validate histogram deltas to prevent negative values?\r\n\r\n # Is this fixed in newer Kafka releases?\r\n\r\n # Should CoordinatorRuntime reset its internal state when encountering time irregularities?\r\n\r\n # Is there a recommended workaround to avoid Coordinator entering this permanent error state?\r\n\r\n \r\n\r\n \r\n\r\n ",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634285/comment/18038432",
            "id": "18038432",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dajac",
              "name": "dajac",
              "key": "dajac",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "David Jacot",
              "active": true,
              "timeZone": "Europe/Zurich"
            },
            "body": "[~squah-confluent] Could you please take a look into this?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dajac",
              "name": "dajac",
              "key": "dajac",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "David Jacot",
              "active": true,
              "timeZone": "Europe/Zurich"
            },
            "created": "2025-11-14T18:15:09.117+0000",
            "updated": "2025-11-14T18:15:09.117+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634285/comment/18038591",
            "id": "18038591",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=squah-confluent",
              "name": "squah-confluent",
              "key": "JIRAUSER304653",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Sean Quah",
              "active": true,
              "timeZone": "Europe/London"
            },
            "body": "{quote}1. Does Kafka 4.1.0 require strictly monotonic time for Coordinator histogram/timer logic?\r\n{quote}\r\nYes, but I believe this an implementation error and not by design.\r\n{quote}2. Is histogram corruption (negative values) a known issue in 4.1.X?{quote}\r\nNo, this is the first bug report we've seen. It will impact Kafka versions >= 4.0.\r\n{quote}3. Should Kafka validate histogram deltas to prevent negative values?\r\n{quote}\r\nYes\r\n{quote}4. Is this fixed in newer Kafka releases?\r\n{quote}\r\nNot yet. This issue has been marked as a blocker for the 4.2 release. 4.2 will contain the fix for it.\r\n{quote}5. Should CoordinatorRuntime reset its internal state when encountering time irregularities?\r\n{quote}\r\nThe coordinator should have recovered as soon as the clock stopped going backwards and the internal queues were fully drained. The exception to this is when a __consumer_offsets leadership change happens at the same time and the load operation for a __consumer_offsets partition fails. Then that partition will be marked as failed and the coordinator will not retry loading. This will be visible in metrics under kafka.server:type=group-coordinator-metrics,name=partition-count,state=failed\r\n{quote}6. Is there a recommended workaround to avoid Coordinator entering this permanent error state?\r\n{quote}\r\nNot at the moment. The broker has to be restarted to clear the failure.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=squah-confluent",
              "name": "squah-confluent",
              "key": "JIRAUSER304653",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Sean Quah",
              "active": true,
              "timeZone": "Europe/London"
            },
            "created": "2025-11-15T20:39:58.192+0000",
            "updated": "2025-11-15T20:39:58.192+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634285/comment/18039202",
            "id": "18039202",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=elielfg",
              "name": "elielfg",
              "key": "JIRAUSER311502",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39936",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39936",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39936",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39936"
              },
              "displayName": "Eliel Gomes",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hi [~squah-confluent] , [~dajac], how are you?\r\n\r\nDuring our analysis, we identified a potential time-synchronization conflict:\r\nthe *VMware vCenter periodic time sync* (VMware Tools \"Synchronize time periodically\") might have been competing with the *NTP service running* on the affected virtual machines.\r\n\r\nAs a workaround, we disabled the vCenter time synchronization.\r\n\r\nSince applying this workaround six days ago, we have not observed any recurrence of the “histogram value negative” exception.\r\n\r\nThat said, we want to emphasize that we cannot confirm with certainty that this was the root cause. It may be coincidental, and the issue might not be directly related to this configuration. Our intention is to share our findings so the Kafka team has additional data points that might assist in evaluating the behavior.\r\n\r\nIf this scenario can indeed impact Kafka’s metrics subsystem, it may be valuable to consider:\r\n * improvements to make future Kafka versions more resilient to time shifts or sync conflicts, or\r\n * explicit documentation guidance highlighting how time synchronization conflicts can affect Kafka internals, if the team determines this is relevant.\r\n\r\nWe’re glad to provide any additional logs, metrics, or configuration details that could help.\r\n\r\nThank you for your support.\r\n\r\nBest regards,\r\nEliel Gomes",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=elielfg",
              "name": "elielfg",
              "key": "JIRAUSER311502",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39936",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39936",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39936",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39936"
              },
              "displayName": "Eliel Gomes",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-18T17:37:03.363+0000",
            "updated": "2025-11-19T15:44:28.633+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=squah-confluent",
        "name": "squah-confluent",
        "key": "JIRAUSER304653",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Sean Quah",
        "active": true,
        "timeZone": "Europe/London"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634151",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634151",
    "key": "KAFKA-19887",
    "fields": {
      "summary": " Add separate option for topic regex pattern matching in command-line tools",
      "created": "2025-11-13T09:31:35.000+0000",
      "description": "see [https://github.com/apache/kafka/pull/20865#discussion_r2522364991]\r\n\r\nCurrently, the {{--topic}} option in kafka-topics.sh serves dual purposes - it accepts both literal topic names and regex patterns, which causes ambiguity and usability issues. This is particularly problematic for topic names containing dots (.) and other regex metacharacters.\r\n\r\n*Implementation Plan:*\r\n # 4.x: Introduce the new regex option and deprecate regex usage in {{--topic}}\r\n\r\n # 5.x: Remove regex functionality from {{--topic}} option entirely\r\n\r\nThis improvement could also be extended to all other scripts that support regex patterns for consistency.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=isding_l",
        "name": "isding_l",
        "key": "JIRAUSER301111",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Lan Ding",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "need-kip"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634148",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634148",
    "key": "KAFKA-19886",
    "fields": {
      "summary": "Trogdor | Fix order of arguments in assertEquals() in unit tests",
      "created": "2025-11-13T09:08:12.000+0000",
      "description": "This sub-task is intended to fix the order of arguments passed in assertions in test cases within the trogdor package.\r\nh4.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ksolves.kafka",
        "name": "ksolves.kafka",
        "key": "JIRAUSER305714",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER305714&avatarId=53558",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER305714&avatarId=53558",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER305714&avatarId=53558",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER305714&avatarId=53558"
        },
        "displayName": "Ksolves India Limited",
        "active": true,
        "timeZone": "Asia/Kolkata"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/5",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.svg",
        "name": "Trivial",
        "id": "5"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634125",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634125",
    "key": "KAFKA-19885",
    "fields": {
      "summary": "Explicity define either `execution` or `dry-run`when altering the offsets",
      "created": "2025-11-13T01:19:42.000+0000",
      "description": "see https://github.com/apache/kafka/pull/20867#discussion_r2520631578",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
        "name": "chia7712",
        "key": "chia7712",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
        },
        "displayName": "Chia-Ping Tsai",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634122",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634122",
    "key": "KAFKA-19884",
    "fields": {
      "summary": "Add tests to ensure Consumer.close() timeouts work as documented",
      "created": "2025-11-13T00:58:08.000+0000",
      "description": "This task is to implement tests to show the timing behavior of {{Consumer.close()}} works as documented.\r\n\r\nSee KAFKA-15402.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=kirktrue",
        "name": "kirktrue",
        "key": "kirktrue",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kirktrue&avatarId=49354",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kirktrue&avatarId=49354",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kirktrue&avatarId=49354",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kirktrue&avatarId=49354"
        },
        "displayName": "Kirk True",
        "active": true,
        "timeZone": "America/Los_Angeles"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "integration-test"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/10002",
        "description": "A patch for this issue has been uploaded to JIRA by a contributor.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/document.png",
        "name": "Patch Available",
        "id": "10002",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634108",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108",
    "key": "KAFKA-19883",
    "fields": {
      "summary": "Support Hierarchical Transactional Acknowledgments for Share Groups",
      "created": "2025-11-12T20:11:10.000+0000",
      "description": "Add transactional acknowledgment support to Kafka Share Groups to enable +*exactly-once read semantics*+ in distributed stream processing engines like Apache Spark and Apache Flink.  \r\n\r\nThe exactly-once guarantee comes from transactional acknowledgments ensuring no record is permanently acknowledged until the checkpoint commits,\r\n\r\n \r\n\r\n *Current Behavior:*\r\n  Share Groups support only immediate acknowledgment mode where records are permanently acknowledged as soon as consumer.acknowledge() is called. This creates data loss scenarios in distributed streaming frameworks:\r\n\r\n  1. Worker polls and acknowledges records to Kafka\r\n  2. Records are permanently removed from Kafka\r\n  3. Checkpoint/batch fails before writing to sink\r\n  4. Records are lost (acknowledged but never reached sink)\r\n\r\n  This prevents exactly-once semantics in Spark/Flink with Share Groups.\r\n\r\n  *Expected Behavior:*\r\n  Share Groups should support transactional acknowledgment mode where:\r\n\r\n  1. Records are acknowledged within transactions\r\n  2. Acknowledgments are pending until transaction commits\r\n  3. Transaction rollback makes ALL records available for retry\r\n  4. Enables atomic coordination with framework checkpoints/batches\r\n\r\n  *Proposed Solution:*\r\n\r\n  Implement hierarchical two-phase commit transactions:\r\n{quote}  BatchTransaction (coordinator/driver level)\r\n    ├─ TaskTransaction1 (worker/executor level)\r\n    │    ├─ acknowledge(record1, ACCEPT)\r\n    │    ├─ acknowledge(record2, ACCEPT)\r\n    │    └─ prepare() ← Phase 1\r\n    │\r\n    ├─ TaskTransaction2 (worker/executor level)\r\n    │    ├─ acknowledge(record3, ACCEPT)\r\n    │    └─ prepare() ← Phase 1\r\n    │\r\n    └─ commit() ← Phase 2: Atomically commits all task transactions\r\n{quote}\r\n \r\n\r\n  - Batch transactions (coordinator-level)\r\n  - Task transactions (worker-level)\r\n  - Records stay in Kafka until transaction commits\r\n  - Rollback on failure → no data loss\r\n\r\n \r\n\r\nExample Recovery after failure: \r\n\r\n \r\n\r\n```\r\n\r\n  Example: Recovery After Failure\r\n\r\n  Checkpoint CP1 Processing:\r\n    Time 10:00 - Consumer 1 polls, gets records [A, B, C] (offsets 1000, 1001, 1002)\r\n    Time 10:01 - Consumer 2 polls, gets records [D, E, F] (offsets 1003, 1004, 1005)\r\n    Time 10:02 - Consumer 1 acknowledges A, B, C in transaction \"checkpoint-CP1\"\r\n    Time 10:03 - Consumer 2 acknowledges D, E, F in transaction \"checkpoint-CP1\"\r\n    Time 10:04 - Consumer 1 crashes before prepare()\r\n\r\n  Broker State:\r\n    Transaction \"checkpoint-CP1\": ACTIVE (not prepared)\r\n    Records in transaction:\r\n      - A (offset 1000): LOCKED → transaction lock\r\n      - B (offset 1001): LOCKED → transaction lock\r\n      - C (offset 1002): LOCKED → transaction lock\r\n      - D (offset 1003): LOCKED → transaction lock\r\n      - E (offset 1004): LOCKED → transaction lock\r\n      - F (offset 1005): LOCKED → transaction lock\r\n\r\n  Recovery (JobManager detects failure):\r\n    Time 10:05 - JobManager aborts checkpoint CP1\r\n    Time 10:06 - Rollback transaction \"checkpoint-CP1\"\r\n               → A, B, C, D, E, F become AVAILABLE again\r\n\r\n    Time 10:07 - Restore from checkpoint CP1-1\r\n    Time 10:08 - Consumer 1 (new instance) polls\r\n               → Kafka returns available records\r\n               → Might get [A, D, B] (different order than before!)\r\n    Time 10:09 - Consumer 2 polls\r\n               → Might get [C, E, F]\r\n\r\n```\r\n\r\n  *API Changes:*\r\n\r\n  New Consumer API:\r\n  // Batch-level transaction\r\n  BatchTransaction beginBatchTransaction(String batchTransactionId);\r\n  void commitBatchTransaction(BatchTransaction txn, Duration timeout) \r\n      throws TimeoutException, TransactionException;\r\n  void rollbackBatchTransaction(BatchTransaction txn);\r\n\r\n  // Task-level transaction\r\n  TaskTransaction beginTaskTransaction(BatchTransaction parent, String taskId);\r\n  void acknowledge(TaskTransaction txn, ConsumerRecord<K,V> record, AcknowledgeType type);\r\n  void prepareTaskTransaction(TaskTransaction txn);\r\n  void commitTaskTransaction(TaskTransaction txn);\r\n  void rollbackTaskTransaction(TaskTransaction txn);\r\n\r\n  *New Configuration:*\r\n  share.acknowledgement.mode=transactional  # Default: explicit\r\n  share.batch.transaction.timeout.ms=300000\r\n  share.task.transaction.timeout.ms=120000\r\n  share.transaction.commit.timeout.ms=30000\r\n  share.transaction.auto.rollback=true\r\n\r\n \r\n\r\n*Target Use Cases:* Apache Spark structured streaming, Apache Flink exactly-once checkpoints, any coordinator-worker streaming framework.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18037872",
            "id": "18037872",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Ref: https://issues.apache.org/jira/browse/SPARK-54321\r\n\r\nhttps://issues.apache.org/jira/browse/FLINK-38287\r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-12T20:15:10.054+0000",
            "updated": "2025-11-12T20:15:10.054+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18037888",
            "id": "18037888",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dongjoon",
              "name": "dongjoon",
              "key": "dongjoon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dongjoon&avatarId=42503",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dongjoon&avatarId=42503",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dongjoon&avatarId=42503",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dongjoon&avatarId=42503"
              },
              "displayName": "Dongjoon Hyun",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "body": "Since Apache Kafka 4.1.0 is already released, I fixed the affected version to 4.2.0.\r\n- https://dlcdn.apache.org/kafka/4.1.0/RELEASE_NOTES.html",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dongjoon",
              "name": "dongjoon",
              "key": "dongjoon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dongjoon&avatarId=42503",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dongjoon&avatarId=42503",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dongjoon&avatarId=42503",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dongjoon&avatarId=42503"
              },
              "displayName": "Dongjoon Hyun",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "created": "2025-11-12T21:41:16.205+0000",
            "updated": "2025-11-12T21:41:16.205+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18037904",
            "id": "18037904",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Thanks for the issue. This certainly will require a KIP.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-12T22:42:33.512+0000",
            "updated": "2025-11-12T22:42:33.512+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18038124",
            "id": "18038124",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~schofielaj] , can you please help in creating KIP ? I was not able to create one here [https://cwiki.apache.org/confluence/] ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-13T18:21:33.310+0000",
            "updated": "2025-11-13T18:21:33.310+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18038181",
            "id": "18038181",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Start [https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Improvement+Proposals] to create a KIP. This would be a complicated KIP and it will need to cover how to introduce transactions into the share coordinator. There will be changes to the Java API and also to the Kafka protocol. I do anticipate adding transaction support to share groups one day, but in terms of my priorities, it is behind dead-letter queues.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-13T22:57:56.024+0000",
            "updated": "2025-11-13T22:57:56.024+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634108/comment/18038526",
            "id": "18038526",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~schofielaj] , somehow I am not able to login to confluence and requested for new account but did not get any mail back for account creation. ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=shekharrajak",
              "name": "shekharrajak",
              "key": "shekharrajak",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=shekharrajak&avatarId=54584",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=shekharrajak&avatarId=54584",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=shekharrajak&avatarId=54584",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=shekharrajak&avatarId=54584"
              },
              "displayName": "Shekhar Prasad Rajak",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-15T06:29:17.331+0000",
            "updated": "2025-11-15T06:29:17.331+0000"
          }
        ],
        "maxResults": 6,
        "total": 6,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
        "name": "schofielaj",
        "key": "schofielaj",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Andrew Schofield",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "queues-for-kafka"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634097",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634097",
    "key": "KAFKA-19882",
    "fields": {
      "summary": "JMX tags applied to all client metrics, not just client state for KIP-1091",
      "created": "2025-11-12T18:29:22.000+0000",
      "description": "When working on [KIP-1091|https://cwiki.apache.org/confluence/display/KAFKA/KIP-1091%3A+Improved+Kafka+Streams+operator+metrics], we mistakenly applied the `process-id` tag to all client-level metrics, rather than just the `client-state`, `thread-state`, and `recording-level` metrics as specified in the KIP.  This issue came to light while working on KIP-1221, which aimed to add the `application-id` as a tag to the `client-state` metric introduced by KIP-1091.\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=gghiro",
        "name": "gghiro",
        "key": "JIRAUSER310713",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Genseric Ghiro",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634080",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634080",
    "key": "KAFKA-19881",
    "fields": {
      "summary": "Docker Image CVE Scanner workflow consistently failing",
      "created": "2025-11-12T15:00:20.000+0000",
      "description": "That workflow (https://github.com/apache/kafka/actions/workflows/docker_scan.yml) has been failing since February.\r\n\r\nIs this workflow useful? If so should it gate releases?",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13634080/comment/18037934",
            "id": "18037934",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "The exit-code is 1 ([https://github.com/apache/kafka/blob/f685d57f2cb1bcbedcf37d0e2e1cd577fb6ef594/.github/workflows/docker_scan.yml#L39]). From [trivy-action document|https://github.com/aquasecurity/trivy-action], it returns this value when finding vulnerabilities. Currently, it scans released images. However, the released images cannot be changed. IMO, we can build temporary image and only scan this image on branch head like trunk, 4.1, 4.0, and 3.9.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-13T01:04:59.657+0000",
            "updated": "2025-11-13T01:04:59.657+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
        "name": "yangpoan",
        "key": "JIRAUSER300229",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
        },
        "displayName": "PoAn Yang",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/3",
        "description": "This issue is being actively worked on at the moment by the assignee.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/inprogress.png",
        "name": "In Progress",
        "id": "3",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/4",
          "id": 4,
          "key": "indeterminate",
          "colorName": "yellow",
          "name": "In Progress"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634060",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634060",
    "key": "KAFKA-19880",
    "fields": {
      "summary": "First batch in producer epoch can be appended out-of-order even for idempotent producer",
      "created": "2025-11-12T14:11:45.000+0000",
      "description": "I observe the following behavior. A Java producer with enable.idempotence=true and max.in.flight.requests.per.connection=5 sends a number of records, enough to form several batches in several Produce requests. The topic is empty, freshly created.\r\n{code:java}\r\n[2025-11-11 11:41:19,125] DEBUG [Producer clientId=producer-1] Assigned producerId 0 and producerEpoch 0 to batch with base sequence 0 being sent to partition input-topic-0 (org.apache.kafka.clients.producer.internals.RecordAccumulator)\r\n[2025-11-11 11:41:19,132] DEBUG [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=13, clientId=producer-1, correlationId=21, headerVersion=2) and timeout 30000 to node 3: {acks=-1,timeout=30000,partitionSizes=[4rrMdxpZQnyDKO4QKjPq-A:input-topic-0=16383]} (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-11 11:41:19,133] DEBUG [Producer clientId=producer-1] Assigned producerId 0 and producerEpoch 0 to batch with base sequence 1458 being sent to partition input-topic-0 (org.apache.kafka.clients.producer.internals.RecordAccumulator)\r\n[2025-11-11 11:41:19,133] DEBUG [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=13, clientId=producer-1, correlationId=22, headerVersion=2) and timeout 30000 to node 3: {acks=-1,timeout=30000,partitionSizes=[4rrMdxpZQnyDKO4QKjPq-A:input-topic-0=16377]} (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-11 11:41:19,133] DEBUG [Producer clientId=producer-1] Assigned producerId 0 and producerEpoch 0 to batch with base sequence 2823 being sent to partition input-topic-0 (org.apache.kafka.clients.producer.internals.RecordAccumulator)\r\n[2025-11-11 11:41:19,133] DEBUG [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=13, clientId=producer-1, correlationId=23, headerVersion=2) and timeout 30000 to node 3: {acks=-1,timeout=30000,partitionSizes=[4rrMdxpZQnyDKO4QKjPq-A:input-topic-0=16377]} (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-11 11:41:19,133] DEBUG [Producer clientId=producer-1] Assigned producerId 0 and producerEpoch 0 to batch with base sequence 4188 being sent to partition input-topic-0 (org.apache.kafka.clients.producer.internals.RecordAccumulator)\r\n[2025-11-11 11:41:19,135] DEBUG [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=13, clientId=producer-1, correlationId=24, headerVersion=2) and timeout 30000 to node 3: {acks=-1,timeout=30000,partitionSizes=[4rrMdxpZQnyDKO4QKjPq-A:input-topic-0=16377]} (org.apache.kafka.clients.NetworkClient)\r\n[2025-11-11 11:41:19,135] DEBUG [Producer clientId=producer-1] Assigned producerId 0 and producerEpoch 0 to batch with base sequence 5553 being sent to partition input-topic-0 (org.apache.kafka.clients.producer.internals.RecordAccumulator)\r\n[2025-11-11 11:41:19,135] DEBUG [Producer clientId=producer-1] Sending PRODUCE request with header RequestHeader(apiKey=PRODUCE, apiVersion=13, clientId=producer-1, correlationId=25, headerVersion=2) and timeout 30000 to node 3: {acks=-1,timeout=30000,partitionSizes=[4rrMdxpZQnyDKO4QKjPq-A:input-topic-0=16377]} (org.apache.kafka.clients.NetworkClient){code}\r\n \r\n\r\nThe cluster and the target broker are experiencing some connectivity issue affecting metadata propagation. The target broker doesn't think it's the leader of the partition for some time, so it rejects first requests:\r\n\r\n \r\n{code:java}\r\n[2025-11-11 11:41:20,456] DEBUG [KafkaApi-3] Produce request with correlation id 21 from client producer-1 on partition 4rrMdxpZQnyDKO4QKjPq-A:input-topic-0 failed due to org.apache.kafka.common.errors.NotLeaderOrFollowerException (kafka.server.KafkaApis)\r\n[2025-11-11 11:41:24,876] DEBUG [KafkaApi-3] Produce request with correlation id 22 from client producer-1 on partition 4rrMdxpZQnyDKO4QKjPq-A:input-topic-0 failed due to org.apache.kafka.common.errors.NotLeaderOrFollowerException (kafka.server.KafkaApis)\r\n{code}\r\nThen it finds out it's the leader of the partition, but doesn't yet learn about the other replica:\r\n\r\n \r\n{code:java}\r\n[2025-11-11 11:41:45,498] ERROR [ReplicaManager broker=3] Error processing append operation on partition 4rrMdxpZQnyDKO4QKjPq-A:input-topic-0 (kafka.server.ReplicaManager)\r\norg.apache.kafka.common.errors.NotEnoughReplicasException: The size of the current ISR : 1 is insufficient to satisfy the min.isr requirement of 2 for partition input-topic-0, live replica(s) broker.id are : Set(3)\r\n[2025-11-11 11:41:45,498] DEBUG [KafkaApi-3] Produce request with correlation id 23 from client producer-1 on partition 4rrMdxpZQnyDKO4QKjPq-A:input-topic-0 failed due to org.apache.kafka.common.errors.NotEnoughReplicasException (kafka.server.KafkaApis){code}\r\nAnd finally when it comes to the request with correlation ID 24, it succeeds. So the first written batch is logically out-of-sequence, but accepted.\r\n\r\n \r\n\r\nThe previously failed batches may be retried later, with new producer epoch (like happened in my case), but this doesn't matter: the intended order of records is violated.\r\n\r\n \r\n\r\nI'm able to live reproduce this quite reliably under [Antithesis|https://antithesis.com/]. Probably, it won't be easy to make a local setup to catch this with good frequency. But I boiled this down to the following unit test (in ReplicaManagerTest):\r\n{noformat}\r\n  @Test\r\n  def testX(): Unit = {\r\n    val mockLogMgr = TestUtils.createLogManager(config.logDirs.asScala.map(new File(_)))\r\n    val node = new Node(0, \"host0\", 0)\r\n    mockGetAliveBrokerFunctions(metadataCache, Seq(node))\r\n    val rm = new ReplicaManager(\r\n      metrics = metrics,\r\n      config = config,\r\n      time = time,\r\n      scheduler = new MockScheduler(time),\r\n      logManager = mockLogMgr,\r\n      quotaManagers = quotaManager,\r\n      metadataCache = new KRaftMetadataCache(config.brokerId, () => KRaftVersion.KRAFT_VERSION_0),\r\n      logDirFailureChannel = new LogDirFailureChannel(config.logDirs.size),\r\n      alterPartitionManager = alterPartitionManager,\r\n      threadNamePrefix = Option(this.getClass.getName))\r\n    try {\r\n      val tp = new TopicPartition(topic, 0)\r\n      val partition = rm.createPartition(tp)\r\n      partition.createLogIfNotExists(isNew = false, isFutureReplica = false,\r\n        new LazyOffsetCheckpoints(rm.highWatermarkCheckpoints.asJava), None)\r\n      rm.becomeLeaderOrFollower(0, new LeaderAndIsrRequest.Builder(0, 0, brokerEpoch,\r\n        Seq(new LeaderAndIsrRequest.PartitionState()\r\n          .setTopicName(topic)\r\n          .setPartitionIndex(0)\r\n          .setControllerEpoch(0)\r\n          .setLeader(config.brokerId())\r\n          .setLeaderEpoch(0)\r\n          .setIsr(Seq[Integer](config.brokerId()).asJava)\r\n          .setPartitionEpoch(0)\r\n          .setReplicas(Seq[Integer](config.brokerId()).asJava)\r\n          .setIsNew(false)).asJava,\r\n        Collections.singletonMap(topic, topicId),\r\n        Set(node).asJava).build(), (_, _) => ())\r\n      rm.getPartitionOrException(tp)\r\n        .localLogOrException\r\n\r\n      val topicIdPartition = new TopicIdPartition(Uuid.ZERO_UUID, partition.topicPartition)\r\n\r\n      val producerId = 10L\r\n      val producerEpoch: Short = 10\r\n\r\n      val r0 = MemoryRecords.withIdempotentRecords(Compression.NONE, producerId, producerEpoch, 0, new SimpleRecord(\"record 0\".getBytes()))\r\n      val r1 = MemoryRecords.withIdempotentRecords(Compression.NONE, producerId, producerEpoch, 1, new SimpleRecord(\"record 1\".getBytes()))\r\n\r\n//      val order = List(r0, r1)  // normal order -- no ordering violation\r\n      val order = List(r1, r0)  // r1 will be accepted out of order; r0 will be retried later with newer epoch and accepted\r\n\r\n      def callback(responseStatus: Map[TopicIdPartition, PartitionResponse]): Unit = {\r\n        println(responseStatus(topicIdPartition).error)\r\n      }\r\n\r\n      for (r <- order) {\r\n        rm.appendRecords(\r\n          timeout = 1000,\r\n          requiredAcks = -1,\r\n          internalTopicsAllowed = false,\r\n          origin = AppendOrigin.CLIENT,\r\n          entriesPerPartition = Map(topicIdPartition -> r),\r\n          responseCallback = callback,\r\n        )\r\n      }\r\n    } finally {\r\n      rm.shutdown(checkpointHW = false)\r\n    }\r\n  }\r\n{noformat}\r\n \r\n\r\nAs far as I understand, it isn't necessary for the partition to be empty. It's enough for the producer state to be empty and the first requests in the producer epoch to fail like above.\r\n\r\nIf a first request in the producer epoch succeeds, the situation will not be possible. For example, we send r1, r2, r3. r1 succeeds, r2 fails with NotLeaderOrFollowerException, r3 won't be accepted and will fail with OutOfOrderSequenceException.\r\n\r\nI attribute this difference to [this validation on the broker side|https://github.com/apache/kafka/blob/3479ce793bafc6a1c42e6afa77e3fbfc3a36c80c/storage/src/main/java/org/apache/kafka/storage/internals/log/ProducerAppendInfo.java#L144-L148].\r\n\r\n \r\n\r\nAFAIU, this is a bug, at least according to how I read the documentation. I would expect enable.idempotence to prevent this from happening. Am I right or it is acceptable and we should improve the documentation instead?\r\n\r\nCan we require on the broker side that the first batch in a producer epoch always starts with the sequence 0?",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634038",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634038",
    "key": "KAFKA-19879",
    "fields": {
      "summary": "How to keep compatibility when the configuration validator gets changed?",
      "created": "2025-11-12T10:28:03.000+0000",
      "description": "see the discussion: https://github.com/apache/kafka/pull/20334#discussion_r2511260699",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
        "name": "chia7712",
        "key": "chia7712",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
        },
        "displayName": "Chia-Ping Tsai",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13634033",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13634033",
    "key": "KAFKA-19878",
    "fields": {
      "summary": "Connect | Fix order of arguments in assertEquals",
      "created": "2025-11-12T09:39:12.000+0000",
      "description": "This sub-task is intended to fix the order of arguments passed in assertions in test cases within the connect package.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ksolves.kafka",
        "name": "ksolves.kafka",
        "key": "JIRAUSER305714",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER305714&avatarId=53558",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER305714&avatarId=53558",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER305714&avatarId=53558",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER305714&avatarId=53558"
        },
        "displayName": "Ksolves India Limited",
        "active": true,
        "timeZone": "Asia/Kolkata"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/5",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.svg",
        "name": "Trivial",
        "id": "5"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633898",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633898",
    "key": "KAFKA-19877",
    "fields": {
      "summary": "Clarify Deserializer contract around ByteBuffer position, limit",
      "created": "2025-11-11T01:01:15.000+0000",
      "description": "We use custom Serde implementations. We improved our Serde to avoid taking {{byte[]}} copies by using the {{deserialize(String topic, Headers headers, ByteBuffer data)}} overload. This ended up introducing a serious bug into a distant module that relied on {{serializedValueSize}} on the consumer record.\r\n\r\nPer the {{Deserializer}} documentation, we were careful not to assume anything about the capacity etc.\r\n\r\nHowever, I think there are some logical gaps in the contract as currently written.\r\n\r\nSpecifically, the deserialize call \"cannot make any assumptions about the returned ByteBuffer like the position\". The contract does not say what you *can* assume - should you assume the data starts at position 0? This seems to be the case but is not explicitly stated.\r\n\r\nRelatedly, since you cannot assume the {{limit}} means anything, that means all deserializers must have some kind of internal framing or is otherwise able to safely and cheaply ignore extra data past the end of your structure. Kafka itself violates this contract - the default implementation calls {{Utils.toNullableArray}} which calls {{buffer.remaining() }} ({{{}limit - position{}}}) to understand how many bytes are left because what else can you do, without another level of framing?\r\n\r\nI think this would be better if the deserializer either stated to always start at position 0, or always provide the buffer positioned to the start of the record.  If we really cannot rely on {{{}limit{}}}, then the current call to {{toNullableArray}} is wrong, and I am not sure how to fix it - so I think updating the spec to state that {{position}} and {{limit}} can be relied on to frame the data is the best fix here.\r\n\r\nAdditionally, the contract does not say anything about the {{position}} of the buffer *after* the deserializer is done with it. However, this turns out to be very important in calculating the {{serializedValueSize}} - if your deserializer advances the position of the buffer to read the data (which is *really* easy to do with {{{}ByteBuffer{}}}), that takes away from the serialized size, often leaving it as 0 (all bytes consumed by deserialization). Either the {{CompletedFetch}} and {{ShareCompletedFetch}} implementations should be both be updated to use {{limit}} instead of {{{}remaining{}}}, or the {{Deserializer}} should make it very clear that you must not move the {{position}} pointer.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633856",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633856",
    "key": "KAFKA-19876",
    "fields": {
      "summary": "Replace the base image since openjdk image is deprecated",
      "created": "2025-11-10T16:28:37.000+0000",
      "description": "see [https://github.com/docker-library/openjdk/issues/505]\r\n\r\nand https://hub.docker.com/_/openjdk\r\n\r\n \r\n\r\n ",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633856/comment/18038522",
            "id": "18038522",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "4.1: [https://github.com/apache/kafka/commit/fcaf3ba5563702d7d0e295dd049e78692c7be5f7]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-15T05:53:14.099+0000",
            "updated": "2025-11-15T05:53:14.099+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633856/comment/18038524",
            "id": "18038524",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "4.0: [https://github.com/apache/kafka/commit/5aafa9ad31f3c0c1d98882681dd2695395604fbb]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-15T05:56:32.622+0000",
            "updated": "2025-11-15T05:56:32.622+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633856/comment/18039993",
            "id": "18039993",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "Summary:\r\n\r\n1) the new base image is `eclipse-temurin:17-jdk-jammy` for 4.x and eclipse-temurin:8-jdk-jammy for 3.9\r\n\r\n2) use symbolic link instead of `PATH` to expose the java path",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-21T23:09:14.412+0000",
            "updated": "2025-11-21T23:09:14.412+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mingyen066",
        "name": "mingyen066",
        "key": "JIRAUSER287528",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
        },
        "displayName": "Ming-Yen Chung",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633810",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810",
    "key": "KAFKA-19875",
    "fields": {
      "summary": "Duplicated topic config prevents broker start",
      "created": "2025-11-10T09:18:43.000+0000",
      "description": "KIP-1161 tightened the validation of configurations. Unfortunately, there is a situation in which the tighter validation introduces a blocking issue for AK 4.2.\r\n\r\nIf I create a broker in AK 4.1 and then create a topic with a duplicated value for the cleanup.policy config, the broker will not start with the AK 4.2 code.\r\n\r\nHere's an example of the topic creation which succeeds in AK 4.1:\r\n\r\n$ bin/kafka-topics.sh --bootstrap-server localhost:9092 --create --topic T1 --config cleanup.policy=delete,delete\r\n\r\nAnd here's the exception stack trace from the 4.2 broker failing to start:\r\n\r\n[2025-11-10 09:14:28,730] ERROR Encountered fatal fault: Error starting LogManager (org.apache.kafka.server.fault.ProcessTerminatingFaultHandler)\r\norg.apache.kafka.common.config.ConfigException: Configuration 'cleanup.policy' values must not be duplicated.\r\nat org.apache.kafka.common.config.ConfigDef$ValidList.ensureValid(ConfigDef.java:1050)\r\nat org.apache.kafka.common.config.ConfigDef.parseValue(ConfigDef.java:540)\r\nat org.apache.kafka.common.config.ConfigDef.parse(ConfigDef.java:524)\r\nat org.apache.kafka.common.config.AbstractConfig.<init>(AbstractConfig.java:118)\r\nat org.apache.kafka.common.config.AbstractConfig.<init>(AbstractConfig.java:149)\r\nat org.apache.kafka.storage.internals.log.LogConfig.<init>(LogConfig.java:299)\r\nat org.apache.kafka.storage.internals.log.LogConfig.fromProps(LogConfig.java:426)\r\nat kafka.log.LogManager.$anonfun$fetchTopicConfigOverrides$1(LogManager.scala:590)\r\nat kafka.log.LogManager.$anonfun$fetchTopicConfigOverrides$1$adapted(LogManager.scala:586)\r\nat scala.collection.IterableOnceOps.foreach(IterableOnce.scala:630)\r\nat scala.collection.IterableOnceOps.foreach$(IterableOnce.scala:628)\r\nat scala.collection.AbstractIterable.foreach(Iterable.scala:936)\r\nat kafka.log.LogManager.fetchTopicConfigOverrides(LogManager.scala:586)\r\nat kafka.log.LogManager.startup(LogManager.scala:579)\r\nat kafka.server.metadata.BrokerMetadataPublisher.initializeManagers(BrokerMetadataPublisher.scala:344)\r\nat kafka.server.metadata.BrokerMetadataPublisher.onMetadataUpdate(BrokerMetadataPublisher.scala:141)\r\nat org.apache.kafka.image.loader.MetadataLoader.initializeNewPublishers(MetadataLoader.java:315)\r\nat org.apache.kafka.image.loader.MetadataLoader.lambda$scheduleInitializeNewPublishers$0(MetadataLoader.java:272)\r\nat org.apache.kafka.queue.KafkaEventQueue$EventContext.run(KafkaEventQueue.java:134)\r\nat org.apache.kafka.queue.KafkaEventQueue$EventHandler.handleEvents(KafkaEventQueue.java:217)\r\nat org.apache.kafka.queue.KafkaEventQueue$EventHandler.run(KafkaEventQueue.java:188)\r\nat java.base/java.lang.Thread.run(Thread.java:1583)",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810/comment/18036764",
            "id": "18036764",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hi [~schofielaj] ，\r\n\r\nI think I can handle this issue, If you haven't started working on it yet.\r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-10T09:26:19.790+0000",
            "updated": "2025-11-10T09:26:19.790+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810/comment/18036769",
            "id": "18036769",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "I have left it unassigned so feel free to take it.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-10T09:41:09.120+0000",
            "updated": "2025-11-10T09:41:09.120+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810/comment/18036772",
            "id": "18036772",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=omkreddy",
              "name": "omkreddy",
              "key": "omkreddy",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Manikumar",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "Ongoing discussion: https://github.com/apache/kafka/pull/20334#discussion_r2504944928",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=omkreddy",
              "name": "omkreddy",
              "key": "omkreddy",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Manikumar",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2025-11-10T09:46:59.840+0000",
            "updated": "2025-11-10T09:46:59.840+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810/comment/18036779",
            "id": "18036779",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "this will be addressed in the follow-up ([https://github.com/apache/kafka/pull/20844)]\r\n\r\nalso, please take a look at the discussion https://github.com/apache/kafka/pull/20334#discussion_r2507680776",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chia7712",
              "name": "chia7712",
              "key": "chia7712",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=chia7712&avatarId=46815",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=chia7712&avatarId=46815",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=chia7712&avatarId=46815",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=chia7712&avatarId=46815"
              },
              "displayName": "Chia-Ping Tsai",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-10T10:06:52.424+0000",
            "updated": "2025-11-10T10:06:52.424+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633810/comment/18036781",
            "id": "18036781",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~chia7712] Thanks for your kindly reminder. [~m1a2st] Feel free to take on this task yourself if you prefer to handle it.{*}{*}",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-10T10:17:24.251+0000",
            "updated": "2025-11-10T10:17:24.251+0000"
          }
        ],
        "maxResults": 5,
        "total": 5,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=m1a2st",
        "name": "m1a2st",
        "key": "JIRAUSER305187",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "黃竣陽",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633766",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633766",
    "key": "KAFKA-19874",
    "fields": {
      "summary": "Fix resource leak in TopicBasedRemoteLogMetadataManager initialization",
      "created": "2025-11-10T02:08:28.000+0000",
      "description": "## Problem\r\nThere is a resource leak in the TopicBasedRemoteLogMetadataManager initialization \r\nprocess. If ProducerManager is created successfully but ConsumerManager creation \r\nfails, the ProducerManager instance is not properly closed, leading to resource \r\nleaks (e.g., unclosed Kafka producer, threads, network connections).\r\n\r\n## Current Code (Problematic)\r\nlock.writeLock().lock();\r\ntry {\r\n    producerManager = new ProducerManager(rlmmConfig, partitioner);\r\n    consumerManager = new ConsumerManager(rlmmConfig, remotePartitionMetadataStore, partitioner, time);\r\n    consumerManager.startConsumerThread();\r\n    // If exception occurs here, producerManager is not closed\r\n} catch (Exception e) {\r\n    log.error(\"Encountered error while initializing producer/consumer\", e);\r\n    initializationFailed = true;\r\n} finally {\r\n    lock.writeLock().unlock();\r\n}## Solution\r\nUse temporary variables to hold manager instances and only assign to instance \r\nvariables after successful initialization. Clean up temporary resources in the \r\ncatch block if any exception occurs.\r\n\r\n## Impact\r\n- Prevents resource leaks during initialization failures\r\n- Ensures proper cleanup of Kafka clients\r\n- Improves system stability and resource management",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633766/comment/18040064",
            "id": "18040064",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=bloku",
              "name": "bloku",
              "key": "JIRAUSER309258",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Uladzislau Blok",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~lightzhao] If this change is not planed (as I understand from PR), may be it makes sense to close ticket?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=bloku",
              "name": "bloku",
              "key": "JIRAUSER309258",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Uladzislau Blok",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-22T13:31:39.140+0000",
            "updated": "2025-11-22T13:31:39.140+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633732",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732",
    "key": "KAFKA-19873",
    "fields": {
      "summary": "Add explicit liveness check for transactional producers",
      "created": "2025-11-08T23:40:11.000+0000",
      "description": "The producer does not have an explicit liveness check like the consumer, which sends periodic heartbeats if it's part of a consumer group. Because there is no \"producer group\" this is fine in general.\r\n\r\nHowever, for transactional producers, the missing liveness check has quite some downsides (for example KAFKA-19853).\r\n\r\nThe problem is, that there is only an indirect liveness check via `transaction.timeout.ms` config. The purpose of `transaction.timeout.ms` is to avoid head-of-line blocking for read-committed consumers though, and it's just a side effect that a crashed producer does also hit this timeout eventually, too. The transaction timeout by itself, is not a liveness check.\r\n\r\nFor the Kafka Streams case in particular, to react to a failed producers more quickly, we set an aggressive default transaction timeout of only 10 seconds, allowing the broker to abort a transaction quickly, allowing some other consumer to fetch offset quickly after a rebalance (otherwise, fetching offset is blocked on an open TX – cf [KIP-447|https://cwiki.apache.org/confluence/display/KAFKA/KIP-447%3A+Producer+scalability+for+exactly+once+semantics]).\r\n\r\nHowever, in many cases (not limited to Kafka Streams), it is desirable to actually allow transaction to take more time, but this implies that the producer error detection and failover mechanism gets slowed down. For this reason, users are hesitant to increase the transaction timeout, what may fire back by getting TX aborted too aggressively causing unwanted errors (it's particularly problematic for Kafka Streams, because we can't re-use previous `transaction.id` to fence off a pending TX pro-actively, as we moved off EOSv1 to EOSv2 implementation).\r\n\r\nThus, for transactional producers, it would make sense to follow the consumer model, which allows for aggressive hard failure detection via `session.timeout.ms` plus longer processing loops via `max.poll.interval.ms` decoupling liveness check and \"max processing\" time. – We propose to add a new producer `session.timeout.ms` plus a new heartbeat RPC for transactional producers. If a tx-producer has a hard failure and stops sending heartbeats to the broker side transaction coordinator, the coordinator can abort the TX right away without the need to wait for the TX timeout. This allows uses to configure a low session timeout in combination with a larger transaction timeout, providing swift hard error detection plus longer transaction times.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18036676",
            "id": "18036676",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "body": "Hi [~mjsax], the proposal looks good. If you're not starting to work on it, I can help to write a KIP for it. I'm curious that does this producer heartbeat mechanism only enable when the producer starts a transaction? If there is no transaction and we start this heartbeat mechanism, it may waste bandwidth.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=yangpoan",
              "name": "yangpoan",
              "key": "JIRAUSER300229",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER300229&avatarId=52529",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER300229&avatarId=52529",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER300229&avatarId=52529",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER300229&avatarId=52529"
              },
              "displayName": "PoAn Yang",
              "active": true,
              "timeZone": "Asia/Taipei"
            },
            "created": "2025-11-10T01:54:56.397+0000",
            "updated": "2025-11-10T01:54:56.397+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18036753",
            "id": "18036753",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "This is interesting but it needs to be done very, very carefully. There's lots of scope for unintended consequences I think.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-10T09:01:41.195+0000",
            "updated": "2025-11-10T09:01:41.195+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18037235",
            "id": "18037235",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jolshan",
              "name": "jolshan",
              "key": "jolshan",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Justine Olshan",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "We had a similar proposal for idempotent producers to heartbeat in order to better enforce idempotency guarantees and expire idempotent producers only when they are no longer heartbeating. Have we considered extending the rpc to idempotent producers as well?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jolshan",
              "name": "jolshan",
              "key": "jolshan",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Justine Olshan",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-10T18:51:46.810+0000",
            "updated": "2025-11-10T18:51:46.810+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18037267",
            "id": "18037267",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax",
              "name": "mjsax",
              "key": "mjsax",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"
              },
              "displayName": "Matthias J. Sax",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "body": "I am not planing to work to work on this. Just filed the ticket. – Agree to Andrew, that this is a larger piece of work and need careful design and scoping.\r\n{quote}I'm curious that does this producer heartbeat mechanism only enable when the producer starts a transaction?\r\n{quote}\r\nThat was the original idea. But seems Justin would like to also do something like this for idempotent producer.\r\n{quote}Have we considered extending the rpc to idempotent producers as well?\r\n{quote}\r\nI did not, but I am open to it. :) ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax",
              "name": "mjsax",
              "key": "mjsax",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"
              },
              "displayName": "Matthias J. Sax",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "created": "2025-11-10T21:04:31.020+0000",
            "updated": "2025-11-10T21:04:31.020+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18038398",
            "id": "18038398",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=arvid",
              "name": "arvid",
              "key": "arvid",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=arvid&avatarId=46555",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arvid&avatarId=46555",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arvid&avatarId=46555",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arvid&avatarId=46555"
              },
              "displayName": "Arvid Heise",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hopefully I'm not derailing the ticket here but what would be even better in the grand scheme of stream processing would be a producer heartbeat that is somehow accessible from downstream consumers.\r\n\r\nIn Flink (and probably other stream processors), we have a hard time to figure out if a lack of incoming data is originating in a lack of upstream data or temporal producer issues. To trigger certain temporal operations, we would need to assume completeness of data for a window of time, which is much easier to do with a steady stream of input. In case of idle partitions, we need to resort to heuristics which ultimately may result in data loss for cases with temporal producer issues. Having the producer heartbeats available on consumer-side would allow us to distinguish the two cases. (In a way the heartbeat would provide the steady stream of input)\r\n\r\nAt that point, however, it would make sense to also allow non-idempotent producers to emit heartbeats.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=arvid",
              "name": "arvid",
              "key": "arvid",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=arvid&avatarId=46555",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=arvid&avatarId=46555",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=arvid&avatarId=46555",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=arvid&avatarId=46555"
              },
              "displayName": "Arvid Heise",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-14T16:59:03.524+0000",
            "updated": "2025-11-14T16:59:03.524+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633732/comment/18038414",
            "id": "18038414",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax",
              "name": "mjsax",
              "key": "mjsax",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"
              },
              "displayName": "Matthias J. Sax",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "body": "Arvid, I agree to the problem, and I would like to support something like this. In Kafka Streams, the \"there is no new data and time does not advance\" issue is also there...\r\n\r\nBut that would be an entirely different feature you are asking for, so let's keep this ticket as-is, as its goal is something totally different than what you are asking for. We can of course file a new ticket for what you are asking for. (I have already ideas how to do this...)",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mjsax",
              "name": "mjsax",
              "key": "mjsax",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=mjsax&avatarId=29314",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=mjsax&avatarId=29314",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=mjsax&avatarId=29314",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=mjsax&avatarId=29314"
              },
              "displayName": "Matthias J. Sax",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "created": "2025-11-14T17:39:02.871+0000",
            "updated": "2025-11-14T17:41:29.634+0000"
          }
        ],
        "maxResults": 6,
        "total": 6,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "needs-kip"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633697",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633697",
    "key": "KAFKA-19872",
    "fields": {
      "summary": "Move DelayedOperations and Partition to server module",
      "created": "2025-11-08T02:34:06.000+0000",
      "description": "# As title to move scala class / trait to server module.\r\n # Rewrite them in Java.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=joshua2519",
        "name": "joshua2519",
        "key": "JIRAUSER309330",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER309330&avatarId=54284",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER309330&avatarId=54284",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER309330&avatarId=54284",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER309330&avatarId=54284"
        },
        "displayName": "Chih-Yuan Chien",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633652",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633652",
    "key": "KAFKA-19871",
    "fields": {
      "summary": "KIP-1238: Multipartition for TopologyTestDriver in Kafka Streams",
      "created": "2025-11-07T15:26:37.000+0000",
      "description": "see  : \r\n\r\n[KIP-1238|https://cwiki.apache.org/confluence/display/KAFKA/KIP-1238%3A+Multipartition+for+TopologyTestDriver+in+Kafka+Streams]",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=sebviale",
        "name": "sebviale",
        "key": "JIRAUSER304445",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER304445&avatarId=53264",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER304445&avatarId=53264",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER304445&avatarId=53264",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER304445&avatarId=53264"
        },
        "displayName": "Sebastien Viale",
        "active": true,
        "timeZone": "Europe/Paris"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "KIP"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633618",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633618",
    "key": "KAFKA-19870",
    "fields": {
      "summary": "Support nullable/non-nullable context for shared schemas",
      "created": "2025-11-07T08:55:33.000+0000",
      "description": "As discussed in [https://github.com/apache/kafka/pull/20614#discussion_r2482897053],\r\n\r\na shared schema currently cannot differentiate between nullable and non-nullable use\r\n\r\ncases when reused by different fields.\r\n\r\n \r\n\r\nThis task is to implement a solution (e.g., via a wrapper or schema enhancement) to support\r\n\r\nthis distinction, ensuring generated code and APIs correctly reflect the nullability requirement of each field.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=isding_l",
        "name": "isding_l",
        "key": "JIRAUSER301111",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Lan Ding",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633535",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633535",
    "key": "KAFKA-19869",
    "fields": {
      "summary": "Mark RPCs as stable",
      "created": "2025-11-06T12:29:52.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=lucasbru",
        "name": "lucasbru",
        "key": "JIRAUSER302322",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER302322&avatarId=53242",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER302322&avatarId=53242",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER302322&avatarId=53242",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER302322&avatarId=53242"
        },
        "displayName": "Lucas Brutschy",
        "active": true,
        "timeZone": "Europe/Berlin"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633444",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633444",
    "key": "KAFKA-19868",
    "fields": {
      "summary": "Add client id to share consumers in ShareConsumerPerformance",
      "created": "2025-11-05T15:38:59.000+0000",
      "description": "Reference - \r\nIf the thread count is bigger than one, should we add a postfix to the {{{}client.id{}}}? This is necessary because otherwise, the metrics will be mixed up, making observation difficult\r\n\r\n \r\n\r\nhttps://github.com/apache/kafka/pull/18415#discussion_r2494539169",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=adixitconfluent",
        "name": "adixitconfluent",
        "key": "JIRAUSER303719",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=JIRAUSER303719&avatarId=53125",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=JIRAUSER303719&avatarId=53125",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=JIRAUSER303719&avatarId=53125",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=JIRAUSER303719&avatarId=53125"
        },
        "displayName": "Abhinav Dixit",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633419",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633419",
    "key": "KAFKA-19867",
    "fields": {
      "summary": "Broker only node sending UpdateVoteRequest when it can't really become a voter",
      "created": "2025-11-05T12:55:49.000+0000",
      "description": "I am in the process of implementing support for controllers scaling within the Strimzi project (running Apache Kafka on Kubernetes) by also using the Apache Kafka code in the current \"trunk\" branch so the future 4.2.0 release because I want to leverage the auto-join feature.\r\n\r\nWhen scaling down controllers, the auto-join related documentation mentions that you should first shutdown the controller and later running the remove-controller (via the kafka-metadata-quorum tool, or programmatically in a Kubernetes operator case by using the RemoveRaftVoter via the Admin Client API), otherwise it's pretty clear the node enters in a loop where you remove it but it rejoins automatically again. \r\nWhen managing a Kafka cluster running on bare metal/VMs, this approach works fine even in case the controller scale-down is happening by removing the controller role from a mixed node (shutdown the node, run kafka-metadata-quorum tool to remove-controller, restart the node as broker only). But in a cloud-native environment like Kubernetes, the pod rolling is driven by the platform so there is no way to run a RemoveRaftVoter admin call in between the shutdown and restart. For this reason, the remove-controller is done when the node restarts as broker only.\r\n\r\nThe issue I am facing is that when such a node restarts as broker only, but it's still in the quorum voter (because the remove-controller isn't happened yet), I get the following exception:\r\n \r\n{code:java}\r\n2025-10-31 08:01:21 TRACE [kafka-1-raft-io-thread] KafkaRaftClient:2899 - [RaftManager id=1] Sent outbound request: OutboundRequest(correlationId=13, data=UpdateRaftVoterRequestData(clusterId='zsn8QaOzTICYZBhUYQpJBg', currentLeaderEpoch=2, voterId=1, voterDirectoryId=ceZ1jCL9DirrUuCxwsv-jw, listeners=[], kRaftVersionFeature=KRaftVersionFeature(minSupportedVersion=0, maxSupportedVersion=1)), createdTimeMs=1761897681990, destination=my-cluster-broker-0.my-cluster-kafka-brokers.myproject.svc:9090 (id: 0 rack: null isFenced: false))2025-10-31 08:01:21 TRACE [kafka-1-raft-io-thread] KafkaRaftClient:2830 - [RaftManager id=1] Received inbound message InboundResponse(correlationId=13, data=UpdateRaftVoterResponseData(throttleTimeMs=0, errorCode=42, currentLeader=CurrentLeader(leaderId=0, leaderEpoch=2, host='my-cluster-broker-0.my-cluster-kafka-brokers.myproject.svc', port=9090)), source=my-cluster-broker-0.my-cluster-kafka-brokers.myproject.svc:9090 (id: 0 rack: null isFenced: false))2025-10-31 08:01:21 ERROR [kafka-1-raft-io-thread] ProcessTerminatingFaultHandler:46 - Encountered fatal fault: Unexpected error in raft IO threadjava.lang.IllegalStateException: Received unexpected invalid request error\tat org.apache.kafka.raft.KafkaRaftClient.maybeHandleCommonResponse(KafkaRaftClient.java:2679)\tat org.apache.kafka.raft.KafkaRaftClient.handleUpdateVoterResponse(KafkaRaftClient.java:2569)\tat org.apache.kafka.raft.KafkaRaftClient.handleResponse(KafkaRaftClient.java:2737)\tat org.apache.kafka.raft.KafkaRaftClient.handleInboundMessage(KafkaRaftClient.java:2836)\tat org.apache.kafka.raft.KafkaRaftClient.poll(KafkaRaftClient.java:3680)\tat org.apache.kafka.raft.KafkaRaftClientDriver.doWork(KafkaRaftClientDriver.java:64)\tat org.apache.kafka.server.util.ShutdownableThread.run(ShutdownableThread.java:136) {code}\r\n\r\nIt's happening because the node (which is now broker only) is sending a UpdateRaftVoter request (because it sees itself still in the voters list) even if it's not actually a controller and, of course, it's not able to handle the response which is unexpected because it's a broker only node.\r\n\r\nI think, despite the remove-controller was not done yet, the broker-only node should not send such a request even because in any case it's not able to handle the response so it ends in a \"broken\" code path.\r\n\r\nThe code where it's happening is within the {{KafkaRaftClient.shouldSendUpdateVoteRequest}} where it's not checking the {{canBecomeVoter}} flag before sending the request (here https://github.com/apache/kafka/blob/trunk/raft/src/main/java/org/apache/kafka/raft/KafkaRaftClient.java#L3299). Such a check is available in the {{shouldSendAddOrRemoveVoterRequest}} method instead (here https://github.com/apache/kafka/blob/trunk/raft/src/main/java/org/apache/kafka/raft/KafkaRaftClient.java#L3355).\r\n\r\nI think that adding the check would fix the issue because actually the node is not a controller anymore and it can't really become a voter and that flag is, of course, false avoiding the node to send the UpdateRaftVoter request.\r\n\r\nIf accepted, I would be willing to open a PR to fix this.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633419/comment/18035761",
            "id": "18035761",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=showuon",
              "name": "showuon",
              "key": "showuon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=showuon&avatarId=42594",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=showuon&avatarId=42594",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=showuon&avatarId=42594",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=showuon&avatarId=42594"
              },
              "displayName": "Luke Chen",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Adding this canBecomeVoter check will not impact/break anything because you should be a voter to enter the `pollFollowerAsVoter` method. If this is because of the not cloud native friendly design for the auto.join voter feature, adding this additional check to workaround the combined-node issue might be an option IMO. Meanwhile, we should still find a better solution for the root cause of KAFKA-19850.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=showuon",
              "name": "showuon",
              "key": "showuon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=showuon&avatarId=42594",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=showuon&avatarId=42594",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=showuon&avatarId=42594",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=showuon&avatarId=42594"
              },
              "displayName": "Luke Chen",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-06T08:18:49.215+0000",
            "updated": "2025-11-06T08:18:49.215+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633419/comment/18035826",
            "id": "18035826",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ppatierno",
              "name": "ppatierno",
              "key": "ppatierno",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ppatierno&avatarId=53623",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ppatierno&avatarId=53623",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ppatierno&avatarId=53623",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ppatierno&avatarId=53623"
              },
              "displayName": "Paolo Patierno",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "body": "[~mimaison] [~showuon] \r\n\r\nAfter our offline discussion I was trying to apply the check on the {{canBecomeVoter}} flag within the {{KafkaRaftClient.pollFollower()}} method to avoid calling the {{pollFollowerAsVoter}} at all, so something like this:\r\n\r\n\r\n{code:java}\r\nprivate long pollFollower(long currentTimeMs) {\r\n    FollowerState state = quorum.followerStateOrThrow();\r\n    if (quorum.isVoter() && canBecomeVoter) {\r\n        return pollFollowerAsVoter(state, currentTimeMs);\r\n    } else {\r\n        return pollFollowerAsObserver(state, currentTimeMs);\r\n    }\r\n}\r\n{code}\r\n\r\nIn this case, this change breaks a bunch of tests where a voter is expecting to move in the {{Prospective}} state in order to take part at a new leader election.\r\nThe tests are the following:\r\n\r\n\r\n{code:java}\r\ntestHandleEndQuorumRequest\r\ntestVoterBecomeProspectiveAfterFetchTimeout\r\ntestHandleVoteRequestAsProspective\r\ntestFetchResponseIgnoredAfterBecomingProspective\r\ntestHandleEndQuorumRequestWithLowerPriorityToBecomeLeader\r\n{code}\r\n\r\n\r\nTaking the first one as an example. It starts with the local node being part of voters and another node being the leader. The leader sends an {{EndQuorumRequest}} to step back being the leader and a new election should start so the local node is expected to move into {{Prospective}} state. But it happens because the voter sends a fetch request, doesn't get an answer (from leader) and based on the timeout it moves to {{Prospective}}. This happens within the {{pollFollowerAsVoter}} that is not called at all given that {{canBecomeVoter}} is false (by default in the tests).\r\nNow, one aspect of this failure is that with the change of checking the {{canBecomeVoter}} flag, we should update the above tests by building the {{RaftClientTestContext}} instance with a {{withCanBecomeVoter(true)}} because the context has that flag set to false by default. It would allow recreating the expected conditions (the node can become a voter, because it's a controller, and makes sense to take part at the leader election) and the tests pass.\r\nDespite that, I had a doubt.\r\n\r\nIn the main use case I described in this JIRA, the node was a combined one, and it's now restarting as broker only, so the {{canBecomeVoter}} is false (that flag indicates the presence of \"controller\" role in the node, when the {{KafkaRaftClient}} is created). It's still part of the voters list (because the remove-controller was not called yet) but it's not a controller anymore so it can't take part to a leader election.\r\nWith the above change, instead of polling as voter, it's going to poll as an observer (the {{pollFollowerAsObserver}} method is called) and I was wondering if it's really correct taking into account that we are in a sort of \"hybrid\" state. The overall cluster sees the node being in the list of the voters but it's not a controller anymore and can't vote. Polling as an observer means that it's going to call {{shouldSendAddOrRemoveVoterRequest}} which anyway avoid the node to make this request because the {{canBecomeVoter}} is false (and it's checked there). \r\n\r\nMy question is ... is it really an observer? If in this timeframe you request the quorum status, you will see it as voter and not in the observers list until making the remove-controller. Is it acceptable?\r\n\r\nAnyway, I tested that change by building a custom Apache Kafka 4.2 container image for Strimzi and it works fine.\r\n\r\nIn conclusion I think the change makes sense, together with adapting the tests (to recreate the expected conditions) but I wanted insights from you experts first.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ppatierno",
              "name": "ppatierno",
              "key": "ppatierno",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ppatierno&avatarId=53623",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ppatierno&avatarId=53623",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ppatierno&avatarId=53623",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ppatierno&avatarId=53623"
              },
              "displayName": "Paolo Patierno",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "created": "2025-11-06T13:06:35.337+0000",
            "updated": "2025-11-06T13:09:46.399+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633419/comment/18036062",
            "id": "18036062",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=showuon",
              "name": "showuon",
              "key": "showuon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=showuon&avatarId=42594",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=showuon&avatarId=42594",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=showuon&avatarId=42594",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=showuon&avatarId=42594"
              },
              "displayName": "Luke Chen",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "> My question is ... is it really an observer? If in this timeframe you request the quorum status, you will see it as voter and not in the observers list until making the remove-controller. Is it acceptable?\r\n\r\nYou are totally right. This is definitely not a correct state for sure. I think the right way to do is to fail start the node because it is not in the correct state. \r\n\r\nBut as I said earlier, if this is because of the not cloud native friendly design for the auto.join voter feature, adding this additional check to workaround the combined-node issue might be a possible temporary option. However, if there is a user really having a bad setting to accidentally change the combined-role node into a broker-role only node, there might be no exception thrown and the quorum is basically running with one voter missing state. \r\n\r\nSo, I don't really know what is the right way to go for v4.2.0. Choose the \"right way\" to throw the exception as is, or adopt the temporary solution to workaround the auto.join issue? Maybe the former is better? I'd like to hear other thoughts on this.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=showuon",
              "name": "showuon",
              "key": "showuon",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=showuon&avatarId=42594",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=showuon&avatarId=42594",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=showuon&avatarId=42594",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=showuon&avatarId=42594"
              },
              "displayName": "Luke Chen",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-07T03:39:16.528+0000",
            "updated": "2025-11-07T03:40:38.683+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633414",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633414",
    "key": "KAFKA-19866",
    "fields": {
      "summary": "Support transactional producer in console producer",
      "created": "2025-11-05T12:13:35.000+0000",
      "description": "Console producer is the producer a CLI to allow users to try to write data to kafka. But currently it doesn't support transactional producer. We should add this support in console producer.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=mingyen066",
        "name": "mingyen066",
        "key": "JIRAUSER287528",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
        },
        "displayName": "Ming-Yen Chung",
        "active": true,
        "timeZone": "Asia/Taipei"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "need-kip"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633360",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360",
    "key": "KAFKA-19865",
    "fields": {
      "summary": "Document queues metrics changes in ops.html",
      "created": "2025-11-05T01:57:05.000+0000",
      "description": "Given that KIP-1103 introduces additional queue metrics, a new 'Queues Monitoring' section should be added under 6.7 Monitoring in ops.html.\r\n!image-2025-11-05-09-51-10-496.png!",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360/comment/18035490",
            "id": "18035490",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hi [~apoorvmittal10] [~schofielaj] ,\r\nBefore started, I'd like to hear your thoughts that do you think this documentation update is necessary or is anyone already working on this? Thanks.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-05T02:03:27.220+0000",
            "updated": "2025-11-05T02:03:27.220+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360/comment/18035648",
            "id": "18035648",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=apoorvmittal10",
              "name": "apoorvmittal10",
              "key": "apoorvmittal10",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=apoorvmittal10&avatarId=52944",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apoorvmittal10&avatarId=52944",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apoorvmittal10&avatarId=52944",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apoorvmittal10&avatarId=52944"
              },
              "displayName": "Apoorv Mittal",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hmmm, it might be a good idea to have a section covering `Share Group Monitoring`.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=apoorvmittal10",
              "name": "apoorvmittal10",
              "key": "apoorvmittal10",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=apoorvmittal10&avatarId=52944",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=apoorvmittal10&avatarId=52944",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=apoorvmittal10&avatarId=52944",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=apoorvmittal10&avatarId=52944"
              },
              "displayName": "Apoorv Mittal",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-05T19:10:55.036+0000",
            "updated": "2025-11-05T19:10:55.036+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360/comment/18035724",
            "id": "18035724",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~apoorvmittal10] Rogar that.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
              "name": "jimmywang611",
              "key": "JIRAUSER300327",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
              },
              "displayName": "Jimmy Wang",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-06T02:12:02.781+0000",
            "updated": "2025-11-06T02:12:02.781+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360/comment/18038369",
            "id": "18038369",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~jimmywang611] Do you think you'll be able to get this done before the feature freeze?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-14T15:08:16.785+0000",
            "updated": "2025-11-14T15:08:16.785+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633360/comment/18039106",
            "id": "18039106",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Because this is a docs change, it can be done after the feature freeze if strictly necessary. Of course, it would be better to get it done sooner rather than later.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=schofielaj",
              "name": "schofielaj",
              "key": "schofielaj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Andrew Schofield",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-18T10:26:28.284+0000",
            "updated": "2025-11-18T10:26:28.284+0000"
          }
        ],
        "maxResults": 5,
        "total": 5,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=jimmywang611",
        "name": "jimmywang611",
        "key": "JIRAUSER300327",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
        },
        "displayName": "Jimmy Wang",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633358",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633358",
    "key": "KAFKA-19864",
    "fields": {
      "summary": "Handle TimeoutException from initializeIfNeeded() in StateUpdater Code",
      "created": "2025-11-05T00:39:48.000+0000",
      "description": "Identified [here|https://github.com/apache/kafka/pull/20818/files#r2490887612]\r\n\r\nWhen using the StateUpdater mode, tasks that throw TimeoutException during initializeIfNeeded() are not handled, making it inconsistent compared to the non-StateUpdater mode.\r\n\r\n[Link to Code|https://github.com/apache/kafka/blob/55764f837b744dcaf2295f4af5170bf25c2f48e9/streams/src/main/java/org/apache/kafka/streams/processor/internals/TaskManager.java#L1080] ",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=shashankhs",
        "name": "shashankhs",
        "key": "JIRAUSER310276",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Shashank",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633353",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633353",
    "key": "KAFKA-19863",
    "fields": {
      "summary": "Add documentation on how to implement a custom exception handler  ",
      "created": "2025-11-04T22:33:39.000+0000",
      "description": "[https://cwiki.apache.org/confluence/display/KAFKA/KIP-1034%3A+Dead+letter+queue+in+Kafka+Streams] introduced DLQs, which in turn introduced a new reason to implement a custom exception handler. We should update the documentation to explain how to implement one correctly ",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633353/comment/18037948",
            "id": "18037948",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=moonyoung",
              "name": "moonyoung",
              "key": "moonyoung",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "moonyoung",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hi. I'm interested in this issue.\r\n\r\nWould it be okay if I take this ticket?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=moonyoung",
              "name": "moonyoung",
              "key": "moonyoung",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "moonyoung",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2025-11-13T02:09:02.968+0000",
            "updated": "2025-11-13T02:09:02.968+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13633353/comment/18037977",
            "id": "18037977",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=nikita-shupletsov",
              "name": "nikita-shupletsov",
              "key": "JIRAUSER306158",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Nikita Shupletsov",
              "active": true,
              "timeZone": "America/Vancouver"
            },
            "body": "Hi [~moonyoung] \r\nyes, please",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=nikita-shupletsov",
              "name": "nikita-shupletsov",
              "key": "JIRAUSER306158",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Nikita Shupletsov",
              "active": true,
              "timeZone": "America/Vancouver"
            },
            "created": "2025-11-13T07:04:25.097+0000",
            "updated": "2025-11-13T07:04:25.097+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13633331",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13633331",
    "key": "KAFKA-19862",
    "fields": {
      "summary": "Group coordinator loading may fail when there is concurrent compaction",
      "created": "2025-11-04T15:45:41.000+0000",
      "description": "For consumer and streams groups, we reject replay of {{Consumer/StreamsGroupCurrentMemberAssignment}} records when we detect a partition / task is already owned by another member.\r\n\r\nDuring group coordinator load, we replay the records in {{{}__consumer_offsets{}}}. When compaction is running concurrently, we can load uncompacted data, followed by a newly swapped in compacted segment, followed by the uncompacted head of the log. This allows for situations where the record unassigning a partition/task is missed during loading.\r\n\r\neg.\r\nWe can load a record \\{ Member A is assigned partition X },\r\nthen miss the record \\{ Member A is unassigned partition X },\r\nthen load the record \\{ Member B is assigned partition X }, which fails with an exception like\r\n\r\n{{[GroupCoordinator id=2] Failed to load metadata from __consumer_offsets-4 with epoch 10 due to java.lang.RuntimeException: Replaying record CoordinatorRecord(key=ConsumerGroupCurrentMemberAssignmentKey(groupId='...', memberId='ZxHk7W53S_aHFdpxYc-_Jw'), value=ApiMessageAndVersion(ConsumerGroupCurrentMemberAssignmentValue(memberEpoch=854659, previousMemberEpoch=854633, state=0, assignedPartitions=[TopicPartitions(topicId=9lL1aTMuSC22QAXsHgzhew, partitions=[1, 2]), TopicPartitions(topicId=RHKM682KQYyOfF1XsOSF1A, partitions=[0]), TopicPartitions(topicId=rKx9q1JmS1uP-ug_cj56ug, partitions=[0]), TopicPartitions(topicId=I7EtFwesTRubnj-VHClqbQ, partitions=[2]), TopicPartitions(topicId=ydAln6IUTZe-od9UUkn3rg, partitions=[2])], partitionsPendingRevocation=[]) at version 0)) from __consumer_offsets-4 at offset 3889549 with producer id -1 and producer epoch -1 failed..}}\r\n\r\n\r\n{{java.lang.IllegalStateException: Cannot set the epoch of RHKM682KQYyOfF1XsOSF1A-0 to 854659 because the partition is still owned at epoch 853490}}",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=iharker",
        "name": "iharker",
        "key": "JIRAUSER310726",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34045",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34045",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34045",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34045"
        },
        "displayName": "Izzy Harker",
        "active": true,
        "timeZone": "America/North_Dakota/New_Salem"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/1",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/blocker.svg",
        "name": "Blocker",
        "id": "1"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  }
]