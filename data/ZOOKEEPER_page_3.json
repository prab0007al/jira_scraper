[
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13585675",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13585675",
    "key": "ZOOKEEPER-4845",
    "fields": {
      "summary": "Fix the digest mismatch log",
      "created": "2024-07-13T04:51:59.000+0000",
      "description": "Currently we log the TxnDigest object as the expected digest instead of the tree digest number. This makes it quite confusing when comparing the expected digest with the actual digest, as the actual digest is the number.\r\n\r\n\r\nChange digest to logDigest in the following code.\r\n \r\n{code:java}\r\nif (firstMismatchTxn) {\r\n                LOG.error(\"First digest mismatch on txn: {}, {}, \"\r\n                        + \"expected digest is {}, actual digest is {}, \",\r\n                        header, txn, digest, actualDigest);\r\n                firstMismatchTxn = false;\r\n            }\r\n\r\n\r\n{code}\r\n",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13585675/comment/17865622",
            "id": "17865622",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
              "name": "li4wang",
              "key": "JIRAUSER299380",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Li Wang",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "body": "will submit a PR for the fix.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
              "name": "li4wang",
              "key": "JIRAUSER299380",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Li Wang",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "created": "2024-07-13T04:53:19.575+0000",
            "updated": "2024-07-13T04:53:19.575+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
        "name": "li4wang",
        "key": "JIRAUSER299380",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Li Wang",
        "active": true,
        "timeZone": "America/Los_Angeles"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13585376",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13585376",
    "key": "ZOOKEEPER-4844",
    "fields": {
      "summary": "Fail-slow disk while executing writeLongToFile can cause the follower to hang",
      "created": "2024-07-11T01:47:34.000+0000",
      "description": "{*}Symptom:{*}If a thread is doing a file write and stuck in writeLongToFile, this thread will hang. This blocking shoud be handled by the zookeeper via PING.  However, if the QuorumPeer executes the writeLongToFile and encounters a fail-slow disk, the entire follower can be stuck. The leader will abandon this follower, but the follower believes that it is a follower.\r\n\r\nCallstack is as following:\r\n{code:java}\r\nat org.apache.zookeeper.common.AtomicFileOutputStream.write(AtomicFileOutputStream.java:72)    \r\nat sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)    \r\nat sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)    \r\nat sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:295)    \r\nat sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)   \r\nat java.io.OutputStreamWriter.flush(OutputStreamWriter.java:229)    \r\nat java.io.BufferedWriter.flush(BufferedWriter.java:254)    \r\nat org.apache.zookeeper.common.AtomicFileWritingIdiom.<init>(AtomicFileWritingIdiom.java:72)    \r\nat org.apache.zookeeper.common.AtomicFileWritingIdiom.<init>(AtomicFileWritingIdiom.java:54)    \r\nat org.apache.zookeeper.server.quorum.QuorumPeer.writeLongToFile(QuorumPeer.java:2233)    \r\nat org.apache.zookeeper.server.quorum.QuorumPeer.setAcceptedEpoch(QuorumPeer.java:2262)    \r\nat org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:510)    \r\nat org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:91)    \r\nat org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1556) {code}\r\n*Root cause:* The Quorum is blocked in writeLongToFile and can not execute readPacket, so no timeout exception is arised to trigger the error handler.\r\n\r\nMoreover, this  problem cannot be handle by add \"-Dlearner.asyncSending=true\"(https://issues.apache.org/jira/browse/ZOOKEEPER-4074)",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13584819",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13584819",
    "key": "ZOOKEEPER-4843",
    "fields": {
      "summary": "Encountering an 'Unreasonable Length' error when configuring jute.maxbuffer to 1GB or more",
      "created": "2024-07-05T11:56:51.000+0000",
      "description": "*Problem:*\r\nEncountering an 'Unreasonable Length' error when configuring jute.maxbuffer to 1GB or more\r\n{code:java}\r\n2024-07-04 11:55:41,806 [myid:localhost:2181] - WARN  [main-SendThread(localhost:2181):o.a.z.ClientCnxn$SendThread@1300] - Session 0x0 for server localhost/127.0.0.1:2181, Closing socket connection.\r\nAttempting reconnect except it is a SessionExpiredException.\r\njava.io.IOException: Unreasonable length = 16\r\n        at org.apache.jute.BinaryInputArchive.checkLength(BinaryInputArchive.java:166)\r\n        at org.apache.jute.BinaryInputArchive.readBuffer(BinaryInputArchive.java:127)\r\n        at org.apache.zookeeper.proto.ConnectResponse.deserialize(ConnectResponse.java:80)\r\n        at org.apache.zookeeper.ClientCnxnSocket.readConnectResult(ClientCnxnSocket.java:141)\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:86)\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:350)\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1289)\r\n2024-07-04 11:55:42,567 [myid:] - INFO  [main:o.a.z.u.ServiceUtils@45] - Exiting JVM with code 0\r\n{code}\r\n\r\n*Analysis:*\r\nIf jute.maxbuffer is set to 1GB (equivalent to 1073741824 bytes), this means that both maxBufferSize and extraMaxBufferSize are also set to 1073741824.\r\nEven when the response size (denoted as 'len') is minimal, the following condition check still fails:\r\n{code:java}\r\nif (len < 0 || len > maxBufferSize + extraMaxBufferSize) {\r\n    throw new IOException(UNREASONBLE_LENGTH + len);\r\n}\r\n{code}\r\nIt is because (maxBufferSize + extraMaxBufferSize) overflow int MAX_VALUE and the result is a negative number.\r\n\r\n*Solution:*\r\nConfigure jute.maxbuffer.extrasize explicitly and give a reasonable value, so that the sum of maxBufferSize and extraMaxBufferSize is less than Integer.MAX_VALUE.\r\n\r\n*Improvement:*\r\nWhile setting jute.maxbuffer to 1GB may seem unreasonable, it would be better to validate the maxBuffer and extraMaxBufferSize configuration.\r\nIf the sum of these two values is greater than Integer.MAX_VALUE, it should be handled gracefully by setting the sum to Integer.MAX_VALUE\r\n\r\n\r\n",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13584819/comment/17883341",
            "id": "17883341",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "[~arshad.mohammad] \r\n{quote}If jute.maxbuffer is set to 1GB (equivalent to 1073741824 bytes), this means that both maxBufferSize and extraMaxBufferSize are also set to 1073741824.\r\n{quote}\r\nWhy do you say that?\r\n\r\nThese're 2 different and independent settings. If I set jute.maxbuffer to 1GB only, extraMaxBufferSize will be the default value 1,024. Is that correct?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-09-20T16:25:55.930+0000",
            "updated": "2024-09-20T16:25:55.930+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13584819/comment/17883345",
            "id": "17883345",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "[~arshad.mohammad] \r\n\r\nIgnore my previous comment, I see it now:\r\n{noformat}\r\nfinal Integer configuredExtraMaxBuffer =\r\n    Integer.getInteger(\"zookeeper.jute.maxbuffer.extrasize\", maxBuffer);\r\n{noformat}\r\nLet me commit your fix, thank you.\r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-09-20T16:34:42.198+0000",
            "updated": "2024-09-20T16:34:42.198+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=arshad.mohammad",
        "name": "arshad.mohammad",
        "key": "arshad.mohammad",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10443",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10443",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10443",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10443"
        },
        "displayName": "Mohammad Arshad",
        "active": true,
        "timeZone": "Asia/Kolkata"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13583810",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13583810",
    "key": "ZOOKEEPER-4842",
    "fields": {
      "summary": "Zookeeper quorum is not formed intermittently with trailing dot in the cluster domain name",
      "created": "2024-06-25T17:16:58.000+0000",
      "description": "On kubernetes, we've set up the cluster domain with a trailing dot. Doing so, we are seeing very often that the zookeeper quorum itself is not being established. \r\n\r\n \r\n{code:java}\r\nbash-4.4$ env -u KAFKA_OPTS zookeeper-shell localhost:2181 config\r\nConnecting to localhost:2181\r\n[2024-06-25 10:36:39,178] WARN Client session timed out, have not heard from server in 30031ms for session id 0x0 (org.apache.zookeeper.ClientCnxn)\r\n[2024-06-25 10:36:39,182] WARN Session 0x0 for server localhost/[0:0:0:0:0:0:0:1]:2181, Closing socket connection. Attempting reconnect except it is a SessionExpiredException. (org.apache.zookeeper.ClientCnxn)\r\norg.apache.zookeeper.ClientCnxn$SessionTimeoutException: Client session timed out, have not heard from server in 30031ms for session id 0x0\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1257)\r\nKeeperErrorCode = ConnectionLoss for /zookeeper/config\r\n \r\n{code}\r\n \r\n\r\nIn the zookeeper logs, we see a lot of IOExceptions,  UnknownHost and Interrupted exceptions.\r\n\r\n \r\n{code:java}\r\njava.io.IOException: ZooKeeperServer not running\r\n        at org.apache.zookeeper.server.NIOServerCnxn.readLength(NIOServerCnxn.java:565)\r\n        at org.apache.zookeeper.server.NIOServerCnxn.doIO(NIOServerCnxn.java:350)\r\n        at org.apache.zookeeper.server.NIOServerCnxnFactory$IOWorkRequest.doWork(NIOServerCnxnFactory.java:508)\r\n        at org.apache.zookeeper.server.WorkerService$ScheduledWorkRequest.run(WorkerService.java:153)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n{\"type\":\"log\", \"host\":\"zk-swkf-2.default\", \"level\":\"WARN\", \"systemid\":\"zookeeper-2b13339237454984887b4908dc3a6df0\", \"system\":\"zookeeper\", \"time\":\"2024-06-25T10:23:16.325Z\", \"timezone\":\"UTC\", \"log\":{\"message\":\"NIOWorkerThread-1 - org.apache.zookeeper.server.NIOServerCnxn - Close of session 0x0\"}}\r\n \r\njava.lang.InterruptedException\r\n        at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(Unknown Source)\r\n        at org.apache.zookeeper.util.CircularBlockingQueue.poll(CircularBlockingQueue.java:105)\r\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.pollSendQueue(QuorumCnxManager.java:1453)\r\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager.access$900(QuorumCnxManager.java:99)\r\n        at org.apache.zookeeper.server.quorum.QuorumCnxManager$SendWorker.run(QuorumCnxManager.java:1277)\r\n{code}\r\n \r\n\r\n \r\n\r\nthis is the content of the /etc/resolve.conf\r\n{code:java}\r\nbash-4.4$ cat /etc/resolv.conf\r\nsearch default.svc.cluster.local svc.cluster.local cluster.local bcmt\r\nnameserver 10.254.0.10\r\noptions ndots:5{code}\r\n \r\n\r\n \r\n{code:java}\r\n[root@vm-10-76-72-33 ckaf-kafka]# nslookup zk-swkf.default.svc.cluster.local.\r\nServer:         10.76.72.33\r\nAddress:        10.76.72.33#53\r\nName:   zk-swkf.default.svc.cluster.local\r\nAddress: 10.254.94.24\r\n[root@vm-10-76-72-33 ckaf-kafka]# nslookup zk-swkf.default.svc.cluster.local\r\nServer:         10.76.72.33\r\nAddress:        10.76.72.33#53\r\nName:   zk-swkf.default.svc.cluster.local\r\nAddress: 10.254.94.24\r\n{code}",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583810/comment/17859994",
            "id": "17859994",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mswathi",
              "name": "mswathi",
              "key": "mswathi",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Swathi Mocharla",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "A point to be noted is that, without the trailing dot in the cluster domain, this issue is never reproducible.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mswathi",
              "name": "mswathi",
              "key": "mswathi",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Swathi Mocharla",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-25T17:19:44.175+0000",
            "updated": "2024-06-25T17:19:44.175+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583810/comment/17870093",
            "id": "17870093",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mswathi",
              "name": "mswathi",
              "key": "mswathi",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Swathi Mocharla",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~phunt] , could we get some help with this issue.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=mswathi",
              "name": "mswathi",
              "key": "mswathi",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Swathi Mocharla",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-08-01T06:02:38.843+0000",
            "updated": "2024-08-01T06:02:38.843+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13583704",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13583704",
    "key": "ZOOKEEPER-4841",
    "fields": {
      "summary": "Add op count metrics to get observability on traffic load and pattern",
      "created": "2024-06-24T21:48:27.000+0000",
      "description": "Add op count metrics to get observability on traffic load and pattern.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583704/comment/17865623",
            "id": "17865623",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
              "name": "li4wang",
              "key": "JIRAUSER299380",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Li Wang",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "body": "Will submit a PR for it.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
              "name": "li4wang",
              "key": "JIRAUSER299380",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Li Wang",
              "active": true,
              "timeZone": "America/Los_Angeles"
            },
            "created": "2024-07-13T04:54:02.886+0000",
            "updated": "2024-07-13T04:54:02.886+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583704/comment/17885611",
            "id": "17885611",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "Does {{RequestPathMetricsCollector}} help ?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-09-28T20:06:01.367+0000",
            "updated": "2024-09-28T20:06:01.367+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583704/comment/17885613",
            "id": "17885613",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "Also, we have {{AuditLogger}} which could be used to log(or whatever you want through {{zookeeper.audit.impl.class}}) almost every operation.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-09-28T20:22:21.862+0000",
            "updated": "2024-09-28T20:22:21.862+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13583078",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078",
    "key": "ZOOKEEPER-4840",
    "fields": {
      "summary": "Repeated SessionExpiredException after Zookeeper daemon restart",
      "created": "2024-06-18T16:46:56.000+0000",
      "description": "h2. TL;DR\r\n\r\nAfter upgrade Apache Zookeeper & Apache Curator, our application is experiencing a new unexpected behaviour after events such as:\r\n * Zookeeper server(s) being restarted\r\n * Zookeeper server failing & being replaced\r\n\r\nh2. Background\r\n\r\nApplication is using Zookeeper for leader election & metadata storage. The application runs on 3 hosts which each also have 1 Zookeeper server/daemon running.\r\n\r\nPreviously the application was running on Zookeeper version 3.5.10 & Curator version 4.3.0\r\n\r\nAfter upgrading to Zookeeper version 3.9.1 & Curator version 5.2.0 a new edge case was observed where after Zookeeper daemons are restarted/failed the application (i.e. Zookeeper client) enters a 15+ minute loop of repeatedly logging \"{{{}SessionExpiredException\"{}}}\r\n\r\nThese repeated \"{{{}SessionExpiredException\"{}}} are not indicative of a full Zookeeper client/communication outage because DEBUG logs show that other Zookeeper sessions are communicating just fine. The \"{{{}SessionExpiredException\"{}}} logs unfortunately do not show the associated Session ID which is encountering the \"{{{}SessionExpiredException\"{}}}\r\nh2. Symptoms\r\n\r\nWhen using Zookeeper version 3.9.1 & Curator version 5.2.0, after restarting/failing some of the Zookeeper daemons:\r\n # All the 3 zookeeper clients experience some connections failures lasting a few seconds after the Zookeeper daemons were failed/restarted.\r\n # These connection failure issues are resolved shortly without any action needed.\r\n # Around 1 minute after the Zookeeper daemons were failed/restarted, all the 3 zookeeper clients start repeatedly logging \"{{{}SessionExpiredException\"{}}}\r\n # The \"{{{}SessionExpiredException\"{}}} is repeatedly logged for 15+ minutes. During this time there are no connectivity issues. We can see from the Zookeeper server logs that all 3 Zookeeper servers are receiving regular traffic from the clients.\r\n # Interestingly, each Zookeeper server is not receiving any requests from the local Zookeeper client for the duration of the period where \"{{{}SessionExpiredException\"{}}} is repeatedly logged by the clients. However, each Zookeeper server is receiving regular traffic from the 2 remote Zookeeper clients.\r\n\r\nThe evidence suggests that this is a client-side issue & the \"{{{}SessionExpiredException\"{}}} is being thrown before the request is even sent to the Zookeeper server.\r\nh2. Root Cause Theory\r\n\r\nBased on my analysis of the available DEBUG & TRACE level logs, my current working theory is that the Zookeeper client is repeatedly trying to use a connection/session in CLOSED state which is causing the client to repeatedly throw \"{{{}SessionExpiredException\"{}}} for each retry.\r\n\r\nThe first \"{{{}SessionExpiredException\"{}}} is thrown after a log pattern like the following:\r\n{quote}2024-06-18 01:14:45,694 WARN Curator-ConnectionStateManager-0: Session timeout has elapsed while SUSPENDED. Injecting a session expiration. Elapsed ms: 60000. Adjusted session timeout ms: 60000\r\n2024-06-18 01:14:45,694 INFO Curator-ConnectionStateManager-0: ZK getBindInformation: ip-172-31-200-85.ec2.internal:22181,ip-172-31-200-230.ec2.internal:22181,ip-172-31-200-39.ec2.internal:22181\r\n2024-06-18 01:14:45,695 INFO Curator-ConnectionStateManager-0: injectSessionExpiration() called\r\n2024-06-18 01:14:45,695 INFO Curator-ConnectionStateManager-0: channel is told closing\r\n2024-06-18 01:14:45,698 INFO epollEventLoopGroup-3-1: channel is disconnected: [id: 0x86a592c8, L:/172.31.200.230:35836 ! R:ip-172-31-200-230.ec2.internal/172.31.200.230:22181]\r\n2024-06-18 01:14:45,698 INFO epollEventLoopGroup-3-1: channel is told closing\r\n2024-06-18 01:14:45,698 TRACE application-SendThread(ip-172-31-200-230.ec2.internal:22181): SendThread exited loop for session: 0x1000000fc490005\r\n\r\n2024-06-18 01:14:45,703 DEBUG application-EventThread: Retry-able exception received\r\norg.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /...\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:133)\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:53)\r\n    at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1972)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:327)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:316)\r\n    at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:93)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.pathInForeground(GetDataBuilderImpl.java:313)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:304)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:35)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.readValue(ConnectionStateAwareSharedValue.java:253)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.access$200(ConnectionStateAwareSharedValue.java:26)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue$1.process(ConnectionStateAwareSharedValue.java:45)\r\n    at org.apache.curator.framework.imps.NamespaceWatcher.process(NamespaceWatcher.java:83)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:563)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:538)\r\n{quote}\r\nIt seems the initial Zookeeper daemon restart/failure is causing the Curator client to \"{_}injectSessionExpiration(){_}\" which is then causing a session \"{_}0x1000000fc490005{_}\" to have its SendThread exited.\r\n\r\n[The injectSessionExpiration method is then putting the ClientCnxn object for the session into CLOSED state.|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ZooKeeperTestable.java#L41]\r\n\r\nThis is causing [the following code path to throw \"{{{}SessionExpiredException\"{}}} before the request is even sent to the Zookeeper server|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ClientCnxn.java#L777]\r\n\r\nThen 25 minutes later, the EventThread for the Zookeeper session is finally also stopped:\r\n{quote}2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetDataBuilderImpl-Background - 1163211 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetChildrenBuilderImpl-Background - 1163211 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: CreateBuilderImpl-Background - 1163211 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetChildrenBuilderImpl-Background - 1003198 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetDataBuilderImpl-Background - 383164 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetChildrenBuilderImpl-Background - 383164 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: CreateBuilderImpl-Background - 383164 ms\r\n2024-06-18 01:40:43,942 TRACE application-EventThread: Trace: GetChildrenBuilderImpl-Background - 266157 ms\r\n2024-06-18 01:40:43,942 INFO application-EventThread: EventThread shut down for session: 0x1000000fc490005\r\n{quote}\r\nOnly after the EventThread is stopped do the \"{{{}SessionExpiredException\"{}}} stop occurring.\r\n\r\nThis leads me to believe that the lingering EventThread for the closed session is leading to the closed session being used which is leading to the repeated \"{{{}SessionExpiredException\"{}}} which occur until the EventThread is stopped.\r\n\r\nIn between \"2024-06-18 01:14:45\" & \"2024-06-18 01:40:43\" we see 0 requests from the local client \"{_}172.31.200.230{_}\" reaching the Zookeeper server also on \"{_}172.31.200.230{_}\". However, other sessions to other Zookeeper servers are unaffected & operate without connection or session expiry issues.\r\nh2. Additional Notes\r\n * We can see the stack trace from \"Zookeeper.getData\" down to \"conPacketLoss\" here:\r\n ** [Zookeeper.getData|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ZooKeeper.java#L2013]\r\n ** [ClientCnxn.submitRequest|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ClientCnxn.java#L1516]\r\n ** [ClientCnxn.queuePacket|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ClientCnxn.java#L1621]\r\n ** [ClientCnxn.conPacketLoss|https://github.com/apache/zookeeper/blob/39973dc5fddf778733e4f0370980629c07a16d67/zookeeper-server/src/main/java/org/apache/zookeeper/ClientCnxn.java#L777]\r\n * I have validated the Curator RetryPolicy configuration is not the problem here. Each \"{{{}SessionExpiredException\"{}}} is retried 5 times within under 1 minute before being surfaced as a \"Watcher exception\":\r\n\r\n{quote}2024-06-18 01:17:42,200 INFO application-EventThread: ZK getBindInformation: ip-172-31-200-85.ec2.internal:22181,ip-172-31-200-230.ec2.internal:22181,ip-172-31-200-39.ec2.internal:22181\r\n2024-06-18 01:17:42,200 DEBUG application-EventThread: Retry-able exception received\r\norg.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /...\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:133)\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:53)\r\n    at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1972)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:327)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:316)\r\n    at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:93)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.pathInForeground(GetDataBuilderImpl.java:313)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:304)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:35)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.readValue(ConnectionStateAwareSharedValue.java:253)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.access$200(ConnectionStateAwareSharedValue.java:26)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue$1.process(ConnectionStateAwareSharedValue.java:45)\r\n    at org.apache.curator.framework.imps.NamespaceWatcher.process(NamespaceWatcher.java:83)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:563)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:538)\r\n\r\n...\r\n\r\n2024-06-18 01:18:27,202 TRACE application-EventThread: Counter retries-allowed: 1\r\n2024-06-18 01:18:27,202 DEBUG application-EventThread: Retrying operation\r\n2024-06-18 01:18:27,202 INFO application-EventThread: ZK getBindInformation: ip-172-31-200-85.ec2.internal:22181,ip-172-31-200-230.ec2.internal:22181,ip-172-31-200-39.ec2.internal:22181\r\n2024-06-18 01:18:27,202 DEBUG application-EventThread: Retry-able exception received\r\norg.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /...\r\n    ...\r\n2024-06-18 01:18:27,202 TRACE application-EventThread: Counter retries-disallowed: 1\r\n2024-06-18 01:18:27,202 DEBUG application-EventThread: Retry policy not allowing retry\r\n2024-06-18 01:18:27,202 ERROR application-EventThread: Watcher exception\r\norg.apache.zookeeper.KeeperException$SessionExpiredException: KeeperErrorCode = Session expired for /...\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:133)\r\n    at org.apache.zookeeper.KeeperException.create(KeeperException.java:53)\r\n    at org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1972)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:327)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl$4.call(GetDataBuilderImpl.java:316)\r\n    at org.apache.curator.RetryLoop.callWithRetry(RetryLoop.java:93)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.pathInForeground(GetDataBuilderImpl.java:313)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:304)\r\n    at org.apache.curator.framework.imps.GetDataBuilderImpl.forPath(GetDataBuilderImpl.java:35)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.readValue(ConnectionStateAwareSharedValue.java:253)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue.access$200(ConnectionStateAwareSharedValue.java:26)\r\n    at org.apache.curator.framework.recipes.shared.ConnectionStateAwareSharedValue$1.process(ConnectionStateAwareSharedValue.java:45)\r\n    at org.apache.curator.framework.imps.NamespaceWatcher.process(NamespaceWatcher.java:83)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.processEvent(ClientCnxn.java:563)\r\n    at org.apache.zookeeper.ClientCnxn$EventThread.run(ClientCnxn.java:538)\r\n{quote}",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17856015",
            "id": "17856015",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Maybe this is related to: https://issues.apache.org/jira/browse/CURATOR-561",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-18T17:30:28.307+0000",
            "updated": "2024-06-18T17:30:28.307+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17856036",
            "id": "17856036",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "The issue reproduces with Curator 5.2.1, as such I do not think its fixed by: https://issues.apache.org/jira/browse/CURATOR-561",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-18T18:58:42.871+0000",
            "updated": "2024-06-18T18:58:42.871+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17856044",
            "id": "17856044",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "This issue does not reproduce when using Curator 4.3.0 with Zookeeper 3.9.1\r\n\r\nIn this case the \"injectSessionExpiration\" logic does not occur (because it was not introduced until Curator 5.x) & the repeated \"Session expired\" failure logs also do not occur\r\n\r\nI am thinking this is an issue related to the Curator \"injectSessionExpiration\" logic",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-18T19:22:00.009+0000",
            "updated": "2024-06-18T19:22:34.180+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17856045",
            "id": "17856045",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Could be related to: https://issues.apache.org/jira/browse/CURATOR-437\r\n\r\nSymptom is different but this statement seems related:\r\n{quote}Curator inject will set zookeeper state to CLOSED when session expires without close zk associated threads\r\n{quote}",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-18T19:26:36.282+0000",
            "updated": "2024-06-18T19:26:36.282+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17856111",
            "id": "17856111",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Application code base is using a custom Curator recipe \"ConnectionStateAwareSharedValue\" which was previously based on: [https://github.com/apache/curator/blob/master/curator-recipes/src/main/java/org/apache/curator/framework/recipes/shared/SharedValue.java]\r\n\r\nIt seems the root cause here is that this bug fix [https://issues.apache.org/jira/browse/CURATOR-311] was not ported to \"ConnectionStateAwareSharedValue\"\r\n\r\n \r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-19T02:54:02.492+0000",
            "updated": "2024-06-19T02:54:02.492+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17863049",
            "id": "17863049",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Confirmed that this was due to https://issues.apache.org/jira/browse/CURATOR-311\r\nThe custom \"ConnectionStateAwareSharedValue\" recipe was missing upstream bug fixes from the \"SharedValue\" recipe",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-07-04T14:09:43.888+0000",
            "updated": "2024-07-04T14:09:43.888+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13583078/comment/17863051",
            "id": "17863051",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Duplicate of https://issues.apache.org/jira/browse/CURATOR-311",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=KevinWikant",
              "name": "KevinWikant",
              "key": "kevinwikant",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Kevin Wikant",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-07-04T14:11:06.018+0000",
            "updated": "2024-07-04T14:11:06.018+0000"
          }
        ],
        "maxResults": 7,
        "total": 7,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13582975",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13582975",
    "key": "ZOOKEEPER-4839",
    "fields": {
      "summary": "When DigestMD5 is used to enable mandatory client authentication,Users that do not exist can log in",
      "created": "2024-06-18T03:27:21.000+0000",
      "description": "When DigestMD5 is used to enable mandatory client authentication. Consider the following scenario: After successfully logging in with the correct user and password for the first time, change the user to keep the correct password for the last time, and you can still log in normally. I looked at both versions 3.5.10 and 3.9.2. See the class SaslServerCallbackHandler server-side code. A global private variable called userName is defined, but in the handleNameCallback method, if the given user name is not configured, it simply returns without updating userName. This results in the handlePasswordCallback method still using the userName of the last successful login to retrieve, and naturally can find the last password, and the comparison is correct.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13582975/comment/17856113",
            "id": "17856113",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=wstcjmg",
              "name": "wstcjmg",
              "key": "JIRAUSER305844",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "wstcjmg",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "!image-2024-06-19-11-04-14-140.png!",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=wstcjmg",
              "name": "wstcjmg",
              "key": "JIRAUSER305844",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "wstcjmg",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-06-19T03:04:19.009+0000",
            "updated": "2024-06-19T03:04:19.009+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13582975/comment/17864866",
            "id": "17864866",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "There is an uncovered condition when processing users that are not on the credential list. When a user is not contained in the credentials, we should invoke the appropriate method to handle this scenario. we should call the method\r\n{code:java}\r\npc.clearPassword(); {code}\r\nwhen user not in credentials. Let me try to fix it!",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-07-11T02:16:31.020+0000",
            "updated": "2024-07-11T02:16:31.020+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13582975/comment/17865755",
            "id": "17865755",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "I have created a pr to resolve it.\r\n\r\n[Clear user credentials when userName non-exist in sasl login module by luoxiner · Pull Request #2176 · apache/zookeeper (github.com)|https://github.com/apache/zookeeper/pull/2176]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-07-14T08:17:49.685+0000",
            "updated": "2024-07-14T08:17:49.685+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13582975/comment/17884470",
            "id": "17884470",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "Issue resolved by pull request 2176\n[https://github.com/apache/zookeeper/pull/2176]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-09-25T00:47:01.604+0000",
            "updated": "2024-09-25T00:47:01.604+0000"
          }
        ],
        "maxResults": 4,
        "total": 4,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
        "name": "luoxin",
        "key": "JIRAUSER299934",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "luoxin",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13582506",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13582506",
    "key": "ZOOKEEPER-4838",
    "fields": {
      "summary": "Use NettyServerCnxnFactory as the default ServerCnxnFactory implementation",
      "created": "2024-06-13T09:08:52.000+0000",
      "description": "NettyServerCnxnFactory has been released for a long time, supports more features, and has higher performance. Maybe it can become the default implementation for ServerCnxnFactory.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13581687",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13581687",
    "key": "ZOOKEEPER-4837",
    "fields": {
      "summary": "Network issue causes ephemeral node unremoved after the session expiration",
      "created": "2024-06-05T16:45:32.000+0000",
      "description": "In our testing cluster with the latest ZooKeeper version (66202cb), we observed that sometimes an ephemeral node never gets deleted if there is a network issue during the PROPOSAL request, even after the session expires. This bug is essentially related to ZOOKEEPER-2355, but the issue was not entirely fixed in the previous patch. We also tested on some related open PRs (e.g., [https://github.com/apache/zookeeper/pull/2152] and [https://github.com/apache/zookeeper/pull/1925] ), and confirmed the issue exists after the proposed fix.\r\n\r\n \r\n\r\nSteps to reproduce this bug:\r\n # Start a cluster with 3 servers, follower A, leader B, follower C\r\n # Open a zk client in server A\r\n # Create an ephemeral node in the client\r\n # Inject network issue in all server that causes SocketTimeoutException during readPacket if the packet is a PROPOSAL\r\n # Close the client\r\n # Wait until the cluster is stable (the leader will change between B and C several times)\r\n # Remove the network issue from all server\r\n # Check every server for ephemeral node existence. The ephemeral node will exist in server A. However, server B and C will not have the ephemeral node anymore.\r\n\r\n \r\n\r\nEssentially the bug is caused by loadDatabase loading a snapshot with a higher Zxid than the truncated log, causing fastForwardFromEdits to fail when trying to replay the transactions. For example, if one of the follower has a lastProcessedZxid of 0x200000001 and last snapshot snapshot.200000001, and the leader sends a TRUNC with a zxid of 100000002, truncateLog will truncate the follower's log to 100000002. However, loadDatabase will load snapshot.200000001. So when fastForwardFromEdits happens, it will set the data tree to 200000001 instead of 100000002.\r\n\r\n \r\n\r\nWe also attached a test case to reproduce this issue. Note that this test case is still pretty flaky at this moment.\r\n\r\n \r\n\r\nWe proposed to fix this case by loading the database from the last snapshot that happens before the last truncated-log entry during truncateLog. See our PR attached. Of course, this may not be the ideal solution and we welcome suggestions. Some other potential solutions include: \r\n\r\n(1) Disable fastForwardDatabase in shutdown\r\n\r\n(2) Run setLastProcessedZxid at the end of Learner's syncWithLeader function if the packet is Leader.DIFF \r\n\r\n \r\n\r\nYour insights are very much appreciated. We will continue following up this issue until it is resolved.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581687/comment/17854495",
            "id": "17854495",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chlou",
              "name": "chlou",
              "key": "chlou",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Chang Lou",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "I can confirm that the failure is also reproducible on a different cluster. Hello [~lvfangmin]  and [~andor] , you were both incredibly helpful a few years ago when we reported a different bug (ZOOKEEPER-3531). If you have the time, could you please take a look at this issue as well? Thank you!\r\n \r\nI have also included [~jonmv]  for his insights, given his involvement in a related bug case ([#1925|https://github.com/apache/zookeeper/pull/1925]).",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=chlou",
              "name": "chlou",
              "key": "chlou",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34050",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34050",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34050",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34050"
              },
              "displayName": "Chang Lou",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-06-12T17:18:50.519+0000",
            "updated": "2024-06-12T17:18:50.519+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581687/comment/18016228",
            "id": "18016228",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=Changrui+Lin",
              "name": "Changrui Lin",
              "key": "changrui lin",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Lin Changrui",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "If the root cause is as reported, is that mean the sequence of all TRUNC is incorrect? Data of each servers after TRUNC are always inconsistent, such as some transcations of session expired truncated but still visible.\r\nWe have reproduced a issue like this in our cluster. The affected(network issus) follower has log 'Digests are not matching' after trunc. After a while, we reboot all server at same time. The affected server become leader after election, I guess because it has the highest zxid. We can see some ephemeral nodes which has been deleted some time before on the leader, and they are invisible on followers.\r\n\r\nI can't upload attachment, part of log is like this.\r\n{code:java}\r\nWARN (CommitProcessor:5,98) RateLogger,87 - Message:Digests are not matching. Value is Zxid. Value:51539607553\r\nDEBUG (CommitProcessor:5,98) DataTree,1809 - Digest in log: 364897877017, actual tree: 352915824196\r\nDEBUG (nioEventLoopGroup-4-3,59) NettyServerCnxnFactory$CnxnChannelHandler,318 - Received ReadEvent.ENABLE\r\nERROR (CommitProcessor:5,98) DataTree,1811 - First digest mismatch on txn: 360288272277504000,0,51539607553,1744568253693,-10\r\n, 9000\r\n, expected digest is 2,364897877017\r\n, actual digest is 352915824196,{code}",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=Changrui+Lin",
              "name": "Changrui Lin",
              "key": "changrui lin",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34058",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34058",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34058",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34058"
              },
              "displayName": "Lin Changrui",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2025-08-26T08:15:17.059+0000",
            "updated": "2025-08-26T08:15:17.059+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
        "name": "Critical",
        "id": "2"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13581639",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639",
    "key": "ZOOKEEPER-4836",
    "fields": {
      "summary": "Inconsist aclIndex leads to MarshallingError",
      "created": "2024-06-05T11:17:53.000+0000",
      "description": "There is a three-node cluster.  A client create  /1 with a new acl1 to leader.\r\n\r\nWhen leader sends the snapshot to the follower, the nic becomes fail-slow. Hence, the follower1 get aclcache(aclIndex 2) without acl1. But the follower1 get a correct datatree. When deserializing the datatree, aclIndex is reset to 1. At this time, the aclIndex is inconsistent (leader:3, follower1:1,follower2:3). The follower1 execute Txn that logs the create operation.\r\n\r\nIn follower1, the aclIndex is set to 2 and node/1 points to 3. When executing getAcl /1, MarshallingError arises.\r\n\r\nSystem logs are attached.\r\n\r\nAre there any comments to figure out this issues？ I will very appreciate them.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639/comment/17853514",
            "id": "17853514",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "Is this a duplicate of ZOOKEEPER-4689 ?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-06-09T17:02:53.205+0000",
            "updated": "2024-06-09T17:02:53.205+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639/comment/17853544",
            "id": "17853544",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "Thanks for your reply.\r\n\r\nThis seems like a same bug in version 3.10.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-06-10T02:19:57.514+0000",
            "updated": "2024-06-10T02:19:57.514+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639/comment/17854450",
            "id": "17854450",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "[~kezhuw] hi kezhu, if needed, i can provide workloads and methods to reproduce this issue in deployed environment. Hope it can move this issue forward.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-06-12T14:32:15.571+0000",
            "updated": "2024-06-12T14:32:15.571+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639/comment/17893782",
            "id": "17893782",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "[~gendong1] If possible, you can post/upload new logs/envs in ZOOKEEPER-4689. Thank you for reporting this!",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-10-29T11:44:07.224+0000",
            "updated": "2024-10-29T11:44:07.224+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13581639/comment/17902507",
            "id": "17902507",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "I have added links to system logs in  ZOOKEEPER-4689.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-12-03T03:33:41.632+0000",
            "updated": "2024-12-03T03:33:56.964+0000"
          }
        ],
        "maxResults": 5,
        "total": 5,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
        "name": "Critical",
        "id": "2"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13580632",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13580632",
    "key": "ZOOKEEPER-4835",
    "fields": {
      "summary": "Netty should be an optional dependency",
      "created": "2024-05-28T06:22:39.000+0000",
      "description": "ZK should not mandate the inclusion of Netty if Netty features aren't being used.  There are very few usages of Netty from ZK files that are not named Netty, so this looks pretty easy.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580632/comment/17849897",
            "id": "17849897",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dsmiley",
              "name": "dsmiley",
              "key": "dsmiley",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"
              },
              "displayName": "David Smiley",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "I attempted to conclusively confirm how viable excluding Netty might be.  I came upon ArchUnit[1] and wrote a little test[2] to look for ZK classes that don't have Netty in the name yet call such a class or that which call Netty directly.  The results show X509 utilities are intertwined with Netty.  And furthermore the methods ZooKeeper.getClientCnxnSocket and ZooKeeperServer.getOutstandingHandshakeNum and UnifiedServerSocket$UnifiedSocket.detectMode() refer to Netty.  Thus it seems not safe to exclude Netty today but if the ZK project wanted to invest in better separation, it seems close at hand.\r\n\r\n[1] ArchUnit: https://www.archunit.org/\r\n[2] my test: https://gist.github.com/dsmiley/8a34cf16dd5827e5396e6da24e19afd2",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dsmiley",
              "name": "dsmiley",
              "key": "dsmiley",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"
              },
              "displayName": "David Smiley",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2024-05-28T06:24:28.099+0000",
            "updated": "2024-05-28T06:24:28.099+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580632/comment/17849931",
            "id": "17849931",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "body": "I think that this is doable.\r\n\r\nThat said when you use TLS you need Netty and I am pretty sure that many users are using TLS.\r\n\r\n \r\n\r\nI think that the main value is to have something that ensures that the zookeeper client really works without any Netty class in the classpath. It is possible that in the future someone uses some utility from Netty.\r\n\r\n \r\n\r\n ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "created": "2024-05-28T08:12:41.020+0000",
            "updated": "2024-05-28T08:12:41.020+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580632/comment/17850052",
            "id": "17850052",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dsmiley",
              "name": "dsmiley",
              "key": "dsmiley",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"
              },
              "displayName": "David Smiley",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "Note that TLS can be achieved completely independently via Mesh/Istio.\r\n{quote} that the zookeeper client really works without any Netty\r\n{quote}\r\nIt's not clear how to make a \"client\" vs \"server\" distinction within the codebase to enforce that it's okay for the \"server\" to talk to Netty but not the \"client\".  Plenty of packages are in common (utils).  Anyway, as the ArchUnit test shows, it's really pretty close to making a class name based distinction of which classes can talk to Netty.  ",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=dsmiley",
              "name": "dsmiley",
              "key": "dsmiley",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=dsmiley&avatarId=10110",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=dsmiley&avatarId=10110",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=dsmiley&avatarId=10110",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=dsmiley&avatarId=10110"
              },
              "displayName": "David Smiley",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2024-05-28T14:43:09.841+0000",
            "updated": "2024-05-28T14:43:09.841+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13580356",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13580356",
    "key": "ZOOKEEPER-4834",
    "fields": {
      "summary": "Introduce Typo CI Check to Apache ZooKeeper",
      "created": "2024-05-24T11:28:29.000+0000",
      "description": "Hi, I want to introduce new lint tools: typos[1]. This tool is designed to automatically detect and correct typographical errors in our codebase, documentation, and comments. It’s a valuable addition to ensure high-quality contributions and maintain the professional standard of our project.\r\n\r\nIt has also been used in the Apache OpenDAL and Kvrocks projects.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580356/comment/17866291",
            "id": "17866291",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "master via 9a2dc253caf5e94ec64bd65a72a35c6bc5e2042c",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-07-16T08:07:15.927+0000",
            "updated": "2024-07-16T08:07:15.927+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580356/comment/17879103",
            "id": "17879103",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=hezhangjian",
              "name": "hezhangjian",
              "key": "shoothzj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Zhangjian He",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "still need add github action",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=hezhangjian",
              "name": "hezhangjian",
              "key": "shoothzj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Zhangjian He",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-09-04T05:53:38.793+0000",
            "updated": "2024-09-04T05:53:38.793+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=hezhangjian",
        "name": "hezhangjian",
        "key": "shoothzj",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Zhangjian He",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13580193",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13580193",
    "key": "ZOOKEEPER-4833",
    "fields": {
      "summary": "Bring back ARM64 to Github Actions using macos-latest",
      "created": "2024-05-23T03:37:48.000+0000",
      "description": "ARM64 ci was added in ZOOKEEPER-3919 but lost in ZOOKEEPER-4642 as a consequence to migration to github actions. Now github actions has runner [{{macos-latest}} on {{M1}}|https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners/about-github-hosted-runners#standard-github-hosted-runners-for-public-repositories]. We can bring it back. I think it is valuable for ZooKeeper as we have {{zookeeper-client-c}}. \r\n\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13580043",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13580043",
    "key": "ZOOKEEPER-4832",
    "fields": {
      "summary": "Better guidance on how to configure zookeeper for FIPS",
      "created": "2024-05-22T01:04:32.000+0000",
      "description": "Hi there.\r\n\r\nWe're attempting to work out how to produce a zookeeper package and image which is FIPS compliant.\r\n\r\nWe've found multiple references in the code base to `zookeeper.fips-mode`, however on closer inspection this is very misleading, as it is not enabling any FIPS specific settings, neither does it enable zookeeper for FIPS mode. Instead, it just looks to disable 'ZKTrustManager'.\r\n\r\nIt would be great to get some guidance here, and possibly an article / docs update with configuration details.\r\n\r\nFor example, when working with Java applications, there are usually multiple layers to building a FIPS image, including:\r\n * Configuring OpenSSL for FIPS mode\r\n * Configuring a FIPS compliant JDK/JRE on the host, such as bcfips (FIPS BouncyCastle)\r\n * Creating a suitable java.security file to restrict usage to non-approved FIPS providers and crypto algorithms\r\n * Updating the CLASSPATH to reference the bcfips jars\r\n * Refactoring the code base - removing any references to non-FIPS crypto usage, such as non-FIPS bouncycastle, and potentially any other crypto libs\r\n * Remove any usage of unapproved crypto algorithms (i.e des, md5 etc)\r\n\r\nSome questions:\r\n # Do you have any more info you can share on how to properly configure zookeeper for FIPS?\r\n # Zookeeper seems to reference bouncycastle in some tests - can these be ignored safely? Any other usage of non-FIPS bouncycastle elsewhere?\r\n # Are there any other crypto libraries used which may be a concern?\r\n # Are there any dependencies used which themselves use non-FIPS crypto?\r\n # Are the references to non-approved crypto algorithms in critical path?\r\n\r\n \r\n\r\n{*}Expanding on question 2 above{*}, this is the only references i could seem to find for bouncycastle:\r\n\r\n```\r\n\r\nzookeeper-server/src/test/java/org/apache/zookeeper/common/BaseX509ParameterizedTestCase.java\r\nzookeeper-server/src/test/java/org/apache/zookeeper/common/X509TestContext.java\r\nzookeeper-server/src/test/java/org/apache/zookeeper/common/X509TestHelpers.java\r\n\r\n```\r\n\r\n*Expanding on question 5:*\r\n\r\nmd5 usage:\r\n\r\n```zookeeper-server/src/main/java/org/apache/zookeeper/server/ZooKeeperServer.java\r\nzookeeper-server/src/main/java/org/apache/zookeeper/server/auth/DigestLoginModule.java\r\nzookeeper-server/src/main/java/org/apache/zookeeper/server/auth/SaslServerCallbackHandler.java\r\nzookeeper-server/src/main/java/org/apache/zookeeper/server/quorum/auth/SaslQuorumServerCallbackHandler.java\r\nzookeeper-server/src/main/java/org/apache/zookeeper/util/SecurityUtils.java\r\n\r\n```\r\n\r\ndes usage:\r\n\r\n```\r\n\r\nzookeeper-server/src/test/java/org/apache/zookeeper/common/X509TestHelpers.java\r\n\r\n```\r\n\r\n ",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580043/comment/17877142",
            "id": "17877142",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "Hi [~electricthunder] ,\r\n\r\nThanks for opening this Jira for discussion. Let me try to answer your questions here:\r\n\r\nI agree that currently *zookeeper.fips-mode* setting only toggles the usage of {_}ZKTrustManager{_}, because that was the first biggest obstacle against running ZK in FIPS-mode, so I had to quickly disable it. We could certainly expand the coverage of that switch for other meaningful changes.\r\n\r\nIt's important to note that packaging of ZooKeeper or releasing ZooKeeper packages is not in the scope of the work of Apache ZooKeeper Community. As an ASF project team, we only release the source code of the product as it is with the documentation and some examples. We do not and will never provide guidance on how to configure your system for running in FIPS-mode. As a consequence, let me skip your questions about configurations outside of ZooKeeper source code.\r\n{quote} * Refactoring the code base - removing any references to non-FIPS crypto usage, such as non-FIPS bouncycastle, and potentially any other crypto libs\r\n * Remove any usage of unapproved crypto algorithms (i.e des, md5 etc){quote}\r\nGreat idea. I highly encourage you to provide pull requests covering these changes for the community to review if you have the bandwidth.\r\n{quote}{*}Expanding on question 2 above{*}, this is the only references i could seem to find for bouncycastle:\r\n{quote}\r\nTHis should not be a blocker for FIPS, right?\r\n\r\nTest classes are not built into the runtime.\r\n{quote}*Expanding on question 5:*\r\n{quote}\r\nCould you please provide a patch to optionally remove the usage of MD5?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-08-27T19:00:50.658+0000",
            "updated": "2024-08-27T19:00:50.658+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580043/comment/17877484",
            "id": "17877484",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "For instance, a good subtask would be to set default digest method to SHA3-512 in DigestAuthenticationProvider.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-08-28T17:57:25.000+0000",
            "updated": "2024-08-28T17:57:25.000+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13580043/comment/17900740",
            "id": "17900740",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "Hi [~electricthunder] \r\n\r\nI'm not sure if you're still monitoring this effort, but I recently created a pull request to avoid usage of DIGEST-MD5 sasl mech in FIPS mode: ZOOKEEPER-4889\r\n\r\nIt might be interesting for you. Anything you think outstanding for Fips support would be useful.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-11-24T22:19:44.842+0000",
            "updated": "2024-11-24T22:19:44.842+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
        "name": "andor",
        "key": "andorm",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
        },
        "displayName": "Andor Molnar",
        "active": true,
        "timeZone": "Europe/Budapest"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13577587",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13577587",
    "key": "ZOOKEEPER-4831",
    "fields": {
      "summary": "update slf4j from 1.x to 2.0.13, logback to 1.3.14",
      "created": "2024-04-29T14:11:57.000+0000",
      "description": null,
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
        "name": "tison",
        "key": "tison",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
        },
        "displayName": "Zili Chen",
        "active": true,
        "timeZone": "Asia/Shanghai"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13576991",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13576991",
    "key": "ZOOKEEPER-4830",
    "fields": {
      "summary": "zk_learners is incorrectly referenced as zk_followers",
      "created": "2024-04-24T00:33:00.000+0000",
      "description": "https://issues.apache.org/jira/browse/ZOOKEEPER-3117 renamed the `zk_followers` metric to `zk_learners`, but some references to `zk_followers` remained in the repo, including in the documentation. These should be corrected.\r\n",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13576991/comment/17840278",
            "id": "17840278",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "master via https://github.com/apache/zookeeper/commit/ee994fbca51f826e4b26d6a105866975d0007f6e.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-04-24T04:10:41.700+0000",
            "updated": "2024-04-24T04:10:41.700+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
        "name": "tison",
        "key": "tison",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
        },
        "displayName": "Zili Chen",
        "active": true,
        "timeZone": "Asia/Shanghai"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/5",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.svg",
        "name": "Trivial",
        "id": "5"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13576985",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13576985",
    "key": "ZOOKEEPER-4829",
    "fields": {
      "summary": "Support DatadirCleanup in minutes",
      "created": "2024-04-23T23:14:32.000+0000",
      "description": "On the cloud, space can be limited. Currently, the DatadirCleanup only supports hours; we should also support cleanup intervals in minutes.\r\n \r\n{code:java}\r\n2024-02-20 20:55:28,862 - WARN  [QuorumPeer[myid=5](plain=disabled)(secure=[0:0:0:0:0:0:0:0]:50512):o.a.z.s.q.Follower@131] - Exception when following the leader\r\njava.io.IOException: No space left on device\r\n    at java.base/java.io.FileOutputStream.writeBytes(Native Method)\r\n    at java.base/java.io.FileOutputStream.write(FileOutputStream.java:354)\r\n    at org.apache.zookeeper.common.AtomicFileOutputStream.write(AtomicFileOutputStream.java:72)\r\n    at java.base/sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:233)\r\n    at java.base/sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:312)\r\n    at java.base/sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:316)\r\n    at java.base/sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:153)\r\n    at java.base/java.io.OutputStreamWriter.flush(OutputStreamWriter.java:251)\r\n    at java.base/java.io.BufferedWriter.flush(BufferedWriter.java:257)\r\n    at org.apache.zookeeper.common.AtomicFileWritingIdiom.<init>(AtomicFileWritingIdiom.java:72)\r\n    at org.apache.zookeeper.common.AtomicFileWritingIdiom.<init>(AtomicFileWritingIdiom.java:54)\r\n    at org.apache.zookeeper.server.quorum.QuorumPeer.writeLongToFile(QuorumPeer.java:2229)\r\n    at org.apache.zookeeper.server.quorum.QuorumPeer.setAcceptedEpoch(QuorumPeer.java:2258)\r\n    at org.apache.zookeeper.server.quorum.Learner.registerWithLeader(Learner.java:511)\r\n    at org.apache.zookeeper.server.quorum.Follower.followLeader(Follower.java:91)\r\n    at org.apache.zookeeper.server.quorum.QuorumPeer.run(QuorumPeer.java:1551)\r\n2024-02-20 20:55:28,863 - INFO  [QuorumPeer[myid=5](plain=disabled)(secure=[0:0:0:0:0:0:0:0]:50512):o.a.z.s.q.Follower@145]{code}",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13576985/comment/17840275",
            "id": "17840275",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "body": "Would you like to contribute a patch?\r\n\r\n \r\n\r\n \r\n\r\nSide comment: this is a pretty unusual request, I have seeing many installations of ZK in the cloud on k8s and I have heard about such problem.\r\n\r\nDid you consider using a bigger disk? Running maintenance top often may impact latency.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "created": "2024-04-24T03:43:31.336+0000",
            "updated": "2024-04-24T03:43:31.336+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13576985/comment/17840507",
            "id": "17840507",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=puru",
              "name": "puru",
              "key": "puru",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Purshotam Shah",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "I'll be contributing a patch.\r\n\r\nIndeed, the problem was resolved by switching to a larger disk. The system generated many snapshots, and with the deletion interval set at one hour, the disk filled up quickly.\r\n\r\nHowever, we only needed a few snapshots. In this case, the larger disk was not necessary.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=puru",
              "name": "puru",
              "key": "puru",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Purshotam Shah",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-04-24T16:16:42.427+0000",
            "updated": "2024-04-24T16:16:42.427+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13576985/comment/17877199",
            "id": "17877199",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "Issue resolved by pull request 2178\n[https://github.com/apache/zookeeper/pull/2178]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-08-27T22:32:31.441+0000",
            "updated": "2024-08-27T22:32:31.441+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=puru",
        "name": "puru",
        "key": "puru",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Purshotam Shah",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13576683",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13576683",
    "key": "ZOOKEEPER-4828",
    "fields": {
      "summary": "Minor 3.9 broke custom TLS setup with ssl.context.supplier.class",
      "created": "2024-04-22T07:28:12.000+0000",
      "description": "We run embedded ZooKeeper in Vespa, and use a custom TLS stack, where we, e.g., do additional validation and authorisation in our TLS trust manager, for client certificates.\r\nThe changes in https://github.com/apache/zookeeper/commit/4a794276d3d371071c31f86c14da824fdd2e53c0, done for ZOOKEEPER-4622,\r\nbroke the `ssl.context.supplier.class configuration parameter`, documented in the ZK admin guide\r\n(https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_configuration).\r\nConsequently, current code (3.9.2) now enforces a file-based key and trust store for _any TLS_, which is not an option for us.\r\n\r\nI looked at two ways to fix this:\r\n1. Add new configuration parameters for _key_ and _trust_ store _suppliers_, as an alternative to the key and trust store _files_ required in the new (with 3.9.0)\r\n   ClientX509Util code—this adds another pair of config options, of which there are already plenty, and the user is stuck with\r\n   the default JDK `Provider` (optional argument to SSLContext.getInstance(protocols, provider); it also lets users with a\r\n   custom key and trust store use the native SSL support of Netty.\r\n   Oh, and, Netty provides the option to specify a JDK `Provider` in the SslContextBuilder, too, so that _could_ be made configurable as well.\r\n2. Restore the option of specifying a custom SSL context, and prefer this over using the Netty SslContextBuilder in the new\r\n   ClientX509Util code, when present—this lets users specify a JDK `Provider`, but file based key and trust stores will be required for the native SSL added in 3.9.0.\r\n\r\nI don't have a strong opinion on which option is better. I can also contribute a code change with either.\r\n\r\n ",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13576021",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13576021",
    "key": "ZOOKEEPER-4827",
    "fields": {
      "summary": "Bump bouncycastl version from 1.75 to 1.78",
      "created": "2024-04-16T11:53:45.000+0000",
      "description": "Upgrade Bouncy Castle to 1.78 to address CVEs\r\nhttps://bouncycastle.org/releasenotes.html#r1rv78\r\n\r\n- https://www.cve.org/CVERecord?id=CVE-2024-29857 (reserved)\r\n  - https://security.snyk.io/vuln/SNYK-JAVA-ORGBOUNCYCASTLE-6613079\r\n- https://www.cve.org/CVERecord?id=CVE-2024-30171 (reserved)\r\n  - https://security.snyk.io/vuln/SNYK-JAVA-ORGBOUNCYCASTLE-6613076\r\n- https://www.cve.org/CVERecord?id=CVE-2024-30172 (reserved)\r\n  - https://security.snyk.io/vuln/SNYK-JAVA-ORGBOUNCYCASTLE-6612984",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13576021/comment/17842296",
            "id": "17842296",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "master via https://github.com/apache/zookeeper/commit/6ac8edaabbb9b04529b7438ff226d19ec0e40ec9.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-04-30T08:35:18.539+0000",
            "updated": "2024-04-30T08:35:18.539+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=hezhangjian",
        "name": "hezhangjian",
        "key": "shoothzj",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Zhangjian He",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13575977",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13575977",
    "key": "ZOOKEEPER-4826",
    "fields": {
      "summary": "Reduce unnecessary executable permissions on files",
      "created": "2024-04-16T08:04:55.000+0000",
      "description": "***Summary:*** This patch aims to modify the permissions of various files within the ZooKeeper repository that currently have executable permissions set (755) but do not require such permissions for their operation. Changing these permissions to 644 enhances security and maintains the consistency of file permissions throughout the project. ***Details:*** Several non-executable files (not including scripts or executable binaries) are currently set with executable permissions. This is generally unnecessary and can lead to potential security concerns. This patch will adjust these permissions to a more appropriate setting (644), which is sufficient for reading and writing operations but does not allow execution.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=hezhangjian",
        "name": "hezhangjian",
        "key": "shoothzj",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Zhangjian He",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13575594",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13575594",
    "key": "ZOOKEEPER-4825",
    "fields": {
      "summary": "CVE-2023-6378 is present in the current logback version (1.2.13) and hence we need to upgrade to 1.4.12",
      "created": "2024-04-12T05:34:58.000+0000",
      "description": null,
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13575594/comment/17838311",
            "id": "17838311",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=neti_neti",
              "name": "neti_neti",
              "key": "JIRAUSER305031",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Vivek",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "can this be assigned to me?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=neti_neti",
              "name": "neti_neti",
              "key": "JIRAUSER305031",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "Vivek",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-04-17T17:19:36.441+0000",
            "updated": "2024-04-17T17:19:36.441+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13575594/comment/17863395",
            "id": "17863395",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "master via https://github.com/apache/zookeeper/pull/2162",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-07-05T18:15:46.916+0000",
            "updated": "2024-07-05T18:15:46.916+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13575362",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13575362",
    "key": "ZOOKEEPER-4824",
    "fields": {
      "summary": "fix CVE-2024-29025 in netty package",
      "created": "2024-04-10T14:37:48.000+0000",
      "description": "[CVE-2024-29025|https://github.com/advisories/GHSA-5jpm-x58v-624v] is the CVE for all netty-codec-http <  4.1.108.Final",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13575362/comment/17835762",
            "id": "17835762",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=nikitapande",
              "name": "nikitapande",
              "key": "JIRAUSER298527",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39938",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39938",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39938",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39938"
              },
              "displayName": "Nikita Pande",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "body": "Current version is <netty.version>4.1.105.Final</netty.version>.\r\nPlease assign this Jira to me.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=nikitapande",
              "name": "nikitapande",
              "key": "JIRAUSER298527",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39938",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39938",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39938",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39938"
              },
              "displayName": "Nikita Pande",
              "active": true,
              "timeZone": "Asia/Kolkata"
            },
            "created": "2024-04-10T14:39:14.162+0000",
            "updated": "2024-04-10T14:39:14.162+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13574540",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13574540",
    "key": "ZOOKEEPER-4823",
    "fields": {
      "summary": "Proposal: Update the wiki / design of Zab 1.0 (Phase 2) to make it more precise and practical for the implementation",
      "created": "2024-04-04T02:52:29.000+0000",
      "description": "As ZooKeeper evolves these years, its code implementation deviates the design of [Zab 1.0 (wiki)|https://cwiki.apache.org/confluence/display/ZOOKEEPER/Zab1.0] in several aspects.\r\n\r\nOne critical deviation lies in the _atomic actions_ upon a follower receives NEWLEADER (see 2.{*}f{*} in Phase 2). The protocol requires that the follower \" _*atomically*_ applies the new state and sets {*}f{*}.currentEpoch = {_}e{_}\". However, the atomicity is not guaranteed with the current code implementation. Asynchronous logging and committing by multi-threads with node crash can interrupt this process and lead to possible data loss (see {-}ZOOKEEPER-3911{-}, ZOOKEEPER-4643, ZOOKEEPER-4646, {-}ZOOKEEPER-4785{-}).\r\n\r\nOn the other hand, to implement atomicity is expensive and affecting performance. It is reasonable to adopt an implementation without requiring atomic updates in this step. It is highly recommended to update the design of Zab without requiring atomicity in Step 2.{*}f{*} and make it more precise and practical to guide the code implementation.\r\nh3. Update Step 2.{*}f{*} by removing the requirement of atomicity\r\n\r\nHere provides a possible design of Step 2.{*}f{*} in Phase 2 with the removal of atomicity requirement.\r\nh4. Phase 2: Sync with followers\r\n # *l* ...\r\n # *f* The follower syncs with the leader, but doesn't modify its state until it receives the NEWLEADER({_}e{_}) packet. Once it receives NEWLEADER({_}e{_}), -_it atomically applies the new state, and then sets f.currentEpoch = e. It then sends ACK(e << 32)._- *it executes the following actions sequentially:*\r\n\r\n * *2.1. applies the new state;*\r\n * *2.2. sets f.currentEpoch = e;*\r\n * *2.3. sends ACK(e << 32).*\r\n\r\n      3. *l* ...\r\n\r\n \r\n\r\nNote:\r\n * To ensure the correctness without requiring atomicity, the follower must persist and sync the data before it updates its currentEpoch and replies NEWLEADER ack (See the analysis in ZOOKEEPER-4643 & ZOOKEEPER-4785)\r\n\r\n * This new design conforms to the code implementation in current latest code version (ZooKeeper v3.9.2). This code version has fixed the known data loss issues that stay unresolved for a long time due to non-atomic executions in Step 2.{*}f{*} , including {-}ZOOKEEPER-3911{-}, ZOOKEEPER-4643, ZOOKEEPER-4646 & {-}ZOOKEEPER-4785{-}. (see the code fixes in [PR-2111|https://github.com/apache/zookeeper/pull/2111] & [PR-2152|https://github.com/apache/zookeeper/pull/2152]).\r\n\r\n * The correctness of this new design has been verified with the TLA+ specifications of Zab at different abstraction levels, including the [high-level protocol specification|https://github.com/AlphaCanisMajoris/zookeeper-tla-spec/blob/main/Zab_new.tla] (developed based on the original [protocol spec|https://github.com/apache/zookeeper/blob/master/zookeeper-specifications/protocol-spec/Zab.tla]) & the [multi-threading-level specification|https://github.com/AlphaCanisMajoris/zookeeper-tla-spec/blob/main/zk_pr_2152.tla] (developed based on the original [system spec.|https://github.com/apache/zookeeper/blob/master/zookeeper-specifications/system-spec/zk-3.7/ZkV3_7_0.tla] This spec is implemented by [PR-2152|https://github.com/apache/zookeeper/pull/2152], an effort to fix more known issues in Phase 2). In the verification, the TLC model checker checks whether the new design satisfies the properties given by the Zab paper. No violation is found during the checking with various configurations.\r\n\r\n \r\n\r\nWe sincerely hope that the above update of the protocol design can be presented at the wiki page, and make it guide the future code implementation better!\r\n\r\n \r\n\r\nAbout us:\r\n\r\nWe are a research team using TLA+ to verify the correctness of distributed systems.\r\n\r\nLooking forward to receiving feedback from the ZooKeeper community!",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573885",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573885",
    "key": "ZOOKEEPER-4822",
    "fields": {
      "summary": "Quorum TLS - Enable member authorization based on certificate CN",
      "created": "2024-03-29T17:19:52.000+0000",
      "description": "Quorum TLS enables mutual authentication of quorum members.\r\n\r\nMember authorization, however, cannot be configured on the basis of the presented principal CN; a round of SASL authentication has to be performed on top of the secured connection.\r\n\r\nThis ticket is about enabling authorization based on trusted client certificates.\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ztzg",
        "name": "ztzg",
        "key": "ztzg",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ztzg&avatarId=39828",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ztzg&avatarId=39828",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ztzg&avatarId=39828",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ztzg&avatarId=39828"
        },
        "displayName": "Damien Diederen",
        "active": true,
        "timeZone": "Europe/Berlin"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "ssl-tls"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573692",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573692",
    "key": "ZOOKEEPER-4821",
    "fields": {
      "summary": "ConnectRequest got NOTREADONLY ReplyHeader",
      "created": "2024-03-28T13:02:35.000+0000",
      "description": "I would expect {{ConnectRequest}} has two kinds of response in normal conditions: {{ConnectResponse}} and socket close. But if sever was configured with {{readonlymode.enabled}} but not {{localSessionsEnabled}}, then client could get {{NOTREADONLY}} in reply to {{ConnectRequest}}. I saw, at least, no handling in java client. And, I encountered this in writing tests for rust client.\r\n\r\nIt guess it is not by design. And we probably could close the socket in early phase. But also, it could be solved in client sides as {{sizeof(ConnectResponse)}} is larger than {{sizeof(ReplyHeader)}}. Then, we gain ability to carry error for {{ConnectRequest}} while {{ConnectResponse}} does not.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573558",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558",
    "key": "ZOOKEEPER-4820",
    "fields": {
      "summary": "zookeeper pom leaks logback dependency",
      "created": "2024-03-27T16:32:11.000+0000",
      "description": "Since v3.8.0\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper/3.8.0\r\n\r\nIt's fine that Zookeeper uses Logback on the server side - but users who want to access Zookeeper using client side code also add this zookeeper jar to their classpaths. When zookeeper is used as client side lib, it should ideally not expose a logback dependency - just an slf4j-api jar dependency.\r\n\r\nWould it be possible to rework the zookeper pom so that client side users don't have to explicitly exclude logback jars? Many users will have their own preferred logging framework.\r\n\r\nIs there another zookeeper client side jar that could be instead of zookeeper.jar?",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558/comment/17831484",
            "id": "17831484",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "In case anybody wants to work on this, the right way to do this in Maven is to mark the dependency optional in addition to making it runtime:\r\n{code:xml}\r\n<optional>true</optional>\r\n<scope>runtime</scope>\r\n{code}\r\nHowever, you have to be careful if you use any build automation that changing the dependency in this way doesn't cause it to be omitted from a distribution assembly, like a .tar.gz, or .zip file. This might happen if you use a maven-assembly-plugin assembly descriptor that bundles dependencies, but omits optional ones, for example. I'm not sure if the default behavior of [includeDependencies|https://maven.apache.org/plugins/maven-assembly-plugin/assembly.html] will include optional ones or not.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2024-03-27T17:39:54.263+0000",
            "updated": "2024-03-27T17:45:31.374+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558/comment/17831485",
            "id": "17831485",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=fanningpj",
              "name": "fanningpj",
              "key": "fanningpj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "PJ Fanning",
              "active": true,
              "timeZone": "Europe/Madrid"
            },
            "body": "or `<scope>provided</scope>`",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=fanningpj",
              "name": "fanningpj",
              "key": "fanningpj",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "PJ Fanning",
              "active": true,
              "timeZone": "Europe/Madrid"
            },
            "created": "2024-03-27T17:43:25.765+0000",
            "updated": "2024-03-27T17:43:25.765+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558/comment/17831487",
            "id": "17831487",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "Provided scope may achieve the same result for dependency resolution for dependent projects. However, they mean very different things. Provided means it's required, but not expected to be bundled because it is expected to be provided by the destination environment. In this case, we want the opposite: it's not required, but is expected to be bundled. However, there may be times where you need to use provided instead of using optional, because you need it to be handled in a specific way by a Maven plugin during the build, because different plugins do different things with these. For this, the correct way of doing it that communicates the relevant intent is to mark it optional and keep the scope as runtime. However, if provided is needed instead, to make a particular plugin work, you should understand that this may cause other problems downstream, and at the very least, you should add a comment in the POM explaining why provided is used instead, so the intention is clear.\r\n\r\nFor what it's worth, I think provided dependencies will be excluded by the maven-assembly-plugin, which is not what you want (but may not matter if the plugin is declared explicitly in the assembly descriptor). I'd stick with optional if it works.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2024-03-27T17:54:46.505+0000",
            "updated": "2024-03-27T17:57:19.989+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558/comment/17835538",
            "id": "17835538",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=pkarwasz",
              "name": "pkarwasz",
              "key": "pkarwasz",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "Piotr Karwasz",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "In this case I find both the {{optional}} attribute and the {{provided}} scope inappropriate for the {{zookeeper}} artifact.\r\n\r\nIf Zookeeper were to have an {{optional}} dependency on Logback, it might suggest that some part of Zookeeper uses Logback *directly*, e.g. to manage and change log levels. AFAIK it is not the case.\r\n\r\nIf Zookeeper were to have a dependency on Logback in the {{provided}} scope, I would interpret it as a strict requirement to have Logback on the runtime classpath. AFAIK any other logging backend will work as well.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=pkarwasz",
              "name": "pkarwasz",
              "key": "pkarwasz",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "Piotr Karwasz",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-04-09T21:14:58.686+0000",
            "updated": "2024-04-09T21:14:58.686+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573558/comment/17882853",
            "id": "17882853",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "Issue resolved by pull request 2155\n[https://github.com/apache/zookeeper/pull/2155]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-09-19T03:07:29.571+0000",
            "updated": "2024-09-19T03:07:29.571+0000"
          }
        ],
        "maxResults": 5,
        "total": 5,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=pkarwasz",
        "name": "pkarwasz",
        "key": "pkarwasz",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
        },
        "displayName": "Piotr Karwasz",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573337",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573337",
    "key": "ZOOKEEPER-4819",
    "fields": {
      "summary": "Can't seek for writable tls server if connected to readonly server",
      "created": "2024-03-26T12:15:19.000+0000",
      "description": "{{[ClientCnxn::pingRwServer|https://github.com/apache/zookeeper/blob/d12aba599233b0fcba0b9b945ed3d2f45d4016f0/zookeeper-server/src/main/java/org/apache/zookeeper/ClientCnxn.java#L1280]}} uses raw socket to issue \"isro\" 4lw command. This results in unsuccessful handshake to tls server.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573337/comment/17885867",
            "id": "17885867",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "[~kezhuw]  I can take a look and resolve it. Can you assign this issue to me ?\r\n\r\nIt seems we should make a socket from SSLSocketFactory with specified trustStore info when zookeeper.client.secure=true",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-09-30T11:43:01.619+0000",
            "updated": "2024-09-30T11:43:01.619+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573337/comment/17888310",
            "id": "17888310",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "body": "Hi [~kezhuw] \r\n\r\nI submit a pr to resolve it, can you take a look?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
              "name": "luoxin",
              "key": "JIRAUSER299934",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
              },
              "displayName": "luoxin",
              "active": true,
              "timeZone": "Etc/UTC"
            },
            "created": "2024-10-10T14:40:29.151+0000",
            "updated": "2024-10-10T14:40:29.151+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573337/comment/17901352",
            "id": "17901352",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "master: 75f9781ecc3cde9fa5a032fa8cfa8c79b69ef879\r\nbranch-3.9: 644dcdbc9ac2b5e4a00dcaca7de4db26e923b59f",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-11-27T01:55:21.272+0000",
            "updated": "2024-11-27T01:55:21.272+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=luoxin",
        "name": "luoxin",
        "key": "JIRAUSER299934",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "luoxin",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573249",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573249",
    "key": "ZOOKEEPER-4818",
    "fields": {
      "summary": "Export JVM heap metrics in ServerMetrics",
      "created": "2024-03-25T19:36:33.000+0000",
      "description": "A metric for JVM heap occupancy is not included in ServerMetrics.\r\n\r\nAccording to [https://zookeeper.apache.org/doc/current/zookeeperMonitor.html] the recommended practice is for someone to enable the PrometheusMetricsProvider and the Prometheus base class upon which that provider is based does export that information. See [https://zookeeper.apache.org/doc/current/zookeeperMonitor.html] . The example provided for alerting on heap utilization there is:\r\n{noformat}\r\n  - alert: JvmMemoryFillingUp\r\n    expr: jvm_memory_bytes_used / jvm_memory_bytes_max{area=\"heap\"} > 0.8\r\n    for: 5m\r\n    labels:\r\n      severity: warning\r\n    annotations:\r\n      summary: \"JVM memory filling up (instance {{ $labels.instance }})\"\r\n      description: \"JVM memory is filling up (> 80%)\\n labels: {{ $labels }}  value = {{ $value }}\\n\"\r\n{noformat}\r\nwhere {{jvm_memory_bytes_used}} and {{jvm_memory_bytes_max}} are provided by a Prometheus base class.\r\n\r\nWhere PrometheusMetricsProvider is the right choice that's good enough but where the ServerMetrics information is consumed in an alternate way, by 4-letter-word scraping, or by JMX, ServerMetrics should provide the same information. {{jvm_memory_bytes_used}} and {{jvm_memory_bytes_max}} (presuming heap) are reasonable names. An alternative could be to calculate the heap occupancy and provide that as a percentage, either an integer in the range 0 - 100 or floating point value in the range 0.0 - 1.0. \r\n\r\nThere is some precedent for exporting JVM metrics in ServerMetrics from ZOOKEEPER-3845 . ",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13573028",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13573028",
    "key": "ZOOKEEPER-4817",
    "fields": {
      "summary": "Client disconnection warning is missed in system log sometimes.",
      "created": "2024-03-23T00:16:14.000+0000",
      "description": "Recently, we encounter an confused issue. The client disconnection warning disappears in system log. However, sometimes, this message appears in system log. There is a cluster consisting of three node. A client sends many creation requests and then read the node created by the first request. The client read operation failed. We watch the system log. Sometimes, there is a client disconnection warning. Sometimes, there is not. This incomplete system log mislead client judgement on the problem.\r\n\r\nAfter investigating, when NIOServerCnxn.doIO is stuck in any IO point in this function and the stuck time exceeds 20s, the client disconnection warning will disappear. If the stuck time is less than 20s, the client disconnection warning will appear in system log. \r\n\r\nWe find that the root cause is that selectorThread is set as the daemon thread. When one node encounter the fail-slow nic, the client disconnects with the node. If the NIOServerCnxn.doIO is stuck and the stuck time exceeds 20s, the corresponding selectorThread will be killed by JVM. Hence, the client disconnection warning is missed.\r\n\r\nAttached logs(20s) contain CancelledKeyException, but logs(25) do not contain.\r\n\r\nAre there any comments to figure out this issues and improve the diagnosability of ZooKeeper？ I will very appreciate them.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573028/comment/17861097",
            "id": "17861097",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "[~kezhuw] hi, cloud you help me figure out this phenomenon?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-07-01T09:17:12.643+0000",
            "updated": "2024-07-01T09:17:12.643+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573028/comment/17885700",
            "id": "17885700",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "{quote}\r\nWe find that the root cause is that selectorThread is set as the daemon thread. When one node encounter the fail-slow nic, the client disconnects with the node. If the NIOServerCnxn.doIO is stuck and the stuck time exceeds 20s, the corresponding selectorThread will be killed by JVM. Hence, the client disconnection warning is missed.\r\n{quote}\r\n\r\nWhat did you mean by \"be killed by JVM\" ? And I am not sure, if the whole server is going to shut, how does \"CancelledKeyException\" matter ? I may mislead something.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-09-29T12:31:27.516+0000",
            "updated": "2024-09-29T12:31:27.516+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13573028/comment/17902543",
            "id": "17902543",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "I try to trace the thread of NIOServerCnxn. I found that the thread ID of NIOServerCnxn in the node2 changes when the stuck time exceeds 20s. Hence, i guess that the thread of NIOServerCnxn may be killed by JVM due to some reasons.  Additionally, the system logs show that the server is still alive. Do you have any suggestion to figure out this problem? Thanks.",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=gendong1",
              "name": "gendong1",
              "key": "JIRAUSER304604",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34055",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34055",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34055",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34055"
              },
              "displayName": "mutu",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-12-03T08:17:25.729+0000",
            "updated": "2024-12-03T08:17:25.729+0000"
          }
        ],
        "maxResults": 3,
        "total": 3,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13571895",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13571895",
    "key": "ZOOKEEPER-4816",
    "fields": {
      "summary": "A follower can not join the cluster for 30s seconds",
      "created": "2024-03-14T13:40:27.000+0000",
      "description": "We encounter a strange scenario. When we set up the cluster of zookeeper(3 nodes totally), the third node is stuck in ({*}sealStream{*}) serializing the snapshot to the local disk. However, the leader election is executed normally. After the election, the third node is elected as the leader. The other two nodes fail to connect with the leader. Hence, the first and second nodes restart the leader election, finally the second node is elected as the leader. At this time, the third node still act as the leader. There are two leaders in the cluster. The first node can not join the cluster for 30s. \r\n\r\nThe logs of the first node are as following.\r\n{code:java}\r\n2024-07-01 02:35:28,223 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:2, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:35:28,253 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.FastLeaderElection@996] - Notification time out: 12800 ms2024-07-01 02:35:28,254 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:2, n.round:0x2, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:35:28,287 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:3, n.state:LEADING, n.leader:3, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:35:28,288 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.FastLeaderElection@1205] - Oracle indicates not to follow2024-07-01 02:35:29,493 [myid:] - WARN  [NIOWorkerThread-20:o.a.z.s.NIOServerCnxn@397] - Close of session 0x0{code}\r\nDuring this procedure, the client can not connect with any nodes of the cluster.\r\n\r\nRuntime logs are attached.\r\n\r\nThe root cause is the serializing the snapshot blocks the status modification of the third node?\r\n\r\n \r\n\r\nSometimes, this phenomenon will disappears. The configuration is the same as above. The second node is stuck in sealStream due to fail-slow disk.\r\n{code:java}\r\n// node1\r\n2024-07-01 02:19:21,942 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@920] - Peer state changed: looking2024-07-01 02:19:21,943 [myid:] - WARN  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@1602] - PeerState set to LOOKING2024-07-01 02:19:21,943 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@1471] - LOOKING2024-07-01 02:19:21,943 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.FastLeaderElection@946] - New election. My id = 1, proposed zxid=0x02024-07-01 02:19:21,980 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:1, n.state:LOOKING, n.leader:1, n.round:0x2, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,012 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:3, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,026 [myid:] - INFO  [WorkerReceiver[myid=1]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,026 [myid:] - INFO  [QuorumPeer[myid=1](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@906] - Peer state changed: following {code}\r\n{code:java}\r\n// node3\r\n2024-07-01 02:19:22,780 [myid:] - INFO  [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@920] - Peer state changed: looking2024-07-01 02:19:22,780 [myid:] - WARN  [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@1602] - PeerState set to LOOKING2024-07-01 02:19:22,780 [myid:] - INFO  [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@1471] - LOOKING2024-07-01 02:19:22,781 [myid:] - INFO  [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.FastLeaderElection@946] - New election. My id = 3, proposed zxid=0x02024-07-01 02:19:22,819 [myid:] - INFO  [WorkerReceiver[myid=3]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:3, n.state:LOOKING, n.leader:3, n.round:0x2, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,838 [myid:] - INFO  [WorkerReceiver[myid=3]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:1, n.state:FOLLOWING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,849 [myid:] - INFO  [WorkerReceiver[myid=3]:o.a.z.s.q.FastLeaderElection$Messenger$WorkerReceiver@391] - Notification: my state:LOOKING; n.sid:2, n.state:LEADING, n.leader:2, n.round:0x1, n.peerEpoch:0x0, n.zxid:0x0, message format version:0x2, n.config version:0x02024-07-01 02:19:22,850 [myid:] - INFO  [QuorumPeer[myid=3](plain=0.0.0.0:2181)(secure=disabled):o.a.z.s.q.QuorumPeer@906] - Peer state changed: following {code}\r\nBut the leader election notification is strange.  Node1 follows node2 since node3 follows node2. However, Node3 follows node2 since node1 follows node2. This condition cannot stand.\r\n\r\nMoreover, this two scenarios are both stuck in sealStream. But there are different results. Is there a data race?\r\n\r\nAre there any comments to figure out this issues？ I will very appreciate them.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/2",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/critical.svg",
        "name": "Critical",
        "id": "2"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13571565",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13571565",
    "key": "ZOOKEEPER-4815",
    "fields": {
      "summary": "custom the data format of /zookeeper/config",
      "created": "2024-03-12T06:08:03.000+0000",
      "description": "When using QuorumMaj, I hope to support custom /zookeeper/config node data formats, such as\r\nserver. x=xx. xx. xx. xx: 2888:3888: observer; 0.0.0.0:2181; Group1\r\nserver. y=xx. xx. xx. xx: 2888:3888: observer; 0.0.0.0:2181; Group2",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13571158",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13571158",
    "key": "ZOOKEEPER-4814",
    "fields": {
      "summary": "Protocol desynchronization after Connect for (some) old clients",
      "created": "2024-03-07T15:08:37.000+0000",
      "description": "Some old clients experience a protocol synchronization after receiving a {{ConnectResponse}} from the server.\r\n\r\nThis started happening with ZOOKEEPER-4492, \"Merge readOnly field into ConnectRequest and Response,\" which writes overlong responses to clients which do not know about the {{readOnly}} flag.\r\n\r\n(One example of such a client is ZooKeeper's own C client library prior to version 3.5!)",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13571158/comment/17824461",
            "id": "17824461",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ztzg",
              "name": "ztzg",
              "key": "ztzg",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ztzg&avatarId=39828",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ztzg&avatarId=39828",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ztzg&avatarId=39828",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ztzg&avatarId=39828"
              },
              "displayName": "Damien Diederen",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "body": "Also related: [ClickHouse ticket, \"Incompatibility with Zookeeper 3.9\"|https://github.com/ClickHouse/ClickHouse/issues/53749] whose custom (?) client was updated by [patch \"Add support for read-only mode in ZooKeeper\"|https://github.com/ClickHouse/ClickHouse/pull/57479/files].\r\n",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ztzg",
              "name": "ztzg",
              "key": "ztzg",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ztzg&avatarId=39828",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ztzg&avatarId=39828",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ztzg&avatarId=39828",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ztzg&avatarId=39828"
              },
              "displayName": "Damien Diederen",
              "active": true,
              "timeZone": "Europe/Berlin"
            },
            "created": "2024-03-07T16:15:58.567+0000",
            "updated": "2024-03-07T16:15:58.567+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13571158/comment/17872705",
            "id": "17872705",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "master: 90f8d835e065ea12dddd8ed9ca20872a4412c78a\r\nbranch-3.9: 4d68e3e56fadbee46907213449a0fe6da302e161",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-08-11T16:15:15.025+0000",
            "updated": "2024-08-11T16:15:15.025+0000"
          }
        ],
        "maxResults": 2,
        "total": 2,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ztzg",
        "name": "ztzg",
        "key": "ztzg",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ztzg&avatarId=39828",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ztzg&avatarId=39828",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ztzg&avatarId=39828",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ztzg&avatarId=39828"
        },
        "displayName": "Damien Diederen",
        "active": true,
        "timeZone": "Europe/Berlin"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13571109",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13571109",
    "key": "ZOOKEEPER-4813",
    "fields": {
      "summary": "Make zookeeper start successfully when the last log file is dirty during the restore progress",
      "created": "2024-03-07T07:30:04.000+0000",
      "description": "When the zookeeper restarts, it will restore the data from the last valid snapshot file, and replay txn log to append data.\r\nBut if the last log file is empty due to some reason, the restore will fail, not make the zookeeper can not restart.\r\n\r\nThe logs as followings:\r\n{noformat}\r\n14:12:16.023 [main] INFO  org.apache.zookeeper.server.persistence.SnapStream - Invalid snapshot snapshot.188700025d87. len = 761554294, byte = 45\r\n14:12:16.024 [main] INFO  org.apache.zookeeper.server.persistence.FileSnap - Reading snapshot /pulsar/data/zookeeper/version-2/snapshot.188700025a05\r\n14:12:17.350 [main] INFO  org.apache.zookeeper.server.DataTree - The digest in the snapshot has digest version of 2, with zxid as 0x188700025b07, and digest value as 510776662607117\r\n14:12:17.492 [main] ERROR org.apache.zookeeper.server.quorum.QuorumPeer - Unable to load database on disk\r\njava.io.EOFException: null\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:386) ~[?:?]\r\n\tat org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96) ~[org.apache.zookeeper-zookeeper-jute-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileHeader.deserialize(FileHeader.java:67) ~[org.apache.zookeeper-zookeeper-jute-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.inStreamCreated(FileTxnLog.java:725) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.createInputArchive(FileTxnLog.java:743) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.goToNextLog(FileTxnLog.java:711) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.next(FileTxnLog.java:792) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.fastForwardFromEdits(FileTxnSnapLog.java:361) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.lambda$restore$0(FileTxnSnapLog.java:267) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.restore(FileTxnSnapLog.java:312) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.ZKDatabase.loadDataBase(ZKDatabase.java:288) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.loadDataBase(QuorumPeer.java:1149) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:1135) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:229) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:137) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.main(QuorumPeerMain.java:91) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n14:12:17.502 [main] INFO  org.apache.zookeeper.metrics.prometheus.PrometheusMetricsProvider - Shutdown executor service with timeout 1000\r\n14:12:17.508 [main] INFO  org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@2484f433{HTTP/1.1, (http/1.1)}{0.0.0.0:8000}\r\n14:12:17.510 [main] INFO  org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.s.ServletContextHandler@59a67c3a{/,null,STOPPED}\r\n14:12:17.515 [main] ERROR org.apache.zookeeper.server.quorum.QuorumPeerMain - Unexpected exception, exiting abnormally\r\njava.lang.RuntimeException: Unable to run quorum server \r\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.loadDataBase(QuorumPeer.java:1204) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.start(QuorumPeer.java:1135) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.runFromConfig(QuorumPeerMain.java:229) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.initializeAndRun(QuorumPeerMain.java:137) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeerMain.main(QuorumPeerMain.java:91) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\nCaused by: java.io.EOFException\r\n\tat java.io.DataInputStream.readInt(DataInputStream.java:386) ~[?:?]\r\n\tat org.apache.jute.BinaryInputArchive.readInt(BinaryInputArchive.java:96) ~[org.apache.zookeeper-zookeeper-jute-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileHeader.deserialize(FileHeader.java:67) ~[org.apache.zookeeper-zookeeper-jute-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.inStreamCreated(FileTxnLog.java:725) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.createInputArchive(FileTxnLog.java:743) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.goToNextLog(FileTxnLog.java:711) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnLog$FileTxnIterator.next(FileTxnLog.java:792) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.fastForwardFromEdits(FileTxnSnapLog.java:361) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.lambda$restore$0(FileTxnSnapLog.java:267) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.persistence.FileTxnSnapLog.restore(FileTxnSnapLog.java:312) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.ZKDatabase.loadDataBase(ZKDatabase.java:288) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\tat org.apache.zookeeper.server.quorum.QuorumPeer.loadDataBase(QuorumPeer.java:1149) ~[org.apache.zookeeper-zookeeper-3.9.1.jar:3.9.1]\r\n\t... 4 more\r\n\r\n{noformat}\r\n \r\n\r\nIn fact, if the last log file open failed, we can ignore the log file.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=horizonzy",
        "name": "horizonzy",
        "key": "horizonzy",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=34044",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=34044",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=34044",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=34044"
        },
        "displayName": "Yan Zhao",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13570094",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13570094",
    "key": "ZOOKEEPER-4812",
    "fields": {
      "summary": "Another reconfiguration is in progress -- concurrent reconfigs not supported (yet)",
      "created": "2024-02-28T03:50:39.000+0000",
      "description": "在使用reconfig命令增加或删除成员时提示\r\nAnother reconfiguration is in progress -- concurrent reconfigs not supported (yet)\r\n，一直无法操作集群的增减节点。\r\n\r\n\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13569778",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13569778",
    "key": "ZOOKEEPER-4811",
    "fields": {
      "summary": "When configuring the IP address of the zk server on the client side to connect to zk, the connection establishment time is high",
      "created": "2024-02-26T03:27:51.000+0000",
      "description": "When configuring the IP address of the zk server on the client side to connect to zk, the connection establishment time is high。Mainly because Obtaining the hostname of the address takes approximately 5 seconds. 3.4.6 has mechanism to safely avoid reverse DNS lookup，but 3.7 don't do that。\r\n\r\n1.What's the reasone？\r\n\r\n2.Can we modify the method StaticHostProvider/resolve() to avoid reverse DNS lookup?",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13569151",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13569151",
    "key": "ZOOKEEPER-4810",
    "fields": {
      "summary": "Fix data race in format_endpoint_info()",
      "created": "2024-02-20T07:30:42.000+0000",
      "description": null,
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13569151/comment/17985256",
            "id": "17985256",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "Issue resolved by pull request 2140\n[https://github.com/apache/zookeeper/pull/2140]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2025-06-23T07:33:42.361+0000",
            "updated": "2025-06-23T07:33:42.361+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fanyang",
        "name": "fanyang",
        "key": "fanyang",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "fanyang",
        "active": true,
        "timeZone": "Asia/Shanghai"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13569150",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13569150",
    "key": "ZOOKEEPER-4809",
    "fields": {
      "summary": "do_completion() use-after-free when log level is debug",
      "created": "2024-02-20T07:17:23.000+0000",
      "description": "{code:c}\r\nvoid *do_completion(void *v)\r\n{\r\n    zhandle_t *zh = v;\r\n    // ...\r\n    api_epilog(zh, 0);  // L1\r\n    LOG_DEBUG(LOGCALLBACK(zh), \"completion thread terminated\");  // L2\r\n    return 0;\r\n}\r\n{code}\r\n\r\nWhen the log level is debug, L2 gets the log calback after zookeeper_close(), causes uaf.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13569150/comment/17870360",
            "id": "17870360",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "master: 4e999c8708656ab18ea466607ee9859b517b680a",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-08-02T05:03:13.877+0000",
            "updated": "2024-08-02T05:03:13.877+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=fanyang",
        "name": "fanyang",
        "key": "fanyang",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "fanyang",
        "active": true,
        "timeZone": "Asia/Shanghai"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13568215",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13568215",
    "key": "ZOOKEEPER-4808",
    "fields": {
      "summary": "Fix the log statement in FastLeaderElection",
      "created": "2024-02-12T18:19:11.000+0000",
      "description": "The proposedZxid and proposedEpoch is out of order in the following debug statement.\r\n\r\n{code:java}\r\n\r\n LOG.debug(\r\n                \"Sending Notification: {} (n.leader),  0x{} (n.peerEpoch), 0x{} (n.zxid), 0x{} (n.round), {} (recipient),\"+underlined text+\r\n                    + \" {} (myid) \",\r\n                proposedLeader,\r\n                Long.toHexString(proposedZxid),\r\n                Long.toHexString(proposedEpoch),\r\n                Long.toHexString(logicalclock.get()),\r\n                sid,\r\n                self.getMyId());\r\n\r\n{code}\r\n\r\n\r\n\r\n\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=li4wang",
        "name": "li4wang",
        "key": "JIRAUSER299380",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Li Wang",
        "active": true,
        "timeZone": "America/Los_Angeles"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/5",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/trivial.svg",
        "name": "Trivial",
        "id": "5"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13568083",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13568083",
    "key": "ZOOKEEPER-4807",
    "fields": {
      "summary": "Add sid for the leader goodbyte log",
      "created": "2024-02-09T23:36:37.000+0000",
      "description": "When a follower disconnects with the leader, the leader will print the remote address.\r\n\r\nBut if the zookeeper is along with istio, the remote address is not right.\r\n\r\n2024-02-05T03:23:54,967+0000 [LearnerHandler-/127.0.0.6:56085] WARN  org.apache.zookeeper.server.quorum.LearnerHandler - ******* GOODBYE /127.0.0.6:56085 ********\r\n\r\n\r\nWe would better print the sid in the goodbye log.\r\n\r\n",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13568042",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13568042",
    "key": "ZOOKEEPER-4806",
    "fields": {
      "summary": "Commits have to be refreshed after merging",
      "created": "2024-02-09T16:38:39.000+0000",
      "description": "The following error occurs if somebody wants to cherry-pick immediately after merge:\r\n{noformat}\r\nAll checks have passed on the github.\r\nPull request #2115 merged. Sha: #18c78cd10bc02d764a46ac1659b263cf69f2671d\r\n\r\nWould you like to pick 18c78cd10bc02d764a46ac1659b263cf69f2671d into another branch? (y/n): y\r\nEnter a branch name [branch-3.9]:\r\ngit fetch apache\r\nFrom https://gitbox.apache.org/repos/asf/zookeeper\r\n   72e3d9ce9..e571dd814  master     -> apache/master\r\ngit checkout -b PR_TOOL_PICK_PR_2115_BRANCH-3.9 apache/branch-3.9\r\nSwitched to a new branch 'PR_TOOL_PICK_PR_2115_BRANCH-3.9'\r\ngit cherry-pick -sx 18c78cd10bc02d764a46ac1659b263cf69f2671d\r\nfatal: bad object 18c78cd10bc02d764a46ac1659b263cf69f2671d\r\n\r\nError cherry-picking: Command '['git', 'cherry-pick', '-sx', '18c78cd10bc02d764a46ac1659b263cf69f2671d']' returned non-zero exit status 128.{noformat}\r\nThe reason for this is, because the local git repo doesn't know about the new commit yet.\r\n\r\nWe should do a {{git fetch}} after successfully merged via GitHub.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=szucsvillo",
        "name": "szucsvillo",
        "key": "JIRAUSER294755",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39938",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39938",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39938",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39938"
        },
        "displayName": "Szucs Villo",
        "active": true,
        "timeZone": "Europe/Budapest"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567988",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567988",
    "key": "ZOOKEEPER-4805",
    "fields": {
      "summary": "Update cwiki page with latest changes",
      "created": "2024-02-09T10:23:25.000+0000",
      "description": "Update the following wiki page with latest changes and instructions how to use the script:\r\n\r\n[https://cwiki.apache.org/confluence/display/ZOOKEEPER/Merging+Github+Pull+Requests]\r\n\r\n ",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=szucsvillo",
        "name": "szucsvillo",
        "key": "JIRAUSER294755",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=39938",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=39938",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=39938",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=39938"
        },
        "displayName": "Szucs Villo",
        "active": true,
        "timeZone": "Europe/Budapest"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567851",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851",
    "key": "ZOOKEEPER-4804",
    "fields": {
      "summary": "Use daemon threads for Netty client",
      "created": "2024-02-08T07:56:56.000+0000",
      "description": "When the Netty client is used, the Java process hangs on System.exit if there is an open Zookeeper connection.\r\n\r\nThis is caused by the non-daemon threads created by Netty.\r\n\r\nExiting without closing the connection is not a good practice, but this hang does not happen with the NIO client, and I think ZK should behave the same regardless of the client implementation used.\r\n\r\nThe Netty ThreadFactory implementation is configurable, it shouldn't be too hard make sure that daemon threads are created.\r\n",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17815563",
            "id": "17815563",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "FYI [~andor].",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-02-08T07:57:20.380+0000",
            "updated": "2024-02-08T07:57:20.380+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17815569",
            "id": "17815569",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "body": "would you like to send a PR ?",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=eolivelli",
              "name": "eolivelli",
              "key": "eolivelli",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10450",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10450",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10450",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10450"
              },
              "displayName": "Enrico Olivelli",
              "active": true,
              "timeZone": "Europe/Rome"
            },
            "created": "2024-02-08T08:22:38.592+0000",
            "updated": "2024-02-08T08:22:38.592+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17815593",
            "id": "17815593",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "I don't have the time right now.\r\nMaybe in a few weeks, but if anyone feels like doing this, don't wait for me.\r\n",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-02-08T09:43:32.749+0000",
            "updated": "2024-02-08T09:43:32.749+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17819679",
            "id": "17819679",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "I have uploaded a PR with the fix [~eolivelli].",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-02-22T14:53:24.153+0000",
            "updated": "2024-02-22T14:53:24.153+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17824903",
            "id": "17824903",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "body": "master via 803c485db99134d8f41c2ea90ca9305e6b806d52",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=tison",
              "name": "tison",
              "key": "tison",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=tison&avatarId=37193",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=tison&avatarId=37193",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=tison&avatarId=37193",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=tison&avatarId=37193"
              },
              "displayName": "Zili Chen",
              "active": true,
              "timeZone": "Asia/Shanghai"
            },
            "created": "2024-03-09T05:32:07.655+0000",
            "updated": "2024-03-09T05:32:07.655+0000"
          },
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567851/comment/17829215",
            "id": "17829215",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "I think this is important enopugh to be backported to all active branches.\r\nFYI [~andor]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
              "name": "stoty",
              "key": "stoty",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
              },
              "displayName": "Istvan Toth",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-03-20T15:44:02.879+0000",
            "updated": "2024-03-20T15:44:02.879+0000"
          }
        ],
        "maxResults": 6,
        "total": 6,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=stoty",
        "name": "stoty",
        "key": "stoty",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=stoty&avatarId=42544",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=stoty&avatarId=42544",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=stoty&avatarId=42544",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=stoty&avatarId=42544"
        },
        "displayName": "Istvan Toth",
        "active": true,
        "timeZone": "Europe/Budapest"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/6",
        "description": "The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/closed.png",
        "name": "Closed",
        "id": "6",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567841",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567841",
    "key": "ZOOKEEPER-4803",
    "fields": {
      "summary": "Flaky test: QuorumPeerMainTest.testLeaderOutOfView",
      "created": "2024-02-08T07:26:30.000+0000",
      "description": "{code:java}\r\n[2024-02-08T02:01:19.039Z] [INFO] \r\n[2024-02-08T02:01:19.039Z] [INFO] Results:\r\n[2024-02-08T02:01:19.039Z] [INFO] \r\n[2024-02-08T02:01:19.039Z] [ERROR] Failures: \r\n[2024-02-08T02:01:19.039Z] [ERROR]   QuorumPeerMainTest.testLeaderOutOfView:881 expected: <LOOKING> but was: <FOLLOWING>\r\n[2024-02-08T02:01:19.039Z] [INFO] \r\n[2024-02-08T02:01:19.039Z] [ERROR] Tests run: 3116, Failures: 1, Errors: 0, Skipped: 4\r\n[2024-02-08T02:01:19.039Z] [INFO] \r\n[2024-02-08T02:01:19.039Z] [INFO] ------------------------------------------------------------------------\r\n[2024-02-08T02:01:19.039Z] [INFO] Reactor Summary for Apache ZooKeeper 3.10.0-SNAPSHOT: {code}\r\nLink: https://ci-hadoop.apache.org/blue/organizations/jenkins/zookeeper-precommit-github-pr/detail/PR-2043/4/pipeline",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567728",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567728",
    "key": "ZOOKEEPER-4802",
    "fields": {
      "summary": "Flaky test:RestoreQuorumTest.testRestoreAfterQuorumLost",
      "created": "2024-02-07T10:47:32.000+0000",
      "description": "{code:java}\r\n[INFO] Running org.apache.zookeeper.server.admin.RestoreQuorumTest\r\n836[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 3.489 s <<< FAILURE! - in org.apache.zookeeper.server.admin.RestoreQuorumTest\r\n837[ERROR] testRestoreAfterQuorumLost  Time elapsed: 3.344 s  <<< ERROR!\r\n838java.net.ConnectException: Connection refused (Connection refused)\r\n839\tat java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n840\tat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n841\tat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n842\tat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n843\tat java.base/java.net.Socket.connect(Socket.java:609)\r\n844\tat java.base/java.net.Socket.connect(Socket.java:558)\r\n845\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:527)\r\n846\tat org.apache.zookeeper.server.admin.SnapshotAndRestoreCommandTest.takeSnapshotAndValidate(SnapshotAndRestoreCommandTest.java:413)\r\n847\tat org.apache.zookeeper.server.admin.RestoreQuorumTest.testRestoreAfterQuorumLost(RestoreQuorumTest.java:56)\r\n848\r\n849[INFO] Running org.apache.zookeeper.server.admin.CommandResponseTest {code}\r\nLink: https://github.com/apache/zookeeper/actions/runs/7812662872/job/21310154983",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567728/comment/17872778",
            "id": "17872778",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "body": "Another case.\r\n\r\nhttps://ci-hadoop.apache.org/blue/organizations/jenkins/zookeeper-precommit-github-pr/detail/PR-2105/5/pipeline/#step-35-log-911\r\n\r\n{noformat}\r\n[2024-08-12T02:47:02.580Z] java.net.ConnectException: Connection refused (Connection refused)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.Socket.connect(Socket.java:607)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.Socket.connect(Socket.java:556)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat org.apache.zookeeper.server.admin.SnapshotAndRestoreCommandTest.takeSnapshotAndValidate(SnapshotAndRestoreCommandTest.java:413)\r\n\r\n[2024-08-12T02:47:02.580Z] \tat org.apache.zookeeper.server.admin.RestoreQuorumTest.testRestoreAfterQuorumLost(RestoreQuorumTest.java:56)\r\n{noformat}",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=kezhuw",
              "name": "kezhuw",
              "key": "kezhuw",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=kezhuw&avatarId=37929",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=kezhuw&avatarId=37929",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=kezhuw&avatarId=37929",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=kezhuw&avatarId=37929"
              },
              "displayName": "Kezhu Wang",
              "active": true,
              "timeZone": "Etc/GMT-8"
            },
            "created": "2024-08-12T06:29:38.924+0000",
            "updated": "2024-08-12T06:29:38.924+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567704",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567704",
    "key": "ZOOKEEPER-4801",
    "fields": {
      "summary": "Add memory size limitation policy for ZkDataBase#committedLog",
      "created": "2024-02-07T08:34:50.000+0000",
      "description": "The ZkDataBase support commit log count to limit the memory, which is not precise, some request payloads may be huge, it will cost lots of heap memory.\r\nSo support payload size limitation will be better.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567530",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567530",
    "key": "ZOOKEEPER-4800",
    "fields": {
      "summary": "Flaky test:ReconfigRollingRestartCompatibilityTest.testRollingRestartWithExtendedMembershipConfig",
      "created": "2024-02-06T07:08:10.000+0000",
      "description": "Link: https://github.com/apache/zookeeper/actions/runs/7781886238/job/21217202024?pr=1932\r\n{code:java}\r\n[ERROR] Failures: \r\n1023[ERROR]   ReconfigRollingRestartCompatibilityTest.testRollingRestartWithExtendedMembershipConfig:263 waiting for server 2 being up ==> expected: <true> but was: <false>\r\n1024[INFO] \r\n1025[ERROR] Tests run: 3114, Failures: 1, Errors: 0, Skipped: 4\r\n1026[INFO] \r\n1027[INFO] ------------------------------------------------------------------------ {code}",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13567042",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13567042",
    "key": "ZOOKEEPER-4799",
    "fields": {
      "summary": "Refactor ACL check in addWatch command",
      "created": "2024-02-01T13:44:46.000+0000",
      "description": null,
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13567042/comment/17827235",
            "id": "17827235",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "body": "This is the fix for [CVE-2024-23944|https://www.cve.org/CVERecord?id=CVE-2024-23944]",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=andor",
              "name": "andor",
              "key": "andorm",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=andorm&avatarId=32935",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=andorm&avatarId=32935",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=andorm&avatarId=32935",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=andorm&avatarId=32935"
              },
              "displayName": "Andor Molnar",
              "active": true,
              "timeZone": "Europe/Budapest"
            },
            "created": "2024-03-14T20:04:22.409+0000",
            "updated": "2024-03-14T20:04:22.409+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=ztzg",
        "name": "ztzg",
        "key": "ztzg",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ztzg&avatarId=39828",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ztzg&avatarId=39828",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ztzg&avatarId=39828",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ztzg&avatarId=39828"
        },
        "displayName": "Damien Diederen",
        "active": true,
        "timeZone": "Europe/Berlin"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "CVE-2024-23944",
        "security"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13566606",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13566606",
    "key": "ZOOKEEPER-4798",
    "fields": {
      "summary": "Secure prometheus support",
      "created": "2024-01-30T00:28:25.000+0000",
      "description": "The current implementation uses HTTP. However, many companies, especially those on the cloud, require HTTPS.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": {
        "self": "https://issues.apache.org/jira/rest/api/2/user?username=puru",
        "name": "puru",
        "key": "puru",
        "avatarUrls": {
          "48x48": "https://issues.apache.org/jira/secure/useravatar?avatarId=10452",
          "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&avatarId=10452",
          "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&avatarId=10452",
          "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&avatarId=10452"
        },
        "displayName": "Purshotam Shah",
        "active": true,
        "timeZone": "Etc/UTC"
      },
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/5",
        "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/resolved.png",
        "name": "Resolved",
        "id": "5",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/3",
          "id": 3,
          "key": "done",
          "colorName": "green",
          "name": "Done"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13566605",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13566605",
    "key": "ZOOKEEPER-4797",
    "fields": {
      "summary": "Allow for -XX:MaxRAMPercentage JVM setting",
      "created": "2024-01-30T00:27:53.000+0000",
      "description": "When running Zk in a containerized environment, it's sometimes desirable to express your heap size in terms of percentage of available memory allocated to a container.\r\n\r\nAs it stands, zkEnv.sh forces your to have  -Xmx, which defaults to 1GB. Some environments wanted to set it to more, mostly related to the amount of Ram.\r\n\r\nThis is a request to implement the option of using -XX:MaxRamPercentage option when starting zookeeper.\r\n\r\nSuggested implementation is to also make a variable ZK_SERVER_MAXRAMPERCENTAGE available to be added to SERVER_JVMFLAGS. If the variable is set, ZK_HEAP_SERVER is ignored, if no ZK_SERVER_MAXRAMPERCENTAGE, ZK_SERVER_HEAP is set as usual.",
      "comment": {
        "comments": [
          {
            "self": "https://issues.apache.org/jira/rest/api/2/issue/13566605/comment/17812352",
            "id": "17812352",
            "author": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "body": "I don't see this property as particularly special over other JVM flags. The only thing that makes Xmx special is how common it is. The percentage option is not nearly as common. It doesn't make sense to add an option for every little thing users might set. Instead, it'd be better to make it simple and easy for users to set anything they want. Also, there's value in keeping this config file simple, so it can be easily edited by anybody who needs to do something unique, rather than bake in complexity to handle a variety of scenarios.\r\n\r\nSee my suggestion in https://github.com/apache/zookeeper/pull/2120#pullrequestreview-1851494424",
            "updateAuthor": {
              "self": "https://issues.apache.org/jira/rest/api/2/user?username=ctubbsii",
              "name": "ctubbsii",
              "key": "ctubbsii",
              "avatarUrls": {
                "48x48": "https://issues.apache.org/jira/secure/useravatar?ownerId=ctubbsii&avatarId=15840",
                "24x24": "https://issues.apache.org/jira/secure/useravatar?size=small&ownerId=ctubbsii&avatarId=15840",
                "16x16": "https://issues.apache.org/jira/secure/useravatar?size=xsmall&ownerId=ctubbsii&avatarId=15840",
                "32x32": "https://issues.apache.org/jira/secure/useravatar?size=medium&ownerId=ctubbsii&avatarId=15840"
              },
              "displayName": "Christopher Tubbs",
              "active": true,
              "timeZone": "America/New_York"
            },
            "created": "2024-01-30T14:54:04.493+0000",
            "updated": "2024-01-30T14:54:04.493+0000"
          }
        ],
        "maxResults": 1,
        "total": 1,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/3",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/major.svg",
        "name": "Major",
        "id": "3"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  },
  {
    "expand": "operations,versionedRepresentations,editmeta,changelog,renderedFields",
    "id": "13566508",
    "self": "https://issues.apache.org/jira/rest/api/2/issue/13566508",
    "key": "ZOOKEEPER-4796",
    "fields": {
      "summary": "Requests submitted first may carry a larger xid resulting in ZRUNTIMEINCONSISTENCY",
      "created": "2024-01-29T12:01:30.000+0000",
      "description": "When multiple threads attempt to submit requests, it's possible for a request from a thread that acquired its xid earlier to be inserted after a request from a thread that acquired its xid later in the submission queue, which causes a ZRUNTIMEINCONSISTENCY error.\r\n\r\nTo fix it, acquires the lock before get_xid() and releases it after request submission.",
      "comment": {
        "comments": [],
        "maxResults": 0,
        "total": 0,
        "startAt": 0
      },
      "assignee": null,
      "priority": {
        "self": "https://issues.apache.org/jira/rest/api/2/priority/4",
        "iconUrl": "https://issues.apache.org/jira/images/icons/priorities/minor.svg",
        "name": "Minor",
        "id": "4"
      },
      "labels": [
        "pull-request-available"
      ],
      "status": {
        "self": "https://issues.apache.org/jira/rest/api/2/status/1",
        "description": "The issue is open and ready for the assignee to start work on it.",
        "iconUrl": "https://issues.apache.org/jira/images/icons/statuses/open.png",
        "name": "Open",
        "id": "1",
        "statusCategory": {
          "self": "https://issues.apache.org/jira/rest/api/2/statuscategory/2",
          "id": 2,
          "key": "new",
          "colorName": "blue-gray",
          "name": "To Do"
        }
      }
    }
  }
]